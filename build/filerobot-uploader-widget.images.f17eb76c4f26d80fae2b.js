(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{367:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var _ in r)Object.prototype.hasOwnProperty.call(r,_)&&(e[_]=r[_])}return e},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var _=t[r];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(e,_.key,_)}}return function(t,r,_){return r&&e(t.prototype,r),_&&e(t,_),t}}(),a=r(1),o=C(a),i=C(r(131)),l=r(127),s=r(61),u=r(125),c=C(r(679)),h=C(r(680)),p=C(r(673)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(670)),g=r(62),f=r(127),T=r(689),E=r(676),R=r(39);function C(e){return e&&e.__esModule?e:{default:e}}function A(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var O=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onChangeColorFilter=function(){return e.__onChangeColorFilter__REACT_HOT_LOADER__.apply(e,arguments)},e.onRemoveColorFilter=function(){return e.__onRemoveColorFilter__REACT_HOT_LOADER__.apply(e,arguments)},e.addColorFilter=function(){return e.__addColorFilter__REACT_HOT_LOADER__.apply(e,arguments)},e.handleClose=function(){return e.__handleClose__REACT_HOT_LOADER__.apply(e,arguments)},e.handleChange=function(){return e.__handleChange__REACT_HOT_LOADER__.apply(e,arguments)},e.getImageGridWrapperWidth=function(){return e.__getImageGridWrapperWidth__REACT_HOT_LOADER__.apply(e,arguments)},e.getImageGridWrapperHeight=function(){return e.__getImageGridWrapperHeight__REACT_HOT_LOADER__.apply(e,arguments)},e.updateImageGridColumnWidth=function(){return e.__updateImageGridColumnWidth__REACT_HOT_LOADER__.apply(e,arguments)},e.uploadStart=function(){return e.__uploadStart__REACT_HOT_LOADER__.apply(e,arguments)},e.uploadStop=function(){return e.__uploadStop__REACT_HOT_LOADER__.apply(e,arguments)},e.upload=function(){return e.__upload__REACT_HOT_LOADER__.apply(e,arguments)},e.onChangeSearchPhrase=function(){return e.__onChangeSearchPhrase__REACT_HOT_LOADER__.apply(e,arguments)},e.search=function(){return e.__search__REACT_HOT_LOADER__.apply(e,arguments)},e.onShowMoreImages=function(){return e.__onShowMoreImages__REACT_HOT_LOADER__.apply(e,arguments)},e.onSearch=function(){return e.__onSearch__REACT_HOT_LOADER__.apply(e,arguments)},e.loadIcons=function(){return e.__loadIcons__REACT_HOT_LOADER__.apply(e,arguments)},e.toggleTag=function(){return e.__toggleTag__REACT_HOT_LOADER__.apply(e,arguments)},e.getRelevantActiveTags=function(){return e.__getRelevantActiveTags__REACT_HOT_LOADER__.apply(e,arguments)},e.onActivatePresetTag=function(){return e.__onActivatePresetTag__REACT_HOT_LOADER__.apply(e,arguments)},e.renderSidebar=function(){return e.__renderSidebar__REACT_HOT_LOADER__.apply(e,arguments)},e.renderItem=function(){return e.__renderItem__REACT_HOT_LOADER__.apply(e,arguments)},e.onKeyDown=function(){return e.__onKeyDown__REACT_HOT_LOADER__.apply(e,arguments)},e.renderContent=function(){return e.__renderContent__REACT_HOT_LOADER__.apply(e,arguments)},e.state={isLoading:!1,imageGridWrapperWidth:0,imageContainerHeight:0,imageGrid:{columnWidth:0,gutterSize:10,minColumnWidth:200},isSearching:!1,searchPhrase:"",activePresetTag:"",activeTags:{},isBackground:!0,activeColorFilters:[],defaultColor:"#00ff00",displayColorPicker:!1,activeColorFilterIndex:null,isShowMoreImages:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n(t,[{key:"__renderContent__REACT_HOT_LOADER__",value:function(){return this.__renderContent__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__onKeyDown__REACT_HOT_LOADER__",value:function(){return this.__onKeyDown__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__renderItem__REACT_HOT_LOADER__",value:function(){return this.__renderItem__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__renderSidebar__REACT_HOT_LOADER__",value:function(){return this.__renderSidebar__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__onActivatePresetTag__REACT_HOT_LOADER__",value:function(){return this.__onActivatePresetTag__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__getRelevantActiveTags__REACT_HOT_LOADER__",value:function(){return this.__getRelevantActiveTags__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__toggleTag__REACT_HOT_LOADER__",value:function(){return this.__toggleTag__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__loadIcons__REACT_HOT_LOADER__",value:function(){return this.__loadIcons__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__onSearch__REACT_HOT_LOADER__",value:function(){return this.__onSearch__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__onShowMoreImages__REACT_HOT_LOADER__",value:function(){return this.__onShowMoreImages__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__search__REACT_HOT_LOADER__",value:function(){return this.__search__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__onChangeSearchPhrase__REACT_HOT_LOADER__",value:function(){return this.__onChangeSearchPhrase__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__upload__REACT_HOT_LOADER__",value:function(){return this.__upload__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__uploadStop__REACT_HOT_LOADER__",value:function(){return this.__uploadStop__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__uploadStart__REACT_HOT_LOADER__",value:function(){return this.__uploadStart__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__updateImageGridColumnWidth__REACT_HOT_LOADER__",value:function(){return this.__updateImageGridColumnWidth__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__getImageGridWrapperHeight__REACT_HOT_LOADER__",value:function(){return this.__getImageGridWrapperHeight__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__getImageGridWrapperWidth__REACT_HOT_LOADER__",value:function(){return this.__getImageGridWrapperWidth__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__handleChange__REACT_HOT_LOADER__",value:function(){return this.__handleChange__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__handleClose__REACT_HOT_LOADER__",value:function(){return this.__handleClose__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__addColorFilter__REACT_HOT_LOADER__",value:function(){return this.__addColorFilter__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__onRemoveColorFilter__REACT_HOT_LOADER__",value:function(){return this.__onRemoveColorFilter__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__onChangeColorFilter__REACT_HOT_LOADER__",value:function(){return this.__onChangeColorFilter__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"componentDidMount",value:function(){this.props.onGetImagesTags(),this.props.onGetBackgrounds(),this.updateImageGridColumnWidth()}},{key:"componentDidUpdate",value:function(e,t){this.imageGridWrapperRef&&this.getImageGridWrapperWidth()!==t.imageGridWrapperWidth&&this.updateImageGridColumnWidth()}},{key:"__onChangeColorFilter__REACT_HOT_LOADER__",value:function(e){this.setState({displayColorPicker:!0,activeColorFilterIndex:e})}},{key:"__onRemoveColorFilter__REACT_HOT_LOADER__",value:function(e){var t=this,r=this.state.activeColorFilters;this.setState({activeColorFilters:[].concat(A(r.slice(0,e)),A(r.slice(e+1)))}),setTimeout(function(){var e=t.state,r=e.activeColorFilters,_=e.searchPhrase,n=e.activePresetTag,a=_||n||"";t.search({value:a,colorFilters:r},!1)})}},{key:"__addColorFilter__REACT_HOT_LOADER__",value:function(){var e=this.state.activeColorFilters;e.push({value:this.state.defaultColor}),this.setState({displayColorPicker:!this.state.displayColorPicker,activeColorFilters:e,activeColorFilterIndex:e.length-1})}},{key:"__handleClose__REACT_HOT_LOADER__",value:function(){var e=this;this.setState({displayColorPicker:!1,activeColorFilterIndex:null}),setTimeout(function(){var t=e.state,r=t.activeColorFilters,_=t.searchPhrase,n=t.activePresetTag,a=_||n||"";e.search({value:a,colorFilters:r},!1)})}},{key:"__handleChange__REACT_HOT_LOADER__",value:function(e){var t=this.state,r=t.activeColorFilters;r[t.activeColorFilterIndex].value=e.hex,this.setState({activeColorFilters:r})}},{key:"__getImageGridWrapperWidth__REACT_HOT_LOADER__",value:function(){return Math.floor(this.imageGridWrapperRef.getBoundingClientRect().width-20)}},{key:"__getImageGridWrapperHeight__REACT_HOT_LOADER__",value:function(){return this.imageGridWrapperRef.getBoundingClientRect().height}},{key:"__updateImageGridColumnWidth__REACT_HOT_LOADER__",value:function(){var e=this.state.imageGrid,t=e.minColumnWidth,r=e.gutterSize,_=this.getImageGridWrapperWidth(),n=this.getImageGridWrapperHeight();e.columnWidth=d.getActualColumnWidth(_,t,r),this.setState({imageGridWrapperWidth:_,imageGrid:e,imageContainerHeight:n})}},{key:"__uploadStart__REACT_HOT_LOADER__",value:function(){return this.setState({isLoading:!0})}},{key:"__uploadStop__REACT_HOT_LOADER__",value:function(){return this.setState({isLoading:!1})}},{key:"__upload__REACT_HOT_LOADER__",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.state.isLoading){this.setState({isLoading:!0}),this.uploadStart();var r=this.props;this.props.onFileUpload(t.src,this.props.uploaderConfig).then(function(t){if(e.uploadStop(),e.props.uploaderConfig.tagging.active)return e.props.saveUploadedFiles(t),void e.props.setPostUpload(!0,"TAGGING","IMAGES_GALLERY");r.uploaderConfig.uploadHandler(t),e.props.onClose&&e.props.onClose(),r.modalClose()}).catch(function(){e.uploadStop()})}}},{key:"__onChangeSearchPhrase__REACT_HOT_LOADER__",value:function(e){var t=e.target;this.setState({searchPhrase:t.value})}},{key:"__search__REACT_HOT_LOADER__",value:function(e,t,r){var _=e.value,n=void 0===_?"":_,a=e.colorFilters,o=e.offset,i=void 0===o?0:o,l=this,s=this,u=this.props.related_tags,c=t?{}:this.state.activeTags,h=this.getRelevantActiveTags(c,u);this.setState({isSearching:!0,activeTags:c,relevantActiveTags:h});if(n||a.length)return this.loadIcons({value:n,colorFilters:a,offset:i},h,function(e){var t=e.payload,_=(void 0===t?{}:t).images;(void 0===_?[]:_).length||l.props.showAlert(R.I18n.t("images.zero_images_was_found"),"","warning"),s.setState({isSearching:!1}),"function"==typeof r&&r()})}},{key:"__onShowMoreImages__REACT_HOT_LOADER__",value:function(e){if(!this.state.isShowMoreImages){var t=this.props,r=t.searchParams;return t.count>r.offset+100?(r.offset=r.offset+100,this.onSearch(r.offset,e)):void 0}}},{key:"__onSearch__REACT_HOT_LOADER__",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];if(this.state.searchPhrase||this.state.activePresetTag)return this.setState({activePresetTag:this.state.searchPhrase?null:this.state.activePresetTag}),this.search({value:(this.state.searchPhrase||this.state.activePresetTag||"").toLowerCase(),colorFilters:this.state.activeColorFilters,offset:e},!0,t)}},{key:"__loadIcons__REACT_HOT_LOADER__",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,r=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this.props.uploaderConfig,o=a.openpixKey,i=function(e){"function"==typeof n&&n(e),t.setState({isLoading:!1,isShowMoreImages:!1})};return e.limit=a.limit,this.setState({isLoading:!e.offset,isShowMoreImages:e.offset}),this.props.onSearchImages(_({},e,{openpixKey:o}),r).then(i,i)}},{key:"__toggleTag__REACT_HOT_LOADER__",value:function(e){var t=this,r=this.state,_=r.activeTags,n=r.activeColorFilters,a=this.state,o=a.activePresetTag,i=a.searchPhrase;"backgrounds"===o&&(o="",i="backgrounds");var l=(i||o||"").toLowerCase();_[e]=!_[e],this.setState({activeTags:_,searchPhrase:i,activePresetTag:o}),setTimeout(function(){t.search({value:l,colorFilters:n})})}},{key:"__getRelevantActiveTags__REACT_HOT_LOADER__",value:function(e,t){var r=[],_=function(_){e[_]&&t.find(function(e){return e.tag===_})&&e.hasOwnProperty(_)&&r.push(_)};for(var n in e)_(n);return r}},{key:"__onActivatePresetTag__REACT_HOT_LOADER__",value:function(e){var t=this.state.activeColorFilters;this.setState({activePresetTag:e,searchPhrase:""}),this.search({value:e,colorFilters:t},!0)}},{key:"render",value:function(){var e=this.state,t=e.isLoading,r=e.displayColorPicker,_=e.activeColorFilters[e.activeColorFilterIndex]||{};return o.default.createElement(u.TabWrap,null,this.renderSidebar(),this.renderContent(),r&&o.default.createElement(u.SketchPickerWrapper,null,o.default.createElement(u.SketchPickerOverlay,{onClick:this.handleClose}),o.default.createElement(T.SketchPicker,{color:_.value,onChange:this.handleChange}),o.default.createElement(u.ApplyColorBtn,{sm:!0,themeColor:!0,onClick:this.handleClose,style:{zIndex:5555,position:"relative"}},R.I18n.t("upload.apply"))),o.default.createElement(g.Spinner,{overlay:!0,show:t}))}},{key:"__renderSidebar__REACT_HOT_LOADER__",value:function(){var e=this,t=this.state,r=t.activePresetTag,_=t.activeColorFilters,n=void 0===_?[]:_,a=this.props,i=a.tags,l=a.backgrounds;return o.default.createElement(u.SidebarWrap,null,o.default.createElement(u.SideBar,null,o.default.createElement(u.Label,{fs:"16px",color:"black"},R.I18n.t("images.color_filter")),o.default.createElement("div",{style:{margin:"0 10px"}},n.map(function(t,r){return o.default.createElement(u.ColorFilterItem,{index:r,key:"colorFilter-"+r,color:t.value,onChangeColorFilter:e.onChangeColorFilter,onRemoveColorFilter:e.onRemoveColorFilter})})),o.default.createElement("div",{style:{padding:"5px 10px 12px"}},o.default.createElement(u.AddColorBtn,{onClick:this.addColorFilter,onKeyDown:function(t){13===t.keyCode&&e.addColorFilter()},tabIndex:0,role:"button"},"+ ",R.I18n.t("images.add_color"))),o.default.createElement(u.Label,{fs:"16px",color:"black"},R.I18n.t("upload.categories")),i.length&&o.default.createElement(u.ColorItem,{key:"category-background",active:"backgrounds"===r,onClick:function(){e.onActivatePresetTag("backgrounds")},tabIndex:0,role:"button"},o.default.createElement(u.ColorItemName,null,R.I18n.t("images.backgrounds")," "),o.default.createElement(u.CountTag,null,"(",l.length,")")),i.slice(0,20).map(function(t,r){return e.renderItem(t,r)}),i.length?null:o.default.createElement(g.Spinner,{black:!0,show:!0,style:{fontSize:8,top:10,opacity:.4}})))}},{key:"__renderItem__REACT_HOT_LOADER__",value:function(e,t){var r=this,_=e.tag,n=e.label,a=e.count,i=this.state.activePresetTag;return o.default.createElement(u.ColorItem,{key:"category-"+_,active:_===i,onClick:function(){r.onActivatePresetTag(_)},onKeyDown:function(e){13===e.keyCode&&r.onActivatePresetTag(_)},tabIndex:0,role:"button"},o.default.createElement(u.ColorItemName,null,n||_.replace(/_/g," ").trim()),o.default.createElement(u.CountTag,null,"(",a,")"))}},{key:"__onKeyDown__REACT_HOT_LOADER__",value:function(e,t){13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.upload(t))}},{key:"__renderContent__REACT_HOT_LOADER__",value:function(){var e=this,t=this.props,r=t.related_tags,n=t.images,a=t.backgrounds,i=t.count,l=this.state,s=l.imageGrid,g=l.imageContainerHeight,f=l.isLoading,T=l.isSearching,C=l.searchPhrase,O=l.activeTags,y=l.activePresetTag,v=l.imageGridWrapperWidth,m=l.isShowMoreImages,L=s.columnWidth,H=s.gutterSize,D="backgrounds"===y?[].concat(A(a),A(n)):n;return o.default.createElement(u.ImageContainer,null,o.default.createElement(c.default,{title:R.I18n.t("images.you_can_search_images_here"),items:n,isLoading:f,onSearch:function(){e.onSearch()},isSearching:T,searchPhrase:C,onChangeSearchPhrase:this.onChangeSearchPhrase,count:i}),o.default.createElement(h.default,{tagsList:r,searchPhrase:C,activeTags:O,toggleTag:this.toggleTag}),o.default.createElement(u.ImagesListContainer,{innerRef:function(t){return e.imageGridWrapperRef=t}},D.length&&g&&L&&!f?o.default.createElement(E.Aux,null,o.default.createElement(p.default,{imageGridWrapperWidth:v,imageContainerHeight:g,columnWidth:L,gutterSize:H,count:D.length,list:D,upload:this.upload,onShowMoreImages:this.onShowMoreImages,isShowMoreImages:m,cellContent:function(t){var r=t.style,n=t.columnWidth,a=t.item,i=t.index;return o.default.createElement(u.ImageWrapper,{style:_({},r,{width:n}),onClick:function(){e.upload(a)},tabIndex:i,onKeyDown:function(t){e.onKeyDown(t,a)}},o.default.createElement(u.Img,{height:n/(a.ratio||1.6),src:d.getCropImageUrl(a.src,n,n/(a.ratio||1.6))}))}}),o.default.createElement(u.ShowMoreResultsSpinner,{show:m})):null))}}]),t}(),y=(0,s.connect)(function(e){var t=e.uploader,r=t.backgrounds,_=t.uploaderConfig,n=e.images;return{backgrounds:r,uploaderConfig:_,images:n.images,related_tags:n.related_tags,tags:n.tags,count:n.count,searchParams:n.searchParams}},{onGetImagesTags:function(){return function(e){return e((0,f.getImagesTags)())}},onFileUpload:function(e,t){return function(r){return r((0,l.uploadFilesFromUrls)([e],t))}},onGetBackgrounds:function(){return function(e){return e((0,l.getBackgrounds)())}},onSearchImages:function(e,t){return function(r){return r((0,f.fetchImages)(e,t))}},modalClose:l.modalClose})((0,i.default)(O));t.default=y;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(O,"ImagesTab","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/ImagesTab/ImagesTab.js"),__REACT_HOT_LOADER__.register(y,"default","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/ImagesTab/ImagesTab.js"))},670:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=t.getColumnCount=function(e,t,r){return Math.floor((e+r)/(t+r))},n=t.getColumnWidth=function(e,t,r){return(e-(t-1)*r)/t},a=t.getActualColumnWidth=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=_(e,t,r);return n(e,a,r)},o=t.getResizeImageUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return"https://scaleflex.cloudimg.io/width/"+Math.round(t)+"/s/"+e},i=t.getFitResizeImageUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return"https://scaleflex.cloudimg.io/fit/"+Math.round(t)+"x"+Math.round(r)+"/ffffff/"+e},l=t.getCropImageUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return"https://scaleflex.cloudimg.io/crop/"+Math.round(t)+"x"+Math.round(r)+"/s/"+e};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(_,"getColumnCount","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/imageGrid.service.js"),__REACT_HOT_LOADER__.register(n,"getColumnWidth","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/imageGrid.service.js"),__REACT_HOT_LOADER__.register(a,"getActualColumnWidth","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/imageGrid.service.js"),__REACT_HOT_LOADER__.register(o,"getResizeImageUrl","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/imageGrid.service.js"),__REACT_HOT_LOADER__.register(i,"getFitResizeImageUrl","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/imageGrid.service.js"),__REACT_HOT_LOADER__.register(l,"getCropImageUrl","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/imageGrid.service.js"))},673:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var _=t[r];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(e,_.key,_)}}return function(t,r,_){return r&&e(t.prototype,r),_&&e(t,_),t}}(),n=l(r(1)),a=r(682),o=r(672),i=l(r(670));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r._calculateColumnCount=function(){return r.___calculateColumnCount__REACT_HOT_LOADER__.apply(r,arguments)},r._cellRenderer=function(){return r.___cellRenderer__REACT_HOT_LOADER__.apply(r,arguments)},r._initCellPositioner=function(){return r.___initCellPositioner__REACT_HOT_LOADER__.apply(r,arguments)},r._onResize=function(){return r.___onResize__REACT_HOT_LOADER__.apply(r,arguments)},r._renderAutoSizer=function(){return r.___renderAutoSizer__REACT_HOT_LOADER__.apply(r,arguments)},r.onScroll=function(){return r.__onScroll__REACT_HOT_LOADER__.apply(r,arguments)},r._renderMasonry=function(){return r.___renderMasonry__REACT_HOT_LOADER__.apply(r,arguments)},r._resetCellPositioner=function(){return r.___resetCellPositioner__REACT_HOT_LOADER__.apply(r,arguments)},r._setMasonryRef=function(){return r.___setMasonryRef__REACT_HOT_LOADER__.apply(r,arguments)},r._columnWidth=e.columnWidth||200,r._gutterSize=e.gutterSize||10,r._columnCount=0,r._cache=new a.CellMeasurerCache({defaultHeight:e.imageContainerHeight||300,defaultWidth:r._columnWidth,fixedWidth:!1}),r.state={columnWidth:r._columnWidth,height:e.imageContainerHeight||300,gutterSize:r._gutterSize,overscanByPixels:0,windowScrollerEnabled:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.PureComponent),_(t,[{key:"___setMasonryRef__REACT_HOT_LOADER__",value:function(){return this.___setMasonryRef__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"___resetCellPositioner__REACT_HOT_LOADER__",value:function(){return this.___resetCellPositioner__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"___renderMasonry__REACT_HOT_LOADER__",value:function(){return this.___renderMasonry__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"__onScroll__REACT_HOT_LOADER__",value:function(){return this.__onScroll__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"___renderAutoSizer__REACT_HOT_LOADER__",value:function(){return this.___renderAutoSizer__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"___onResize__REACT_HOT_LOADER__",value:function(){return this.___onResize__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"___initCellPositioner__REACT_HOT_LOADER__",value:function(){return this.___initCellPositioner__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"___cellRenderer__REACT_HOT_LOADER__",value:function(){return this.___cellRenderer__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"___calculateColumnCount__REACT_HOT_LOADER__",value:function(){return this.___calculateColumnCount__REACT_HOT_LOADER__.apply(this,arguments)}},{key:"render",value:function(){var e=this.state,t=e.overscanByPixels,r=e.windowScrollerEnabled,_=e.height;return r?n.createElement(a.WindowScroller,{overscanByPixels:t},this._renderAutoSizer):this._renderAutoSizer({height:_})}},{key:"___calculateColumnCount__REACT_HOT_LOADER__",value:function(){var e=this.state,t=e.columnWidth,r=e.gutterSize;this._columnCount=i.getColumnCount(this._width,t,r)}},{key:"___cellRenderer__REACT_HOT_LOADER__",value:function(e){var t=e.index,r=e.key,_=e.parent,o=e.style,i=this.props,l=i.list,s=i.cellContent,u=this.state.columnWidth,c=l[t];return n.createElement(a.CellMeasurer,{cache:this._cache,index:t,key:r,parent:_},s({style:o,columnWidth:u,item:c,index:t,key:r}))}},{key:"___initCellPositioner__REACT_HOT_LOADER__",value:function(){if(void 0===this._cellPositioner){var e=this.state,t=e.columnWidth,r=e.gutterSize;this._cellPositioner=(0,o.createCellPositioner)({cellMeasurerCache:this._cache,columnCount:this._columnCount,columnWidth:t,spacer:r})}}},{key:"___onResize__REACT_HOT_LOADER__",value:function(e){var t=e.width;t&&(this._width=t),this._calculateColumnCount(),this._resetCellPositioner(),this._setMasonryRef.recomputeCellPositions()}},{key:"___renderAutoSizer__REACT_HOT_LOADER__",value:function(e){var t=this,r=e.height,_=e.scrollTop;this._height=r,this._scrollTop=_;var o=this.state.overscanByPixels;return n.createElement(a.AutoSizer,{ref:function(e){return t.child=e},disableHeight:!0,height:r,onResize:this._onResize,overscanByPixels:o,scrollTop:this._scrollTop},this._renderMasonry)}},{key:"__onScroll__REACT_HOT_LOADER__",value:function(e){var t=e.clientHeight,r=e.scrollHeight,_=e.scrollTop,n=this,a=this.props,o=a.isShowMoreImages;a.onShowMoreImages&&t+_+600>=r&&!o&&this.props.onShowMoreImages(function(){var e=document.querySelector("div.resize-triggers").parentNode;"9px"===e.style.paddingLeft?e.style.paddingLeft="10px":e.style.paddingLeft="9px","9px"===e.style.paddingRight?e.style.paddingRight="10px":e.style.paddingRight="9px",n.child._onResize()})}},{key:"___renderMasonry__REACT_HOT_LOADER__",value:function(e){var t=this,r=e.width;this._width=r,this._calculateColumnCount(),this._initCellPositioner();var _=this.props.count,o=this.state,i=o.height,l=o.overscanByPixels,s=o.windowScrollerEnabled;return n.createElement(a.Masonry,{autoHeight:s,cellCount:_,cellMeasurerCache:this._cache,cellPositioner:this._cellPositioner,cellRenderer:this._cellRenderer,height:s?this._height:i,overscanByPixels:l,ref:function(e){return t._setMasonryRef=e},scrollTop:this._scrollTop,width:r,onScroll:this.onScroll,tabIndex:-1})}},{key:"___resetCellPositioner__REACT_HOT_LOADER__",value:function(){var e=this.state,t=e.columnWidth,r=e.gutterSize;this._cellPositioner.reset({columnCount:this._columnCount,columnWidth:t,spacer:r})}},{key:"___setMasonryRef__REACT_HOT_LOADER__",value:function(e){this._masonry=e}}]),t}(),u=s;t.default=u;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"ReactVirtualizedImagesGrid","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/VirtualizedImagesGrid.js"),__REACT_HOT_LOADER__.register(u,"default","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/VirtualizedImagesGrid.js"))},676:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _=t.Aux=function(e){return e.children};"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(_,"Aux","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/hoc.js")},679:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _,n=function(){function e(e,t){for(var r=0;r<t.length;r++){var _=t[r];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(e,_.key,_)}}return function(t,r,_){return r&&e(t.prototype,r),_&&e(t,_),t}}(),a=r(1),o=(_=a)&&_.__esModule?_:{default:_},i=r(342),l=r(125),s=r(61),u=r(39);var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.searchField&&e.searchField.focus&&e.searchField.focus()})}},{key:"componentWillReceiveProps",value:function(e){!e.isLoading&&e.isLoading!==this.props.isLoading&&this.searchField&&this.searchField.focus&&this.searchField.focus()}},{key:"render",value:function(){var e=this,t=this.props,r=t.items,_=t.isSearching,n=t.searchPhrase,a=t.onSearch,s=t.onChangeSearchPhrase,c=t.title,h=t.count,p=void 0===h?0:h,d=!r||!r.length;return o.default.createElement(l.SearchWrapper,{empty:d&&!_},o.default.createElement(l.SearchTitle,{show:d&&!_},c),o.default.createElement(l.SearchGroup,null,o.default.createElement(l.InputSearch,{type:"search",innerRef:function(t){return e.searchField=t},autoFocus:!0,value:n,onChange:s,onKeyDown:function(e){(0,i.isEnterClick)(e)&&a()}}),o.default.createElement(l.ButtonSearch,{className:"ae-btn",onClick:a},u.I18n.t("upload.search"))),o.default.createElement(l.AmountIcons,{empty:d},u.I18n.t("upload.found"),": ",p))}}]),t}(),h=(0,s.connect)(null,null)(c);t.default=h;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"SearchBar","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/SearchBar.js"),__REACT_HOT_LOADER__.register(h,"default","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/SearchBar.js"))},680:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var _,n=r(1),a=(_=n)&&_.__esModule?_:{default:_},o=r(125);var i=function(e){var t=e.tagsList,r=e.searchPhrase,_=e.activeTags,n=e.toggleTag;return t.length>0?a.default.createElement(o.TagsWrapper,null,t.filter(function(e){return e.tag&&!e.tag.includes("sf-")}).map(function(e){return a.default.createElement(o.Tag,{hide:r.includes(e.tag),key:e.tag,active:_[e.tag],onClick:function(){n(e.tag)}},e.tag,a.default.createElement(o.CloseIcon,{active:_[e.tag]}))})):null},l=i;t.default=l;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"IconTags","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconTags.js"),__REACT_HOT_LOADER__.register(l,"default","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconTags.js"))}}]);