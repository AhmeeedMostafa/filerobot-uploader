(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{568:function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),a=o(21),i=o(27);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d=function(e){function t(){var e,o,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=this,o=!(r=(e=l(t)).call.apply(e,[this].concat(i)))||"object"!==c(r)&&"function"!=typeof r?u(n):r,f(u(o),"state",{isHover:!1}),o}var o,i,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n["Component"]),o=t,(i=[{key:"hoverToggle",value:function(e,t){this.setState(f({},e,t))}},{key:"render",value:function(){var e=this.props,t=e.icon,o=e.onIconClick,n=(e.upload,e.addTag),i=e.isShowAddTagBtn,c=e.isShowNotRelevantBtn,s=e.setAsNotRelevant,l=e.onLoadImage,u=e.columnWidth,p=e.index,f=this.state.isHover,d=void 0!==f&&f,g=Math.floor(u);return r.a.createElement(a.y,{onClick:function(){o(t)},onKeyDown:function(e){13===e.keyCode&&o(t)},role:"button",onMouseOver:this.hoverToggle.bind(this,"isHover",!0),onMouseLeave:this.hoverToggle.bind(this,"isHover",!1),tabIndex:p},r.a.createElement(a.u,{isShow:d},r.a.createElement(a.a,null,i&&r.a.createElement(a.c,{tabIndex:-1,sm:!0,themeColor:!0,onClick:function(e){n(e,t)}},"+"),c&&r.a.createElement(a.P,{tabIndex:-1,sm:!0,danger:!0,onClick:function(e){s(e,t)}},"x"))),r.a.createElement(a.B,{width:g,height:g},r.a.createElement(a.v,{isHover:d,src:t.src,alt:t.desc,onLoad:function(e){var o=e.target;return l(o,t)}})))}}])&&s(o.prototype,i),d&&s(o,d),t}(),g=d,h=g,_=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(d,"IconItem","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconItem.js"),__REACT_HOT_LOADER__.register(g,"default","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconItem.js")),o(6));function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=[{tag:"sf-social",label:"Social",count:"23"},{tag:"arrows",label:"Arrows",count:"5414"},{tag:"audio",label:"Audio & Video",count:"2716"},{tag:"date",label:"Date & Time",count:"1523"},{tag:"currency",label:"Currency",count:"3531"},{tag:"business",label:"Business",count:"8882"}],O=function(e){function t(){var e,o,n,i,c,s,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,p=new Array(u),f=0;f<u;f++)p[f]=arguments[f];return n=this,i=(e=v(t)).call.apply(e,[this].concat(p)),o=!i||"object"!==m(i)&&"function"!=typeof i?b(n):i,c=b(o),l=function(e){var t=e.tag,n=e.label,i=e.count,c=o.props,s=c.activePresetTag,l=c.onActivatePresetTag;return r.a.createElement(a.k,{key:"category-".concat(t),active:t===s,onClick:function(){l(t)},onKeyDown:function(e){13===e.keyCode&&l(t)},tabIndex:0,role:"button"},r.a.createElement(a.l,null,n||t.replace(/_/g," ").trim()),r.a.createElement(a.p,null,"(",i,")"))},(s="renderTag")in c?Object.defineProperty(c,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):c[s]=l,o}var o,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,n["Component"]),o=t,(i=[{key:"render",value:function(){var e=this,t=this.props,o=t.toggleColorType,n=t.activeColorType;return r.a.createElement(a.ab,null,r.a.createElement(a.Z,{id:"airstore-uploader-tags-box"},r.a.createElement(a.L,{fs:"16px"},_.I18n.t("icons.color_filter")),r.a.createElement(a.m,null,r.a.createElement(a.k,{key:"all-color-wrapper",active:"all"===n,onClick:function(){o("all")},onKeyDown:function(e){13===e.keyCode&&o("all")},tabIndex:0,role:"button"},r.a.createElement(a.l,null,_.I18n.t("icons.all"))),r.a.createElement(a.k,{active:"multi"===n,key:"multi-color-wrapper",onClick:function(){o("multi")},onKeyDown:function(e){13===e.keyCode&&o("multi")},tabIndex:0,role:"button"},r.a.createElement(a.l,null,_.I18n.t("icons.multi_color"))),r.a.createElement(a.k,{active:"mono"===n,key:"mono-color-wrapper",onClick:function(){o("mono")},onKeyDown:function(e){13===e.keyCode&&o("mono")},tabIndex:0,role:"button"},r.a.createElement(a.l,null,_.I18n.t("icons.mono_color")))),r.a.createElement(a.L,{fs:"16px",color:"black"},_.I18n.t("upload.categories")),C&&C.sort(function(e,t){return e.tag>t.tag?1:-1}).map(function(t){return e.renderTag(t)})))}}])&&y(o.prototype,i),c&&y(o,c),t}(),E=O,S=E,w=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(C,"tags","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconSidebar.js"),__REACT_HOT_LOADER__.register(O,"IconSidebar","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconSidebar.js"),__REACT_HOT_LOADER__.register(E,"default","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconSidebar.js")),o(590)),A=o(591),j=o(586),R=o(5),I=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},P=("undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(I,"guid","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/helper.service.js"),o(603));function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var W=function(e){function t(){var e,o,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=this,r=(e=H(t)).call.apply(e,[this].concat(i)),o=!r||"object"!==L(r)&&"function"!=typeof r?M(n):r,D(M(o),"state",{activeColor:"#000000",isLoading:!0,displayColorPicker:!1}),D(M(o),"setColor",function(e){o.setState({activeColor:e,isLoading:!0})}),D(M(o),"onApply",function(){(0,o.props.upload)({src:o.getIconUrl(300)})}),D(M(o),"getIconUrl",function(e){var t=o.state.activeColor,n=o.props.activeIconSrc,r="tpng.transparentwhite.level".concat(t.replace("#",""));return"https://scaleflex.cloudimg.io/width/".concat(e,"/").concat(r,"/").concat(n,"&v=").concat(I())}),D(M(o),"onLoad",function(){o.setState({isLoading:!1})}),D(M(o),"handleClick",function(){o.setState({displayColorPicker:!o.state.displayColorPicker})}),D(M(o),"handleChange",function(e){o.setState({activeColor:e.hex,isLoading:!0})}),D(M(o),"onOutsideClick",function(){o.setState({displayColorPicker:!1}),o.props.onClose()}),o}var o,c,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,n["Component"]),o=t,(c=[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e._buttonSearch&&e._buttonSearch.focus&&e._buttonSearch.focus()})}},{key:"shouldComponentUpdate",value:function(e,t){return t.activeColor!==this.state.activeColor||t.isLoading!==this.state.isLoading||t.displayColorPicker!==this.state.displayColorPicker}},{key:"render",value:function(){var e=this,t=this.props.themeColors,o=this.state,n=o.isLoading,c=o.displayColorPicker,s=o.activeColor;return r.a.createElement(j.a,null,r.a.createElement(a.Q,{isShow:!0,onClick:function(){e.onOutsideClick()}}),r.a.createElement(a.N,{isShow:!0,displayColorPicker:c},r.a.createElement(a.X,null,r.a.createElement(a.W,{src:this.getIconUrl(140),onLoad:this.onLoad}),r.a.createElement(i.a,{overlay:!0,show:n,style:{fontSize:10}})),r.a.createElement(a.M,null,r.a.createElement(a.L,null,_.I18n.t("icons.customize_your_icon")),r.a.createElement(a.n,null,R.a.map(function(t,o){return r.a.createElement(a.j,{onClick:function(){e.setColor(t)},onKeyDown:function(o){13===o.keyCode&&e.setColor(t)},bgColor:t,key:"color-".concat(o),tabIndex:1e4,role:"button"})}),r.a.createElement(a.j,{onClick:this.handleClick,onKeyDown:function(t){13===t.keyCode&&e.handleClick()},bgColor:"transparent",bgImage:"//example.api.airstore.io/v1/get/a842b7b1-ae10-5e27-8838-fbc7796305fb",tabIndex:1e4,role:"button"})),t&&r.a.createElement(a.hb,null,r.a.createElement(a.L,{mr:"5px",p:"0px"},_.I18n.t("icons.theme_colors"),":"),r.a.createElement(a.j,{onClick:function(){e.setColor(t.primary)},bgColor:t.primary}),r.a.createElement(a.j,{onClick:function(){e.setColor(t.secondary)},bgColor:t.secondary})),r.a.createElement(a.g,{innerRef:function(t){return e._buttonSearch=t},fullBr:"4px",onClick:this.onApply,tabIndex:10001},_.I18n.t("upload.apply"))),c?r.a.createElement("div",{style:{position:"absolute",zIndex:"4",top:0,right:-230}},r.a.createElement(P.SketchPicker,{color:s,onChange:this.handleChange})):null))}}])&&k(o.prototype,c),s&&k(o,s),t}(),U=W,G=U,z=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(W,"IconMonoColorSettings","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconMonoColorSettings.js"),__REACT_HOT_LOADER__.register(U,"default","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconMonoColorSettings.js")),o(124)),B=o.n(z),N="https://www.openpix.net/v3/icons",F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"json";return new Promise(function(a,i){B()({url:e,method:t,data:o,responseType:r,headers:n,timeout:3e4}).then(function(o){var n=o.data,r=void 0===n?{}:n,c=r.status;"success"===(void 0===c?"error":c)?(a(r),"get"===t.toLowerCase()&&sessionStorage.setItem(e,JSON.stringify(r))):i(o)},function(e){var t=e.data;i(void 0===t?{}:t)})})},K=function(){return F("".concat(N,"tags")).then(function(e){var t=e.tags;return void 0===t?[]:t})},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=e.typeQuery,n=e.offset,r=e.openpixKey,a=e.value.trim().split(" "),i="&q[]=".concat(a.map(function(e){return e.trim()}).join("&q[]=")),c=t.map(function(e){return"&q[]=".concat(e)}).join(""),s="&key=".concat(r),l="&offset=".concat(n);return F("".concat(N,"?").concat(i).concat(c).concat(o).concat("&limit=250").concat(l).concat(s)).then(function(e){var t=e.icons,o=void 0===t?[]:t,n=e.count;return{icons:o||[],count:void 0===n?0:n,related_tags:e.related_tags}})},Q=function(e,t){return F("".concat(N,"retag?uid=").concat(e,"&op=ADD&tag=").concat(t))},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0,n=e.value.trim().split(" "),r="&q[]=".concat(n.map(function(e){return e.trim()}).join("&q[]=")),a=t.map(function(e){return"&q[]=".concat(e)}).join("");return F("".concat(N,"improve/relevancy?").concat(r).concat(a,"&uid=").concat(o))},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=e.value.trim().split(" "),a="q[]=".concat(r.map(function(e){return e.trim()}).join("&q[]=")),i=t.map(function(e){return"&q[]=".concat(e)}).join(""),c="".concat(a).concat(i,"&chosen_uid=").concat(o,"&shown_icons_uid[]=").concat(n.map(function(e){return e.uid}).join("&shown_icons_uid[]="));return F("".concat(N,"improve/selection"),"POST",c,{},"application/x-www-form-urlencoded")};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(N,"api_endpoint","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/iconsApi.service.js"),__REACT_HOT_LOADER__.register(F,"_send","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/iconsApi.service.js"),__REACT_HOT_LOADER__.register(K,"getTags","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/iconsApi.service.js"),__REACT_HOT_LOADER__.register(q,"searchIcons","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/iconsApi.service.js"),__REACT_HOT_LOADER__.register(Q,"addTag","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/iconsApi.service.js"),__REACT_HOT_LOADER__.register(V,"setAsNotRelevant","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/iconsApi.service.js"),__REACT_HOT_LOADER__.register(J,"sendSelectionData","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/iconsApi.service.js"));function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var oe=function(e){function t(){var e,o,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=this,r=(e=Z(t)).call.apply(e,[this].concat(i)),o=!r||"object"!==Y(r)&&"function"!=typeof r?$(n):r,te($(o),"state",{tagName:""}),te($(o),"onAddTag",function(){var e=o.props,t=e.activeIcon,n=e.onClose,r=e.showAlert,a=o.state.tagName;Q(t.uid,a).then(function(){r(_.I18n.t("icons.new_tag_successfully_added")),n()})}),o}var o,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(t,n["Component"]),o=t,(i=[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e._input&&e._input.focus&&e._input.focus()})}},{key:"render",value:function(){var e=this,t=this.props.onClose,o=this.state.tagName;return r.a.createElement(j.a,null,r.a.createElement(a.Q,{isShow:!0,onClick:t}),r.a.createElement(a.N,{isShow:!0},r.a.createElement(a.w,null,r.a.createElement(a.L,{color:"black",nb:!0},"Would you like to add tag?"),r.a.createElement(a.J,{innerRef:function(t){return e._input=t},defaultValue:o,onKeyDown:function(t){13===t.keyCode&&e.onAddTag()},onChange:function(t){var o=t.target;e.setState({tagName:o.value})}}),r.a.createElement(a.g,{fullBr:"4px",onClick:this.onAddTag},"Add tag"))))}}])&&X(o.prototype,i),c&&X(o,c),t}(),ne=oe,re=ne,ae=("undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(oe,"IconAddTagModal","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconAddTagModal.js"),__REACT_HOT_LOADER__.register(ne,"default","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconAddTagModal.js")),o(577)),ie=o(582),ce=o(122);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function ue(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function pe(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){me(e,t,o[t])})}return e}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=[],n=!0,r=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(o.push(i.value),!t||o.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return o}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function de(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var ye=[{slug:"custom-famous",cat:"Famous"},{slug:"custom-search",cat:"Search",count:0}],ve=function(e){function t(){var e,o,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=this,r=(e=ge(t)).call.apply(e,[this].concat(i)),o=!r||"object"!==se(r)&&"function"!=typeof r?he(n):r,me(he(o),"state",{isLoading:!1,isSearching:!1,activeColorType:"all",isShowMonoIconSettings:!1,isShowIconAddTagModal:!1,searchPhrase:"",activePresetTag:"",imageGridWrapperWidth:0,imageContainerHeight:0,imageGrid:{columnWidth:0,gutterSize:4,minColumnWidth:R.b},isShowMoreImages:!1,activeTags:{},active:{slug:"custom-search",icons:[],related_tags:[]},tags:[].concat(ye)}),me(he(o),"loadedIcons",[]),me(he(o),"uploadStart",function(){return o.setState({isLoading:!0})}),me(he(o),"uploadStop",function(){return o.setState({isLoading:!1})}),me(he(o),"getImageGridWrapperWidth",function(){return Math.floor(o.imageGridWrapperRef.getBoundingClientRect().width-20)}),me(he(o),"getImageGridWrapperHeight",function(){return o.imageGridWrapperRef.getBoundingClientRect().height}),me(he(o),"updateImageGridColumnWidth",function(){var e=o.state.imageGrid,t=e.minColumnWidth,n=e.gutterSize,r=o.getImageGridWrapperWidth(),a=o.getImageGridWrapperHeight();e.columnWidth=ae.a(r,t,n),o.setState({imageGridWrapperWidth:r,imageGrid:e,imageContainerHeight:a})}),me(he(o),"upload",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o.uploadStart();var t=o.state,n=t.relevantActiveTags,r=t.searchPhrase,a=t.activePresetTag;J({value:r||a||""},n,e.uid,o.loadedIcons);var i=o.props;ce.f([e.src],o.props.appState.config,"application/json").then(function(e){var t=fe(e,3),n=t[0],r=t[1],a=t[2];if(o.uploadStop(),(a||r)&&o.props.showAlert("",_.I18n.t("upload.file_already_exists"),"info"),o.props.appState.config.tagging.active)return o.props.saveUploadedFiles(n),void o.props.setPostUpload(!0,"TAGGING","ICONS_GALLERY");i.appState.config.uploadHandler(n,{stage:"upload"}),i.closeModal()}).catch(function(){o.uploadStop()})}),me(he(o),"addTag",function(e,t){e.stopPropagation(),o.setState({isShowIconAddTagModal:!0,activeIcon:t})}),me(he(o),"search",function(e,t,n){var r=e.value,a=void 0===r?"":r,i=e.type,c=e.offset,s=void 0===c?0:c,l=o.state.active,u=l.related_tags,p=t?{}:o.state.activeTags,f=o.getRelevantActiveTags(p,u),d=o.props.appState.config.openpixKey,g=!s,h={value:a,type:i,offset:s};switch(o.setState({isSearching:!0,activeTags:p,relevantActiveTags:f,isLoading:!h.offset,isShowMoreImages:h.offset}),h.type){case"all":h.typeQuery="&style[]=FLAT&style[]=MONOCOLOR";break;case"multi":h.typeQuery="&style[]=FLAT";break;case"mono":h.typeQuery="&style[]=MONOCOLOR"}h.value&&(q(pe({},h,{openpixKey:d}),f).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.count,r=void 0===t?0:t,c=e.icons,s=void 0===c?[]:c,u=e.related_tags,p=void 0===u?[]:u,d=e.searchParams,h=void 0===d?{}:d;s.length||!f.length?(s.length||o.props.showAlert(_.I18n.t("icons.zero_icons_was_found"),"","warning"),o.setState({isSearching:!1,active:{icons:g?[l.icons].concat(ue(s)):s,related_tags:p},count:r,searchParams:h,isLoading:!1,isShowMoreImages:!1}),"function"==typeof n&&n()):o.search({value:a,type:i},!0)}).catch(function(){o.setState({isLoading:!1,isShowMoreImages:!1})}),o.loadedIcons=[])}),me(he(o),"onSearch",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;(o.state.searchPhrase||o.state.activePresetTag)&&(o.setState({activePresetTag:o.state.searchPhrase?null:o.state.activePresetTag}),o.search({value:(o.state.searchPhrase||o.state.activePresetTag||"").toLowerCase(),type:o.state.activeColorType,offset:e},!0,t))}),me(he(o),"onShowMoreImages",function(e){if(!o.state.isShowMoreImages){var t=o.state,n=t.searchParams;return t.count>n.offset+250?(n.offset=n.offset+250,o.onSearch(n.offset,e)):void 0}}),me(he(o),"getRelevantActiveTags",function(e,t){var o=[],n=function(n){e[n]&&t.find(function(e){return e.tag===n})&&e.hasOwnProperty(n)&&o.push(n)};for(var r in e)n(r);return o}),me(he(o),"toggleColorType",function(e){o.setState({activeColorType:e});var t=(o.state.searchPhrase||o.state.activePresetTag||"").toLowerCase();t&&o.search({value:t,type:e})}),me(he(o),"toggleTag",function(e){var t=o.state,n=t.activeTags,r=t.activeColorType,a=t.searchPhrase,i=t.activePresetTag,c=(a||i||"").toLowerCase();n[e]=!n[e],o.setState({activeTags:n}),setTimeout(function(){o.search({value:c,type:r})})}),me(he(o),"onIconClick",function(e){"MONOCOLOR"===e.style?o.setState({activeIcon:e,activeIconSrc:e.src,isShowMonoIconSettings:!0}):o.upload(e)}),me(he(o),"onChangeSearchPhrase",function(e){var t=e.target;o.setState({searchPhrase:t.value})}),me(he(o),"onActivatePresetTag",function(e){var t=o.state.activeColorType;o.setState({activePresetTag:e,searchPhrase:""}),o.search({value:e,type:t},!0)}),me(he(o),"setAsNotRelevant",function(e,t){var n=o.props.showAlert,r=o.state,a=r.searchPhrase,i=r.activeTags,c=r.activePresetTag,s=r.active,l=o.getRelevantActiveTags(i,s.related_tags);e.stopPropagation(),V({value:a||c||""},l,t.uid),n(_.I18n.t("icons.set_icon_as_not_relevant"),"","info")}),me(he(o),"onLoadImage",function(e,t){o.loadedIcons.push(t)}),o}var o,c,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(t,n["Component"]),o=t,(c=[{key:"componentDidMount",value:function(){var e=this;K().then(function(t){e.setState({tags:[].concat(ye,ue(t))},e.updateImageGridColumnWidth)})}},{key:"componentDidUpdate",value:function(e,t){this.imageGridWrapperRef&&this.getImageGridWrapperWidth()!==t.imageGridWrapperWidth&&this.updateImageGridColumnWidth()}},{key:"render",value:function(){var e=this,t=this.state,o=t.tags,n=t.active,c=void 0===n?{}:n,s=t.count,l=this.props,u=l.appState,p=l.showAlert,f=l.themeColors,d=u.isShowAddTagBtn,g=u.isShowNotRelevantBtn,m=this.state,y=m.isLoading,v=m.isSearching,b=m.activeTags,T=m.isShowMonoIconSettings,C=m.activeIconSrc,O=m.searchPhrase,E=m.activeColorType,j=m.isShowIconAddTagModal,R=m.activeIcon,I=m.activePresetTag,P=m.imageGridWrapperWidth,L=m.imageContainerHeight,k=m.imageGrid,H=m.isShowMoreImages,M=k.columnWidth,x=k.gutterSize;return r.a.createElement(a.A,null,r.a.createElement(S,le({activePresetTag:I,activeColorType:E,tags:o,active:c},{onActivatePresetTag:this.onActivatePresetTag,toggleColorType:this.toggleColorType})),r.a.createElement(a.z,null,r.a.createElement(w.a,le({isLoading:y,isSearching:v,searchPhrase:O,count:s},{title:_.I18n.t("icons.you_can_search_icons_here"),items:c.icons,onSearch:this.onSearch,onChangeSearchPhrase:this.onChangeSearchPhrase})),r.a.createElement(A.a,le({searchPhrase:O,activeTags:b},{tagsList:c.related_tags,toggleTag:this.toggleTag})),T&&r.a.createElement(G,le({themeColors:f,activeIconSrc:C},{upload:this.upload,onClose:function(){e.setState({isShowMonoIconSettings:!1})}})),j&&r.a.createElement(re,le({isShowIconAddTagModal:j,activeIcon:R,showAlert:p,activeIconSrc:C,isShowMonoIconSettings:T},{upload:this.upload,onClose:function(){e.setState({isShowIconAddTagModal:!1})}})),r.a.createElement(a.C,{innerRef:function(t){return e.imageGridWrapperRef=t},id:"airstore-uploader-icons-box"},c.icons.length&&!y&&M?r.a.createElement(ie.a,le({imageGridWrapperWidth:P,imageContainerHeight:L,columnWidth:M,gutterSize:x,isShowMoreImages:H},{count:c.icons.length,list:c.icons,upload:this.upload,ratio:1,customPositionHandler:!0,onShowMoreImages:this.onShowMoreImages,cellContent:function(t){var o=t.style,n=t.columnWidth,i=t.item,c=t.index;return r.a.createElement(a.x,{style:pe({},o,{width:Math.floor(n)})},r.a.createElement(h,le({index:c,isShowAddTagBtn:d,isShowNotRelevantBtn:g},{columnWidth:Math.floor(n),icon:i,onIconClick:e.onIconClick,upload:e.upload,addTag:e.addTag,setAsNotRelevant:e.setAsNotRelevant,onLoadImage:e.onLoadImage})))}})):null,r.a.createElement(a.Y,{show:H&&c.icons.length})),r.a.createElement(i.a,{overlay:!0,show:y})))}}])&&de(o.prototype,c),s&&de(o,s),t}(),be=ve;t.default=be,"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(ye,"defaultTags","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconTab.js"),__REACT_HOT_LOADER__.register(ve,"IconTab","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconTab.js"),__REACT_HOT_LOADER__.register(be,"default","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconTab.js"))},577:function(e,t,o){"use strict";o.d(t,"b",function(){return n}),o.d(t,"a",function(){return a}),o.d(t,"d",function(){return c}),o.d(t,"c",function(){return s});var n=function(e,t,o){return Math.floor((e+o)/(t+o))},r=function(e,t,o){return(e-(t-1)*o)/t},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=n(e,t,o);return r(e,a,o)},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return"https://scaleflex.cloudimg.io/width/".concat(Math.round(t),"/s/").concat(e)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return"https://scaleflex.cloudimg.io/fit/".concat(Math.round(t),"x").concat(Math.round(o),"/ffffff/").concat(e)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;return"https://scaleflex.cloudimg.io/crop/".concat(Math.round(t),"x").concat(Math.round(o),"/s/").concat(e)};"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(n,"getColumnCount","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/imageGrid.service.js"),__REACT_HOT_LOADER__.register(r,"getColumnWidth","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/imageGrid.service.js"),__REACT_HOT_LOADER__.register(a,"getActualColumnWidth","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/imageGrid.service.js"),__REACT_HOT_LOADER__.register(i,"getResizeImageUrl","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/imageGrid.service.js"),__REACT_HOT_LOADER__.register(c,"getFitResizeImageUrl","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/imageGrid.service.js"),__REACT_HOT_LOADER__.register(s,"getCropImageUrl","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/services/imageGrid.service.js"))},582:function(e,t,o){"use strict";var n=o(0),r=o(596),a=o(581),i=o(577);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var d=function(e){function t(e){var o,s,p;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s=this,p=l(t).call(this,e),o=!p||"object"!==c(p)&&"function"!=typeof p?u(s):p,f(u(o),"_calculateColumnCount",function(){var e=o.state,t=e.columnWidth,n=e.gutterSize;o._columnCount=i.b(o._width,t,n)}),f(u(o),"_cellRenderer",function(e){var t=e.index,a=e.key,i=e.parent,c=e.style,s=o.props,l=s.list,u=s.cellContent,p=o.state.columnWidth,f=l[t];return n.createElement(r.b,{cache:o._cache,index:t,key:a,parent:i},u({style:c,columnWidth:p,item:f,index:t,key:a}))}),f(u(o),"_initCellPositioner",function(){if(void 0===o._cellPositioner){var e=o.state,t=e.columnWidth,n=e.gutterSize;o._cellPositioner=Object(a.b)({cellMeasurerCache:o._cache,columnCount:o._columnCount,columnWidth:t,spacer:n})}}),f(u(o),"_onResize",function(e){var t=e.width;t&&(o._width=t),o._calculateColumnCount(),o._resetCellPositioner(),o._setMasonryRef.recomputeCellPositions()}),f(u(o),"_renderAutoSizer",function(e){var t=e.height,a=e.scrollTop;o._height=t,o._scrollTop=a;var i=o.state.overscanByPixels;return n.createElement(r.a,{ref:function(e){return o.child=e},disableHeight:!0,height:t,onResize:o._onResize,overscanByPixels:i,scrollTop:o._scrollTop},o._renderMasonry)}),f(u(o),"onScroll",function(e){var t=e.clientHeight,n=e.scrollHeight,r=e.scrollTop,a=u(o),i=o.props,c=i.isShowMoreImages;i.onShowMoreImages&&t+r+600>=n&&!c&&o.props.onShowMoreImages(function(){var e=document.querySelector("div.resize-triggers").parentNode;"9px"===e.style.paddingLeft?e.style.paddingLeft="10px":e.style.paddingLeft="9px","9px"===e.style.paddingRight?e.style.paddingRight="10px":e.style.paddingRight="9px",a.child._onResize()})}),f(u(o),"getCoordinates",function(e){var t=o.props,n=t.imageGridWrapperWidth,r=t.ratio,a=t.additionalImageHeight,i=void 0===a?0:a,c=o.state,s=c.columnWidth,l=c.gutterSize,u=o._columnCount||Math.floor(n/s),p=Math.floor(e/u),f=e%u;return{top:Math.floor(s/r+l+i)*p,left:(s+l)*f}}),f(u(o),"_renderMasonry",function(e){var t=e.width;o._width=t,o._calculateColumnCount(),o._initCellPositioner();var a=o.props,i=a.count,c=a.customPositionHandler,s=o.state,l=s.height,u=s.overscanByPixels,p=s.windowScrollerEnabled;return n.createElement(r.d,{autoHeight:p,cellCount:i,cellMeasurerCache:o._cache,cellPositioner:c?o.getCoordinates:o._cellPositioner,cellRenderer:o._cellRenderer,height:p?o._height:l,overscanByPixels:u,ref:function(e){return o._setMasonryRef=e},scrollTop:o._scrollTop,width:t,onScroll:o.onScroll,tabIndex:-1})}),f(u(o),"_resetCellPositioner",function(){var e=o.state,t=e.columnWidth,n=e.gutterSize;o._cellPositioner.reset({columnCount:o._columnCount,columnWidth:t,spacer:n})}),f(u(o),"_setMasonryRef",function(e){o._masonry=e}),o._columnWidth=e.columnWidth||200,o._gutterSize=e.gutterSize||10,o._columnCount=0,o._cache=new r.c({defaultHeight:Math.floor(e.imageContainerHeight)||300,defaultWidth:Math.floor(o._columnWidth),fixedWidth:!1}),o.state={columnWidth:Math.floor(o._columnWidth),height:Math.floor(e.imageContainerHeight)||300,gutterSize:o._gutterSize,overscanByPixels:0,windowScrollerEnabled:!1},o}var o,d,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,n["PureComponent"]),o=t,(d=[{key:"render",value:function(){var e=this.state,t=e.overscanByPixels,o=e.windowScrollerEnabled,a=e.height;return o?n.createElement(r.e,{overscanByPixels:t},this._renderAutoSizer):this._renderAutoSizer({height:a})}}])&&s(o.prototype,d),g&&s(o,g),t}(),g=d;t.a=g;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(d,"ReactVirtualizedImagesGrid","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/VirtualizedImagesGrid.js"),__REACT_HOT_LOADER__.register(g,"default","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/VirtualizedImagesGrid.js"))},586:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n=function(e){return e.children};"undefined"!=typeof __REACT_HOT_LOADER__&&__REACT_HOT_LOADER__.register(n,"Aux","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/hoc.js")},590:function(e,t,o){"use strict";var n=o(0),r=o.n(n),a=o(121),i=o(21),c=o(6);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,p(t).apply(this,arguments))}var o,s,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,n["Component"]),o=t,(s=[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.searchField&&e.searchField.focus&&e.searchField.focus()})}},{key:"componentWillReceiveProps",value:function(e){!e.isLoading&&e.isLoading!==this.props.isLoading&&this.searchField&&this.searchField.focus&&this.searchField.focus()}},{key:"render",value:function(){var e=this,t=this.props,o=t.items,n=t.isSearching,s=t.searchPhrase,l=t.onSearch,u=t.onChangeSearchPhrase,p=t.title,f=t.count,d=void 0===f?0:f,g=!o||!o.length;return r.a.createElement(i.U,{empty:g&&!n},r.a.createElement(i.T,{show:g&&!n},p),r.a.createElement(i.S,null,r.a.createElement(i.K,{type:"search",innerRef:function(t){return e.searchField=t},autoFocus:!0,value:s,onChange:u,onKeyDown:function(e){Object(a.b)(e)&&l()}}),r.a.createElement(i.g,{className:"ae-btn",onClick:l},c.I18n.t("upload.search"))),r.a.createElement(i.d,{empty:g},c.I18n.t("upload.found"),": ",d))}}])&&l(o.prototype,s),d&&l(o,d),t}(),g=d;t.a=g;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(d,"SearchBar","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/SearchBar.js"),__REACT_HOT_LOADER__.register(g,"default","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/SearchBar.js"))},591:function(e,t,o){"use strict";var n=o(0),r=o.n(n),a=o(21),i=function(e){var t=e.tagsList,o=e.searchPhrase,n=e.activeTags,i=e.toggleTag;return t.length>0?r.a.createElement(a.gb,null,t.filter(function(e){return e.tag&&!e.tag.includes("sf-")}).map(function(e){return r.a.createElement(a.eb,{hide:o.includes(e.tag),key:e.tag,active:n[e.tag],onClick:function(){i(e.tag)}},e.tag,r.a.createElement(a.h,{active:n[e.tag]}))})):null},c=i;t.a=c;"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(i,"IconTags","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconTags.js"),__REACT_HOT_LOADER__.register(c,"default","/Users/dmitry/2017/airstore-uploader-react/projects/react-plugin/components/IconsTab/IconTags.js"))}}]);