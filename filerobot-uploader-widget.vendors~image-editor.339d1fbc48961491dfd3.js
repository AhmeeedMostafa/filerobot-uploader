(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{694:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(836);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o=n(837);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var i=n(838);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var a=n(738);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var c=n(739);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})}));var s=n(839);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}));var l=n(840);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}));var u=n(841);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}));var f=n(842);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})}));var p=n(843);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})}));var d=n(723);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})}));var h=n(844);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})}));var m=n(845);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})}));var g=n(846);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}})}));var v=n(847);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})}))},702:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ORIGINAL_CANVAS_ID=t.CANVAS_ID=t.ON_CLOSE_STATUSES=t.DEFAULT_IMG_URL=t.SHAPES_VARIANTS=t.WATERMARK_CLOUDIMAGE_FONTS=t.STANDARD_FONTS=t.WATERMARK_POSITIONS_PRESET=t.WATERMARK_UNIQUE_KEY=t.WATERMARK_POSITIONS=t.CLOUDIMAGE_OPERATIONS=t.UPLOADER=t.FILTERS=t.EFFECTS=t.TOOLS=t.PREVIEW_CANVAS_ID=t.MODAL_ID=t.DEFAULT_WATERMARK=void 0;t.MODAL_ID="filerobot-image-editor-modal";t.PREVIEW_CANVAS_ID="filerobot-shapes-edit-box";t.CANVAS_ID="filerobot-image-edit-box";t.ORIGINAL_CANVAS_ID="filerobot-image-edit-box-original";t.TOOLS=["adjust","effects","filters","rotate","crop","resize","watermark","shapes","image","text"];t.EFFECTS=["edge_enhance","emboss","grungy","hazy","lomo","radial_blur","sin_city","tilt_shift"];t.FILTERS=["cross_process","glow_sun","jarques","love","old_boot","orange_peel","pin_hole","sepia","sun_rise","vintage"];t.CLOUDIMAGE_OPERATIONS=["crop","resize","rotate","watermark","focus_point"];t.WATERMARK_POSITIONS=["left-top","center-top","right-top","left-center","center","right-center","left-bottom","center-bottom","right-bottom"];t.WATERMARK_POSITIONS_PRESET={corners:[1,0,1,0,0,0,1,0,1],star:[0,1,0,1,1,1,0,1,0],center:[0,0,0,0,1,0,0,0,0],"top-row":[1,1,1,0,0,0,0,0,0],"center-row":[0,0,0,1,1,1,0,0,0],"bottom-row":[0,0,0,0,0,0,1,1,1]};t.DEFAULT_WATERMARK={opacity:.7,position:"center",url:"",applyByDefault:!1};t.WATERMARK_UNIQUE_KEY="watermark-layer";t.STANDARD_FONTS=[{label:"Arial",value:"Arial"},{label:"Tahoma",value:"Tahoma"},{label:"Times New Roman",value:"Times New Roman"},{label:"Courier",value:"Courier"},{label:"Courier New",value:"Courier New"},{label:"Verdana",value:"Verdana"},{label:"Georgia",value:"Georgia"},{label:"Palatino",value:"Palatino"},{label:"Garamond",value:"Garamond"},{label:"Bookman",value:"Bookman"},{label:"Comic Sans MS",value:"Comic Sans MS"},{label:"Candara",value:"Candara"},{label:"Impact",value:"Impact"}];t.WATERMARK_CLOUDIMAGE_FONTS=[{label:"Arial",value:"Arial"},{label:"Arial Bold",value:"Arial-Bold"},{label:"Arial Black",value:"Arial-Black"},{label:"AvantGarde Book",value:"AvantGarde-Book"},{label:"Bitstream Charter",value:"Bitstream-Charter"},{label:"Bitstream Charter Bold",value:"Bitstream-Charter-Bold"},{label:"Bookman Demi",value:"Bookman-Demi"},{label:"Comic Sans MS",value:"Comic-Sans-MS"},{label:"Courier",value:"Courier"},{label:"Courier Bold",value:"Courier-Bold"},{label:"Courier New",value:"Courier-New\t"},{label:"Courier New Bold",value:"Courier-New-bold"},{label:"DejaVu Sans",value:"DejaVu-Sans"},{label:"DejaVu Sans Bold",value:"DejaVu-Sans-bold"},{label:"Dingbats",value:"Dingbats"},{label:"fixed",value:"fixed"},{label:"FreeMono",value:"FreeMono"},{label:"FreeMono Bold",value:"FreeMono-Bold"},{label:"FreeSans",value:"FreeSans-Bold"},{label:"Halvetica",value:"Halvetica"},{label:"Georgia",value:"Georgia"},{label:"Impact",value:"Impact"},{label:"Noto mono",value:"Noto-Mono"}];t.SHAPES_VARIANTS={RECT:"rect",SQUARE:"square",CIRCLE:"circle",IMAGE:"image",TEXT:"text"};t.DEFAULT_IMG_URL="https://image.flaticon.com/icons/svg/916/916762.svg";var r={hideCloudimageSwitcher:!0,processWithCloudimage:!1,uploadWithCloudimageLink:!1,elementId:null,isLowQualityPreview:!0,reduceBeforeEdit:{mode:"manual",widthLimit:2e3,heightLimit:2e3},cropBeforeEdit:null,cropPresets:[{name:"original",value:0},{name:"square",value:1},{name:"banner",value:7.8},{name:"round",value:1,radius:50},{name:"5 : 4",value:1.25},{name:"4 : 3",value:1.33333},{name:"6 : 4",value:1.5},{name:"16 : 9",value:1.7777}],resizePresets:[{name:"big square",width:600,height:600,ratio:1},{name:"middle square",width:400,height:400,ratio:1},{name:"small square",width:200,height:200,ratio:1},{name:"small size",width:1200,height:960,ratio:1.25},{name:"better quality",width:1920,height:1536,ratio:1.25},{name:"small size",width:1200,height:900,ratio:1.33333},{name:"better quality",width:1920,height:1440,ratio:1.33333},{name:"small size",width:1200,height:800,ratio:1.5},{name:"better quality",width:1920,height:1280,ratio:1.5},{name:"small size",width:1200,height:675,ratio:1.7777},{name:"better quality",width:1920,height:1080,ratio:1.7777},{name:"small banner",width:468,height:60,ratio:7.8},{name:"big banner",width:936,height:120,ratio:7.8}]};t.UPLOADER=r;t.ON_CLOSE_STATUSES={CLOSE_BTN_CLICKED:"close-button-clicked",TOOLBAR_CANCEL_BTN_CLICKED:"toolbar-cancel-button-clicked",ESC_KEY_PRESSED:"esc-key-pressed",MODAL_OVERLAY_CLICKED:"modal-overlay-clicked",IMAGE_EDITS_COMPLETED:"image-edits-completed",IMAGE_DOWNLOADED:"image-downloaded",IMAGE_UPLOADED_FILEROBOT:"image-uploaded-filerobot",IMAGE_UPLOADED_CLOUDIMAGE:"image-uploaded-cloudimage",IMAGE_UPLOADING_FAIL_FILEROBOT:"image-uploading-fail-filerobot"}},704:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getModalWidth=function(e){var t=e.exact,n=e.xl,r=e.lg,o=e.md,i=e.sm,a=e.xs,s=e.fluid,l=t?"exact":n?"xl":r?"lg":o?"md":i?"sm":a?"xs":"md";return"exact"===l?t:c.modal[s?"fluid":"fixed"][l]},t.getIconStyles=function(e){return"\n    font-family: 'filerobot-image-editor-font' !important;\n    color: ".concat(e.muted?e.theme.colors.textMute:e.theme.colors.text,";\n    speak: none;\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    text-transform: none;\n    line-height: 1;\n\n    /* Better Font Rendering =========== */\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n\n    :hover {\n      color: ").concat(e.muted?e.theme.colors.textMute:e.theme.colors.text,";\n    }\n  ")},t.getFieldColorStyles=function(e){return e.dark?"":"\n    color: ".concat(l(e,"text"),";\n    background-color: ").concat(l(e,"background"),";\n    border: 1px solid ").concat(l(e,"border"),";\n\n    &::-webkit-input-placeholder {\n      color:  ").concat(l(e,"text","muted"),";\n    }\n    &::-moz-placeholder {\n      color:  ").concat(l(e,"text","muted"),";\n    }\n    &:-ms-input-placeholder {\n      color:  ").concat(l(e,"text","muted"),";\n    }\n    &::-ms-input-placeholder {\n      color:  ").concat(l(e,"text","muted"),";\n    }\n    &::placeholder {\n      color:  ").concat(l(e,"text","muted"),";\n    }\n\n    &:focus {\n      color: ").concat(l(e,"text"),";\n      background-color: ").concat(l(e,"background"),";\n      border-color: ").concat(l(e,"link"),";\n      outline: 0;\n    }\n    &:focus::-ms-value {\n      color: ").concat(l(e,"text"),";\n      background-color: ").concat(l(e,"background"),";\n      border-color: ").concat(l(e,"link"),";\n      outline: 0;\n    }\n  ")},t.getIconByName=function(e){var t="";switch(e){case"watermark":t="\\e918";break;case"reset":t="\\e912";break;case"flip-v":t="\\e916";break;case"flip-h":t="\\e914";break;case"cross":t="\\e90c";break;case"effects":t="\\e900";break;case"filters":t="\\e904";break;case"adjust":t="\\e90a";break;case"crop":t="\\e901";break;case"resize":t="\\e907";break;case"rotate":t="\\e90b";break;case"previous":t="\\e905";break;case"next":t="\\e906";break;case"ratio":t="\\e90e";break;case"no-ratio":t="\\e90f";break;case"left-rotate":t="\\e902";break;case"right-rotate":t="\\e908";break;case"focus_point":t="\\e919";break;case"shapes":t="\\e91b";break;case"image":t="\\e91a";break;case"text":t="T";break;default:return}return"\n    :before {\n      content: '".concat(t,"'\n    }\n  ")},t.getColor=t.getElementStylesBySize=t.getWithOpacity=t.getHoverColor=t.variables=void 0;var a={textFontSize:"14px",colors:{success:"#5cb85c",warning:"#f0ad4e",error:"#d9534f",muted:"#636c72",base:"light",light:{base:"#F9FAFB",dark:"#F4F6F8",darker:"#DFE4E8"},dark:{base:"#1e262c",light:"#454F5B",lighter:"#637381"},primary:{base:"#181830",light:"#263138",lighter:"#34444c",dark:"#101021",darker:"#090912",text:"#F9FAFB"},secondary:{base:"#00707c",light:"#007E8A",lighter:"#008D99",dark:"#00616D",darker:"#005662",text:"#F9FAFB"},text:{base:"#F9FAFB",dark:"#F4F6F8",mute:"#aaa",light:"#fff"},background:{base:"#f1f1f1"},border:{base:"#ccc"},link:{base:"#00707c",over:"#00616D"},brand:{success:"#5cb85c",warning:"#f0ad4e",error:"#d9534f",muted:"#636c72"}},modal:{borderRadius:"4px",fluid:{xs:"35%",sm:"45%",md:"60%",lg:"80%",xl:"90%"},fixed:{xs:"200px",sm:"300px",md:"450px",lg:"650px",xl:"800px"}},button:{tt:"none"}},c=o(o({},a),{},{radii:[0,"0.2rem","0.25rem",".3rem"],mainBackgroundColor:"#1e262c",mainBackgroundColorHover:"#263138",mainBackgroundColorActive:"#34444c",secondBackgroundColor:"#263138",textColor:"#e7f1f4",textColorHover:"#fff",textMuted:"#70777f",borderColor:"#70777f",borderDarkColor:"#161e23",fieldWidth:"120px",borderInputColor:"#3b4d54",borderInputColorHover:"#52686d",borderInputColorActive:"#52686d",inputBackgroundColor:"#34444c",inputBoxShadowColor:"#03a9bb",inputPlaceholderColor:"#888d94",mainThemeColor:"#00707c",mainThemeColorHover:"#00616D",mainThemeColorOpacity:"rgba(0, 112, 124, 0.5)",btnSaveColor:"#009345",btnSaveColorHover:"#00b549",btnThemeColor:"#34444c",btnPaddingSm:"2px 14px",btnFontSizeSm:"12px",btnBorderRadius:"2px",modalOverlayColor:"#484848",btnMainColor:function(e){return"\n    color: #fff;\n    background-color: #00707c;\n    border-color: #00707c;\n\n    :hover {\n      color: #fff;\n      background-color: #00616D;\n      border-color: #00616D;\n    }\n\n    :focus {\n      -webkit-box-shadow: 0 0 0 2px rgba(0, 112, 124, 0.5);\n              box-shadow: 0 0 0 2px rgba(0, 112, 124, 0.5);\n    }\n\n    :active {\n      color: #fff;\n      background-color: #00616D;\n      background-image: none;\n      border-color: #00616D;\n    }\n\n    ".concat(e.disabled?"\n      background-color: rgba(0, 112, 124, 0.5);\n      border-color: rgba(0, 112, 124, 0.5);\n    ":"","\n\n    ").concat(e.active?"\n       color: #fff;\n      background-color: #00616D;\n      background-image: none;\n      border-color: #00616D;\n    ":"","\n  ")},button:o(o({},a.button),{},{sm:{p:"4px 10px",fz:"12px",lh:"1.5",br:"3px"},md:{p:"6px 12px",fz:"14px",lh:"1.5",br:"3px"},lg:{p:"8px 14px",fz:"16px",lh:"1.5",br:"5px"}}),modal:o(o({},a.modal),{},{backgroundColor:"#1e262c",color:"#e7f1f4",colorMuted:"#70777f",colorMutedHover:"#e7f1f4"})});function s(e,t,n){if("number"!=typeof e||e<-1||e>1||"string"!=typeof t||"r"!=t[0]&&"#"!=t[0]||"string"!=typeof n&&void 0!==n)return null;window.sbcRip||(window.sbcRip=function(e){var t=e.length,n=new Object;if(t>9){if((e=e.split(",")).length<3||e.length>4)return null;n[0]=r(e[0].slice(4)),n[1]=r(e[1]),n[2]=r(e[2]),n[3]=e[3]?parseFloat(e[3]):-1}else{if(8==t||6==t||t<4)return null;t<6&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+(t>4?e[4]+""+e[4]:"")),e=r(e.slice(1),16),n[0]=e>>16&255,n[1]=e>>8&255,n[2]=255&e,n[3]=9==t||5==t?o((e>>24&255)/255*1e4)/1e4:-1}return n});var r=parseInt,o=Math.round,i=t.length>9,a=(i="string"==typeof n?n.length>9||"c"==n&&!i:i,e<0),c=(e=a?-1*e:e,n=n&&"c"!=n?n:a?"#000000":"#FFFFFF",window.sbcRip(t)),s=window.sbcRip(n);return c&&s?i?"rgb("+o((s[0]-c[0])*e+c[0])+","+o((s[1]-c[1])*e+c[1])+","+o((s[2]-c[2])*e+c[2])+(c[3]<0&&s[3]<0?")":","+(c[3]>-1&&s[3]>-1?o(1e4*((s[3]-c[3])*e+c[3]))/1e4:s[3]<0?c[3]:s[3])+")"):"#"+(4294967296+16777216*(c[3]>-1&&s[3]>-1?o(255*((s[3]-c[3])*e+c[3])):s[3]>-1?o(255*s[3]):c[3]>-1?o(255*c[3]):255)+65536*o((s[0]-c[0])*e+c[0])+256*o((s[1]-c[1])*e+c[1])+o((s[2]-c[2])*e+c[2])).toString(16).slice(c[3]>-1||s[3]>-1?1:3):null}t.variables=c;t.getHoverColor=function(e){if(!e)return null;var t=s(-.1,e)||"";return t.toLowerCase()===e.toLowerCase()?s(.25,e):t};t.getWithOpacity=function(e,t){if(!e)return null;var n=function(e){return/^#?([a-f\d])([a-f\d])([a-f\d])$/i.test(e)||/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.test(e)}(e)?e:s(0,e,"c");if(!n)return null;var r=function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}(n);return r?"rgba(".concat(r.r,", ").concat(r.g,", ").concat(r.b,", ").concat(t,")"):e};t.getElementStylesBySize=function(e,t,n){var r=e.sm,o=e.lg,i=r?"sm":o?"lg":"md";return c[t]&&c[t][i]&&c[t][i][n]};var l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"base",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=r?c.colors.base:null;return c.colors[t][i?i+(o?"er":""):n]};t.getColor=l},707:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(851);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}));var o=n(852);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var i=n(853);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var a=n(854);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})}));var c=n(855);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})}));var s=n(856);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}));var l=n(857);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}));var u=n(858);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})}));var f=n(859);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})}));var p=n(860);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})}));var d=n(861);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})}));var h=n(862);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})}));var m=n(865);Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})}))},710:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=(r=n(2))&&r.__esModule?r:{default:r},a=n(724);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function s(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  position: relative;\n  width: 175px;\n  padding: 25px 5px 20px 5px;\n  \n  label {\n    display: inline-block;\n    width: 100%;\n    text-align: center;\n    padding-top: ",";\n  }\n  \n  :after {\n    content: ",";\n    display: inline-block;\n    position: absolute;\n    background: ",";\n    height: 5px;\n    width: 2px;\n    top: 45px;\n    left: calc(50% - 1px);\n  }\n\n  /* CHROME */\n  #range {\n    -webkit-appearance: none;\n    display: block;\n    outline: none;\n    background: ",";\n    height: 6px;\n    width: 180px;\n    border-radius: 5px;\n    margin-bottom: 5px;\n    \n    &::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      width: 18px;\n      height: 18px;\n      border-radius: 50%;\n      background: ",";\n    }\n  }\n  \n  /* FIREFOX */\n  #range::-moz-range-thumb {\n    border: none;\n    height: 14px;\n    width: 14px;\n    border-radius: 50%;\n    background: ",";\n    cursor: pointer;\n  }\n  \n  #range::-moz-range-track {\n    width: 100%;\n    height: 3px;\n    cursor: pointer;\n    background: ",";\n    border-radius: 5px;\n  }\n"]);return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,n,r,i=p(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),g(h(t=i.call(this,e)),"updateWithDebounce",(0,a.debounce)(100,(function(e){t.props.updateRange(e)}))),g(h(t),"updateRange",(function(e){var n=e.target.value;t.setState({range:n},(function(){t.updateWithDebounce(n)}))})),t.state={range:e.range},t}return t=c,(n=[{key:"componentDidUpdate",value:function(e){var t=e.range,n=this.props.range;t!==n&&n!==this.state.range&&this.setState({range:n})}},{key:"render",value:function(){var e=this.state.range,t=this.props,n=t.label,r=t.min,i=void 0===r?-100:r,a=t.max,c=void 0===a?100:a,s=t.step,l=void 0===s?1:s,u=t.labelBefore,f=t.labelStyles;return o.default.createElement(b,{className:"image-editor-range-wrapper",labelBefore:u,label:n},n&&u&&o.default.createElement("label",{style:f},n),o.default.createElement("input",{id:"range",type:"range",value:e,min:i,max:c,step:l,onChange:this.updateRange}),n&&!u&&o.default.createElement("label",{style:f},n))}}])&&u(t.prototype,n),r&&u(t,r),c}(o.Component);t.default=v;var b=(0,i.default)("div").attrs((function(){return{className:"image-editor-range"}}))(s(),(function(e){return e.labelBefore?0:"20px"}),(function(e){return e.label?"":"unset"}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.primaryBg}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.text}))},711:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=t.$=t.Util=void 0;t.$=function(e,t){return null==t&&(t=document),"object"===o(e)?e:t.querySelector(e)};t.__extends=function(e,t){for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"initClass",value:function(){var e;this.uniqid=(e=0,{get:function(){return e++}})}},{key:"extend",value:function(e){for(var t=e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0,a=Array.from(r);i<a.length;i++)for(var c=a[i],s=0,l=Object.keys(c||{});s<l.length;s++){var u=l[s];t[u]=c[u]}return t}},{key:"clampRGB",value:function(e){return e<0?0:e>255?255:e}},{key:"copyAttributes",value:function(e,t,n){return null==n&&(n={}),function(){for(var r=[],o=0,i=Array.from(e.attributes);o<i.length;o++){var a=i[o];null!=n.except&&Array.from(n.except).includes(a.nodeName)||r.push(t.setAttribute(a.nodeName,a.nodeValue))}return r}()}},{key:"dataArray",value:function(e){return null==e&&(e=0),Caman.NodeJS||null!=window.Uint8Array?new Uint8Array(e):new Array(e)}}],(n=null)&&r(t.prototype,n),o&&r(t,o),e}();t.Util=i,i.initClass()},717:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Log=void 0;var r=new function(){var e,t,n,r;for(t=0,n=(r=["log","info","warn","error"]).length;t<n;t++)this[e=r[t]]=function(e){return function(){var t;if(t=1<=arguments.length?[].slice.call(arguments,0):[],Caman.DEBUG)try{return console[e].apply(console,t)}catch(n){return n,console[e](t)}}}(e);this.debug=this.log};t.Log=r},723:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(704);function a(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  text-transform: ",";\n  display: ",";\n  padding: ",";\n  font-size: ",";\n  line-height:  ",";\n  min-width: ",";\n  font-weight: 400;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  touch-action: manipulation;\n  cursor: pointer;\n  user-select: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  border: 1px solid transparent;\n  -webkit-transition: all 0.2s ease-in-out;\n  -o-transition: all 0.2s ease-in-out;\n  transition: all 0.2s ease-in-out;\n  border-radius: ",";\n  \n  :focus, :hover {\n    text-decoration: none;\n  }\n  \n  :focus {\n    outline: 0;\n    -webkit-box-shadow: 0 0 0 2px rgba(2, 117, 216, 0.25);\n            box-shadow: 0 0 0 2px rgba(2, 117, 216, 0.25);\n  }\n  \n  ","\n  \n  ","\n"]);return a=function(){return e},e}var c=o.default.button(a(),(function(e){return e.tt||i.variables.button&&i.variables.button.tt||"none"}),(function(e){return e.hide?"none":"inline-block"}),(function(e){return s(e,"button","p")}),(function(e){return s(e,"button","fz")}),(function(e){return s(e,"button","lh")}),(function(e){return e.fullSize?"100%":"auto"}),(function(e){return s(e,"button","br")}),(function(e){return function(e){return e.disabled?"\n    cursor: not-allowed;\n    opacity: .65;\n  ":""}(e)}),(function(e){return function(e){return e.success?"\n    color: #fff;\n    background-color: #28a745;\n    border-color: ##28a745;\n    \n    :hover {\n      color: #fff;\n      background-color: #218838;\n      border-color: #1e7e34;\n    }\n    \n    :focus {\n      -webkit-box-shadow: 0 0 0 2px rgba(92, 184, 92, 0.5);\n              box-shadow: 0 0 0 2px rgba(92, 184, 92, 0.5);\n    }\n    \n    :active {\n      color: #fff;\n      background-color: #1e7e34;\n      background-image: none;\n      border-color: #1c7430;\n    }\n    \n    ".concat(e.disabled?"\n      background-color: #009345;\n      border-color: #009345;\n      \n      :hover {\n        background-color: #009345;\n        border-color: #009345;\n      }\n    ":"","\n    \n    ").concat(e.active?"\n      color: #fff;\n      background-color: #1e7e34;\n      background-image: none;\n      border-color: #1c7430;\n    ":"","\n  "):e.primary?"\n    color: #fff;\n    background-color: #0275d8;\n    border-color: #0275d8;\n    \n    :hover {\n      color: #fff;\n      background-color: #025aa5;\n      border-color: #01549b;\n    }\n    \n    :focus {\n      -webkit-box-shadow: 0 0 0 2px rgba(2, 117, 216, 0.5);\n              box-shadow: 0 0 0 2px rgba(2, 117, 216, 0.5);\n    }\n    \n    :active {\n      color: #fff;\n      background-color: #025aa5;\n      background-image: none;\n      border-color: #01549b;\n    }\n    \n    ".concat(e.disabled?"\n      background-color: #0275d8;\n      border-color: #0275d8;\n      \n      :hover {\n        background-color: #0275d8;\n        border-color: #0275d8;\n      }\n    ":"","\n    \n    ").concat(e.active?"\n      color: #fff;\n      background-color: #025aa5;\n      background-image: none;\n      border-color: #01549b;\n    ":"","\n  "):e.info?"\n    color: #fff;\n    background-color: #5bc0de;\n    border-color: #5bc0de;\n    \n    :hover {\n      color: #fff;\n      background-color: #31b0d5;\n      border-color: #2aabd2;\n    }\n    \n    :focus {\n      -webkit-box-shadow: 0 0 0 2px rgba(91, 192, 222, 0.5);\n              box-shadow: 0 0 0 2px rgba(91, 192, 222, 0.5);\n    }\n    \n    :active {\n      color: #fff;\n      background-color: #31b0d5;\n      background-image: none;\n      border-color: #2aabd2;\n    }\n    \n    ".concat(e.disabled?"\n      background-color: #5bc0de;\n      border-color: #5bc0de;\n      \n      :hover {\n        background-color: #5bc0de;\n        border-color: #5bc0de;\n      }\n    ":"","\n    \n    ").concat(e.active?"\n      color: #fff;\n      background-color: #31b0d5;\n      background-image: none;\n      border-color: #2aabd2;\n    ":"","\n  "):e.warning?"\n    color: #fff;\n    background-color: #f0ad4e;\n    border-color: #f0ad4e;\n    \n    :hover {\n      color: #fff;\n      background-color: #ec971f;\n      border-color: #eb9316;\n    }\n    \n    :focus {\n      -webkit-box-shadow: 0 0 0 2px rgba(240, 173, 78, 0.5);\n              box-shadow: 0 0 0 2px rgba(240, 173, 78, 0.5);\n    }\n    \n    :active {\n      color: #fff;\n      background-color: #ec971f;\n      background-image: none;\n      border-color: #eb9316;\n    }\n    \n    ".concat(e.disabled?"\n      background-color: #f0ad4e;\n      border-color: #f0ad4e;\n      \n      :hover {\n        background-color: #f0ad4e;\n        border-color: #f0ad4e;\n      }\n    ":"","\n    \n    ").concat(e.active?"\n      color: #fff;\n      background-color: #ec971f;\n      background-image: none;\n      border-color: #eb9316;\n    ":"","\n  "):e.danger?"\n    color: #fff;\n    background-color: #d9534f;\n    border-color: #d9534f;\n    \n    :hover {\n      color: #fff;\n      background-color: #c9302c;\n      border-color: #c12e2a;\n    }\n    \n    :focus {\n      -webkit-box-shadow: 0 0 0 2px rgba(217, 83, 79, 0.5);\n              box-shadow: 0 0 0 2px rgba(217, 83, 79, 0.5);\n    }\n    \n    :active {\n      color: #fff;\n      background-color: #c9302c;\n      background-image: none;\n      border-color: #c12e2a;\n    }\n    \n    ".concat(e.disabled?"\n      background-color: #d9534f;\n      border-color: #d9534f;\n      \n      :hover {\n        background-color: #d9534f;\n        border-color: #d9534f;\n      }\n    ":"","\n    \n    ").concat(e.active?"\n      color: #fff;\n      background-color: #c9302c;\n      background-image: none;\n      border-color: #c12e2a;\n    ":"","\n  "):e.link?"\n    font-weight: normal;\n    color: ".concat(u(e),"; \n    border-radius: 0;\n    background-color: transparent;\n    outline: none;\n    box-shadow: none;\n    \n    :hover {\n      border-color: transparent;\n      color: ").concat(u(e,"over"),";\n      background-color: transparent;\n      outline: none;\n      box-shadow: none;\n    }\n    \n    :focus {\n      border-color: transparent;\n      outline: none;\n      box-shadow: none;\n    }\n    \n    :active {\n      background-color: transparent;\n      outline: none;\n      box-shadow: none;\n    }\n    \n    ").concat(e.disabled?"\n      color: ".concat(u(e,"over"),";\n      background-color: transparent;\n      \n      :hover {\n        color: ").concat(u(e,"over"),";\n        background-color: transparent;\n      }\n    "):"","\n    \n    ").concat(e.active?"\n      background-color: transparent;\n      color: ".concat(u(e,"over"),";\n    "):"","\n    \n    :disabled:focus, :disabled:hover {\n      text-decoration: none;\n      outline: none;\n      box-shadow: none;\n    }\n  "):e.themeColor?"\n    color: ".concat(l(e,"secondary","text"),";\n    background-color: ").concat(l(e,"secondary"),";\n    border-color: ").concat(l(e,"secondary",null,!0,!0),";\n    \n    :hover {\n      color: ").concat(l(e,"secondary","text"),";\n      background-color: ").concat(l(e,"secondary",null,!0),";\n      border-color: ").concat(l(e,"secondary",null,!0,!0),";\n    }\n    \n    :focus {\n      -webkit-box-shadow: 0 0 0 2px ").concat((0,i.getWithOpacity)(l(e,"secondary"),.5),";\n              box-shadow: 0 0 0 2px ").concat((0,i.getWithOpacity)(l(e,"secondary"),.5),";\n    }\n    \n    :active {\n      color: ").concat(l(e,"secondary","text"),";\n      background-color: ").concat(l(e,"secondary",null,!0),";\n      background-image: none;\n      border-color: ").concat(l(e,"secondary",null,!0,!0),";\n    }\n    \n    ").concat(e.disabled?"\n      background-color: ".concat((0,i.getWithOpacity)(l(e,"secondary"),.5),";\n      border-color: ").concat((0,i.getWithOpacity)(l(e,"secondary"),.5),";\n      \n      :hover {\n        background-color: ").concat((0,i.getWithOpacity)(l(e,"secondary"),.5),";\n        border-color: ").concat((0,i.getWithOpacity)(l(e,"secondary"),.5),";\n      }\n    "):"","\n    \n    ").concat(e.active?"\n      color: ".concat(l(e,"secondary","text"),";\n      background-color: ").concat(l(e,"secondary",null,!0),";\n      background-image: none;\n      border-color: ").concat(l(e,"secondary",null,!0,!0),";\n    "):"","\n  "):"\n    background: #fff;\n    color: #1e262c;\n    border-color: #B0B0B0;\n    \n    :hover {\n      color: #1e262c;\n      background-color: #E1E2E3;\n      border-color: #B0B0B0;\n    }\n    \n    :focus {\n      -webkit-box-shadow: 0 0 0 2px rgba(204, 204, 204, 0.5);\n              box-shadow: 0 0 0 2px rgba(204, 204, 204, 0.5);\n    }\n    \n    :active {\n      color: #1e262c;\n      background-color: #E1E2E3;\n      border-color: #B0B0B0;\n    }\n    \n    ".concat(e.disabled?"\n      background-color: #fff;\n      border-color: #1e262c;\n      opacity: 0.6;\n      \n      :hover {\n        background-color: #fff;\n        border-color: #1e262c;\n        opacity: 0.6;\n      }\n    ":"","\n    \n    ").concat(e.active?"\n      color: #1e262c;\n      background-color: #E1E2E3;\n      border-color: #B0B0B0;\n    ":"","\n  ")}(e)}));function s(e,t,n){var r=e.sm,o=e.lg,a=r?"sm":o?"lg":"md";return i.variables[t]&&i.variables[t][a]&&i.variables[t][a][n]}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"base",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=r?i.variables.colors.base:null;return i.variables.colors[t][a?a+(o?"er":""):n]}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base",n=e.light?"light":e.dark?"dark":null,r="base"!==t,o=i.variables.colors.base;return n?i.variables.colors[n][r?o:"base"]:i.variables.colors.link[t]}t.Button=c},724:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var o,i=!1,a=0;function c(){o&&clearTimeout(o)}function s(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=this,p=Date.now()-a;function d(){a=Date.now(),n.apply(f,l)}function h(){o=void 0}i||(r&&!o&&d(),c(),void 0===r&&p>e?d():!0!==t&&(o=setTimeout(r?h:d,void 0===r?e-p:e)))}return"boolean"!=typeof t&&(r=n,n=t,t=void 0),s.cancel=function(){c(),i=!0},s}e.debounce=function(e,n,r){return void 0===r?t(e,n,!1):t(e,r,!1!==n)},e.throttle=t,Object.defineProperty(e,"__esModule",{value:!0})}(t)},725:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==m(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=(r=n(2))&&r.__esModule?r:{default:r},a=n(694);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function s(){var e=h(["\n  background: ",";\n  width: 14px;\n  height: 14px;\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 3px;\n  background-size: cover;\n"]);return s=function(){return e},e}function l(){var e=h(["\n  display: inline-block;\n  vertical-align: middle;\n"]);return l=function(){return e},e}function u(){var e=h(["\n  cursor: pointer;\n  ","\n  \n  :hover {\n    background: ",";\n  }\n"]);return u=function(){return e},e}function f(){var e=h(["\n  display: ",";\n  list-style-type: none;\n  margin: 2px 0 0 0;\n  padding: 0;\n  position: absolute;\n  background: #fff;\n  width: ",";\n  border: none;\n  color: ",";\n  background: ",";\n  box-shadow: inset 0 1px 1px rgba(0,0,0,0.5), 0 1px 0 rgba(82,104,109,.6);\n  border-radius: .25rem;\n  overflow: hidden;\n  overflow-y: auto;\n  max-height: ",";\n  z-index: 101000000000000;\n\n  @media (max-width: 600px) {\n    position: relative;\n    max-height: ",";\n  }\n"]);return f=function(){return e},e}function p(){var e=h(["\n  width: 100%;\n  padding: 9px 12px;\n  cursor: pointer;\n  ","\n  \n  :hover {\n    opacity: ",";\n  }\n  \n  :after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    margin-top: -2.5px;\n    right: 5px;\n    width: 0; \n    height: 0; \n    border-left: 5px solid transparent;\n    border-right: 5px solid transparent;\n    \n    border-top: 5px solid #fff;\n  }\n"]);return p=function(){return e},e}function d(){var e=h(["\n  ",";\n  display: ",";\n  width: ",";\n  text-align: ",";\n"]);return d=function(){return e},e}function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,i=y(a);function a(){var e;g(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(x(e=i.call.apply(i,[this].concat(n))),"state",{isOpened:!1}),S(x(e),"getValue",(function(t){var n=e.props,r=n.list,o=n.placeholder,i=void 0===o?"select":o,a=n.valueProp,c=void 0===a?"id":a,s=n.labelProp,l=void 0===s?"label":s,u=n.renderLabel,f=n.processValue,p=r.find((function(e){return e[c]===t}));return(f?f(p,t,r,c,l):p&&(p[l]&&u?u(p[l]):p[l]))||"".concat(i)})),S(x(e),"toggleMenu",(function(){var t=!e.state.isOpened;t?(e.onOutsideClick=function(t){27===t.keyCode&&e.toggleMenu()},document.addEventListener("keyup",e.onOutsideClick),document.addEventListener("mouseup",e.handleOutsideMouseClick),document.addEventListener("touchstart",e.handleOutsideMouseClick)):(document.removeEventListener("keyup",e.onOutsideClick),document.removeEventListener("mouseup",e.handleOutsideMouseClick),document.removeEventListener("touchstart",e.handleOutsideMouseClick)),e.setState({isOpened:t})})),S(x(e),"handleOutsideMouseClick",(function(t){var n=t.target;e.dropdown&&(e.selectedItem&&e.selectedItem.contains(n)||(e.dropdown.contains(n)?t.stopPropagation():e.setState({isOpened:!1})))})),S(x(e),"onItemClick",(function(t,n){var r=e.props,o=r.onChange,i=r.onBlur;o(n,t),i&&i(n),e.setState({isOpened:!1})})),S(x(e),"filterList",(function(t){var n=e.props,r=n.exclude,o=n.valueProp,i=void 0===o?"id":o;return r&&r.length?t.filter((function(e){return!r.includes(e[i])})):t})),e}return t=a,(n=[{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.onOutsideClick),document.removeEventListener("mouseup",this.onOutsideClick),document.removeEventListener("touchstart",this.onOutsideClick),document.removeEventListener("mouseup",this.handleOutsideMouseClick),document.removeEventListener("touchstart",this.handleOutsideMouseClick)}},{key:"render",value:function(){var e=this,t=this.state.isOpened,n=this.props,r=n.value,i=n.list,a=n.valueProp,c=void 0===a?"id":a,s=n.labelProp,l=void 0===s?"label":s,u=n.renderLabel,f=n.width,p=void 0===f?"":f,d=n.styles,h=void 0===d?{}:d,m=n.display,g=n.style,v=n.labelDescription,b=void 0===v?"":v,y=n.size,w=n.small,x=void 0!==w&&w,O=n.notRelativePosition,S=void 0!==O&&O;return o.default.createElement(k,{width:p,display:m,styles:h,style:g,notRelativePosition:S},o.default.createElement(_,{as:"div",small:x,size:y,styles:h,focused:t,notSelected:!r,onClick:this.toggleMenu,ref:function(t){e.selectedItem=t},relativePosition:S},this.getValue(r)," ",b?"(".concat(b,")"):""),o.default.createElement(E,{size:y,show:t&&this.filterList(i).length,ref:function(t){e.dropdown=t},limitedWidth:S},this.filterList(i).map((function(t){return o.default.createElement(P,{size:y,key:t[c],onClick:function(n){e.onItemClick(n,t[c])}},t.color&&o.default.createElement(M,{color:t.color}),o.default.createElement(R,null,function(e){return e[l]&&u?u(e[l]):e[l]}(t)))}))))}}])&&v(t.prototype,n),r&&v(t,r),a}(o.Component),k=i.default.div(d(),(function(e){return!e.notRelativePosition&&"position: relative;"}),(function(e){return e.display?e.display:e.width?"inline-block":"block"}),(function(e){return e.width||"auto"}),(function(e){return e.styles.textAlign?e.styles.textAlign:"left"})),_=(0,i.default)(a.FileInput).attrs()(p(),(function(e){return e.relativePosition&&"position: relative;"}),(function(e){return e.styles.opacity&&1})),E=i.default.ul(f(),(function(e){return e.show?"block":"none"}),(function(e){return e.limitedWidth?"111px":"100%"}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.primaryBg}),(function(e){return"sm"===e.size?"250px":"200px"}),(function(e){return e.show?"120px":"0"})),P=i.default.li(u(),(function(e){return j(e.size)}),(function(e){return e.theme.colors.primaryBg})),j=function(e){switch(e){case"sm":return"padding: .2rem .6rem; font-size: 12px;";case"md":return"padding: .3rem .7rem; font-size: 12px;";default:return"padding: .375rem .75rem; font-size: 14px;"}},R=i.default.span(l()),M=i.default.span(s(),(function(e){return e.color?e.color:"transparent"})),A=C;t.default=A},726:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldGroup=t.FieldCustomLabel=t.ItemIcon=t.ItemGroup=t.SettingsWrapper=t.ItemsWrapper=t.AddWrapper=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};function i(){var e=p(["\n  color: #fff;\n  display: inline-block;\n  margin-bottom: 0;\n"]);return i=function(){return e},e}function a(){var e=p(["\n  display: flex;\n  flex-direction: column;\n  jutifyContent: center;\n  alignItems: center;\n  margin: 20px;\n\n  input {\n    margin-left: auto;\n    margin-right: auto;\n  }\n"]);return a=function(){return e},e}function c(){var e=p(["\n  width: 50px;\n  height: 50px;\n  max-width: 50px;\n  max-height: 50px;\n  padding-bottom: 3px;\n  cursor: pointer;\n  margin-left: auto;\n  margin-right: auto;\n\n  ","\n\n  img {\n    max-width: 100%;\n  }\n"]);return c=function(){return e},e}function s(){var e=p(["\n  padding: 8px 25px;\n\n  * {\n    cursor: pointer;\n  }\n"]);return s=function(){return e},e}function l(){var e=p(["\n  height: 100%;\n  padding: 0 15px;\n  display: flex;\n  align-items: center;\n"]);return l=function(){return e},e}function u(){var e=p(["\n  color: ",";\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  text-align: center; \n  width: fit-content;\n  min-width: 111px;\n  max-width: 100%;\n  height: 100%;\n  margin-left: auto;\n  margin-right: auto;\n  \n  ::-webkit-scrollbar {\n    height: 10px !important;\n  }\n   \n  ::-webkit-scrollbar-thumb {\n    background: #3b4d54;\n    border-radius: 5px;\n  }\n  \n  @media (min-width: 768px) {\n    overflow-x: auto;\n    overflow-y: hidden;\n    white-space: nowrap;\n  }\n"]);return u=function(){return e},e}function f(){var e=p(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n"]);return f=function(){return e},e}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=o.default.div(f());t.AddWrapper=d;var h=o.default.div(u(),(function(e){return e.theme.colors.text}));t.ItemsWrapper=h;var m=o.default.div(l());t.SettingsWrapper=m;var g=o.default.div(s());t.ItemGroup=g;var v=o.default.div(c(),(function(e){return e.isIconNotProvided&&"\n    background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE3LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDQ5NSA0OTUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ5NSA0OTU7IiB4bWw6c3BhY2U9InByZXNlcnZlIiBmaWxsPSJ3aGl0ZSI+DQo8Zz4NCgk8cGF0aCBkPSJNNDk1LDEwMy41MTNWOTUuNWMwLTIxLjc4LTE3LjcyLTM5LjUtMzkuNS0zOS41aC00MTZDMTcuNzIsNTYsMCw3My43MiwwLDk1LjV2MzAzLjk5N2MwLDAuMDAzLDAsMC4wMDUsMCwwLjAwOA0KCQlDMC4wMDMsNDIxLjI4MywxNy43MjIsNDM5LDM5LjUsNDM5aDQxNmMyMS43OCwwLDM5LjUtMTcuNzIsMzkuNS0zOS41VjEwMy41MjFDNDk1LDEwMy41MTgsNDk1LDEwMy41MTYsNDk1LDEwMy41MTN6IE0zOS41LDcxaDQxNg0KCQljMTMuNTA5LDAsMjQuNSwxMC45OSwyNC41LDI0LjV2NC44ODNjLTM1LjEyMSwzNC45NjMtOTIuODUsOTIuNDY0LTE0MC43MjEsMTQwLjI4OWwtNzUuMTYyLTc1LjE2Mg0KCQljLTkuMTYyLTkuMTYyLTI0LjA3MS05LjE2Mi0zMy4yMzMsMEwxNSwzODEuMzkzVjk1LjVDMTUsODEuOTksMjUuOTkxLDcxLDM5LjUsNzF6IE00NTUuNSw0MjRoLTQxNg0KCQljLTEyLjUxOSwwLTIyLjg2OC05LjQzOS0yNC4zMTktMjEuNTc0TDI0MS40OSwxNzYuMTE3YzMuMzE0LTMuMzE0LDguNzA2LTMuMzE0LDEyLjAyMSwwbDc1LjE1OCw3NS4xNTgNCgkJQzI4OS4yNiwyOTAuNjcsMjU4LjgxMywzMjEuMjQ5LDI1Ny41LDMyM2MtMi40ODUsMy4zMTMtMS44MTQsOC4wMTUsMS41LDEwLjVjMS4zNDksMS4wMTIsMi45MjgsMS41LDQuNDk0LDEuNQ0KCQljMi4xODcsMCw0LjM0OS0wLjk1Myw1LjgyMi0yLjc2NEMyNzUuMDc1LDMyNS43Nyw0MTIuOTYyLDE4OC4zMDgsNDgwLDEyMS41NTFWMzk5LjVDNDgwLDQxMy4wMSw0NjkuMDA5LDQyNCw0NTUuNSw0MjR6Ii8+DQoJPHBhdGggZD0iTTEwMy41LDE5OWMyMS43OCwwLDM5LjUtMTcuNzIsMzkuNS0zOS41UzEyNS4yOCwxMjAsMTAzLjUsMTIwUzY0LDEzNy43Miw2NCwxNTkuNVM4MS43MiwxOTksMTAzLjUsMTk5eiBNMTAzLjUsMTM1DQoJCWMxMy41MDksMCwyNC41LDEwLjk5LDI0LjUsMjQuNVMxMTcuMDA5LDE4NCwxMDMuNSwxODRTNzksMTczLjAxLDc5LDE1OS41Uzg5Ljk5MSwxMzUsMTAzLjUsMTM1eiIvPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo=');\n    background-size: cover;\n    background-repeat: no-repeat;\n  "}));t.ItemIcon=v;var b=o.default.div(a());t.FieldGroup=b;var y=o.default.label(i());t.FieldCustomLabel=y},738:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FocusPointImg=t.FocusPointWrap=t.FocusPointContainer=t.FocusPoint=t.PreviewCanvas=t.PreResizeBox=t.PreviewImgBox=t.Canvas=t.PreviewWrapper=void 0;var r=i(n(0)),o=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}function a(){var e=m(["\n  display: ",";\n  max-height: 100%;\n  max-width: 100%;\n  vertical-align: middle;\n"]);return a=function(){return e},e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(){var e=m(["\n  width: ","px;\n  height: ","px;\n  display: inline-block;\n  max-height: 100%;\n  max-width: 100%;\n  vertical-align: middle;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  outline: 0;\n"]);return f=function(){return e},e}function p(){var e=m(["\n  display: inline-block;\n  max-height: 100%;\n  max-width: 100%;\n  /*width: 100%;*/\n  height: 100%;\n  vertical-align: middle;\n\n  ","\n\n  /* Limit image width to avoid overflow the container */\n  img {\n    max-width: 100% !important; /* This rule is very important, please do not ignore this! */\n  }\n\n  .filerobot-edit-canvas {\n    display: ",";\n    max-height: 100%;\n    max-width: 100%;\n    vertical-align: middle;\n  }\n\n   ","\n"]);return p=function(){return e},e}function d(){var e=m(["\n  display: inline-block;\n  vertical-align: middle;\n  width: 100%;\n"]);return d=function(){return e},e}function h(){var e=m(["\n  height: calc(100% - 170px);\n  text-align: center;\n  line-height: calc(100% - 170px);\n  padding: 20px;\n  position: relative;\n\n  :before {\n    content: '';\n    display: inline-block;\n    height: 100%;\n    vertical-align: middle;\n  }\n"]);return h=function(){return e},e}function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g=o.default.div(h());t.PreviewWrapper=g;var v=(0,o.default)("div")(d());t.PreResizeBox=v;var b=o.default.div(p(),(function(e){return e.hideCanvas?"\n  canvas {\n    position: relative;\n    left: -9999px;\n  }\n  ":"\n  :before {\n    content: '';\n    display: inline-block;\n    height: 100%;\n    vertical-align: middle;\n  }"}),(function(e){return e.hide?"none":"inline-block"}),(function(e){return e.isShowWatermark&&"\ncanvas:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: red;\n    opacity: 0.5;\n  }"}));t.PreviewImgBox=b;var y=(0,o.default)("canvas")(f(),(function(e){return e.width||0}),(function(e){return e.height||0}));t.PreviewCanvas=y;var w=(0,o.default)(r.default.forwardRef((function(e,t){e.width,e.height;var n=u(e,["width","height"]);return r.default.createElement("div",l({className:"focus-point"},n,{ref:t}))})))((function(e){return{width:e.width,height:e.height,position:"absolute",margin:"auto",top:0,bottom:0,left:0,right:0,display:"inline-block",maxHeight:"100%",maxWidth:"100%",verticalAlign:"middle"}}));t.FocusPointWrap=w;var x=(0,o.default)((function(e){e.image;var t=u(e,["image"]);return r.default.createElement("div",t)}))((function(e){var t=e.image;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({position:"relative",height:"100%",width:"100%",cursor:"crosshair"},t?{backgroundImage:"url(".concat(t,")"),backgroundSize:"contain"}:{})}));t.FocusPointContainer=x;var O=(0,o.default)((function(e){e.x,e.y,e.visible;var t=u(e,["x","y","visible"]);return r.default.createElement("span",t)}))((function(e){var t=e.x,n=void 0===t?0:t,r=e.y,o=void 0===r?0:r,i=e.visible;return{position:"absolute",top:o,left:n,visibility:void 0===i||i?"visible":"hidden",display:"inline-block",width:30,height:30,transform:"translate(-50%, -50%)",fontFamily:"filerobot-image-editor-font !important",color:"#fff",fontSize:30,"::before":{content:"'\\e919'",position:"absolute",top:"50%",left:0,textShadow:"0px 0px 3px #000000"}}}));t.FocusPoint=O;var S=(0,o.default)((function(e){e.visible;var t=u(e,["visible"]);return r.default.createElement("img",t)}))((function(e){return{visibility:e.visible?"visible":"hidden",maxWidth:"100%",maxHeight:"100%"}}));t.FocusPointImg=S;var C=o.default.canvas.attrs((function(){return{}}))(a(),(function(e){return e.hide?"none":"inline-block"}));t.Canvas=C},739:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionsWrapper=t.CancelBtn=t.ToolbarWrapper=t.RightActions=t.LeftActions=t.Title=t.HeaderTop=t.HeaderWrapper=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(723),a=n(704);function c(){var e=g(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100px;\n  background: ",";\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n    height: initial;\n  }\n"]);return c=function(){return e},e}function s(){var e=g(["\n  right: 0;\n"]);return s=function(){return e},e}function l(){var e=g(["\n  display: ",";\n  flex-direction: column;\n  justify-content: center;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  \n  ",":nth-child(2) {\n    margin-top: 5px;\n  }\n"]);return l=function(){return e},e}function u(){var e=g(["\n  background: ",";\n  border-color: ",";\n  color: ",";\n  text-transform: ",";\n  \n  :hover {\n    background: ",";\n    border-color: ",";\n    color: ",";  \n  }\n"]);return u=function(){return e},e}function f(){var e=g(["\n  display: inline-block;\n  position: absolute;\n  top: calc(50% - 20px);\n  text-align: center;\n  width: 100px;\n  padding: 10px 10px 5px;\n  \n  @media (max-width: 768px) {\n    position: initial;\n    width: 50%;\n  }\n"]);return f=function(){return e},e}function p(){var e=g(["\n  @media (max-width: 768px) {\n    display: flex;\n    justify-content: center;\n    width: 100%;\n  }\n"]);return p=function(){return e},e}function d(){var e=g(["\n  text-align: center;\n  text-transform: ",";\n  color: ","\n"]);return d=function(){return e},e}function h(){var e=g(["\n  line-height: 35px;\n  border-bottom: 1px solid ",";\n  background: ",";\n"]);return h=function(){return e},e}function m(){var e=g(["\n  background: ",";\n"]);return m=function(){return e},e}function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var v=o.default.div(m(),(function(e){return e.theme.colors.secondaryBg}));t.HeaderWrapper=v;var b=o.default.div(h(),(function(e){return e.theme.colors.primaryBg}),(function(e){return e.theme.colors.primaryBg}));t.HeaderTop=b;var y=o.default.div(d(),(function(e){return e.noCapitalStrs?"none":"capitalize"}),(function(e){return e.theme.colors.text}));t.Title=y;var w=(0,o.default)("div")(p());t.ActionsWrapper=w;var x=(0,o.default)("div")(f()),O=(0,o.default)(i.Button)(u(),(function(e){return e.theme.colors.primaryBg}),(function(e){return e.theme.colors.primaryBg}),(function(e){return e.theme.colors.text}),(function(e){return e.noCapitalStrs?"none":"capitalize"}),(function(e){return(0,a.getHoverColor)(e.theme.colors.primaryBg)}),(function(e){return e.theme.colors.primaryBg}),(function(e){return e.theme.colors.text}));t.CancelBtn=O;var S=(0,o.default)(x)(l(),(function(e){return e.hide?"none":"flex"}),O);t.LeftActions=S;var C=(0,o.default)(x)(s());t.RightActions=C;var k=o.default.div(c(),(function(e){return e.theme.colors.secondaryBg}));t.ToolbarWrapper=k},740:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Footer",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"PreResize",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Tool",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return s.default}});var r=l(n(848)),o=l(n(849)),i=l(n(873)),a=l(n(874)),c=l(n(742)),s=l(n(888));function l(e){return e&&e.__esModule?e:{default:e}}},741:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,CanvasRenderingContext2D.prototype.roundRect=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return o?(n<2*o&&(o=n/2),r<2*o&&(o=r/2)):o=n>=r?n/2:r/2,this.beginPath(),this.moveTo(e+o,t),this.arcTo(e+n,t,e+n,t+r,o),this.arcTo(e+n,t+r,e,t+r,o),this.arcTo(e,t+r,e,t,o),this.arcTo(e,t,e+n,t,o),this.closePath(),this},CanvasRenderingContext2D.prototype.round=function(){var e=this.canvas,t=e.width,n=e.height;return this.imageSmoothingEnabled=!0,this.globalCompositeOperation="destination-in",this.strokeStyle="transparent",this.lineWidth=1,this.beginPath(),this.roundRect(0,0,t,n,Math.max(t,n)),this.fill(),this.globalCompositeOperation="source-over",this};var r=CanvasRenderingContext2D;t.default=r},742:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(694);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(f,e);var t,n,i,a=u(f);function f(){return c(this,f),a.apply(this,arguments)}return t=f,(n=[{key:"render",value:function(){var e=this.props,t=e.name,n=e.activeTab,i=e.updateState,a=e.t,c="rotate"===t?"orientation":t;return r.default.createElement(o.ToolWrapper,{active:n===t,onClick:function(){return i({activeTab:t})}},r.default.createElement(o.ToolIcon,{name:t}),r.default.createElement(o.ToolLabel,null,a["toolbar.".concat(c)]))}}])&&s(t.prototype,n),i&&s(t,i),f}(r.Component);t.default=d},743:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"initClass",value:function(){this.blenders={}}},{key:"register",value:function(e,t){return this.blenders[e]=t}},{key:"execute",value:function(e,t,n){return this.blenders[e](t,n)}}],(n=null)&&r(t.prototype,n),o&&r(t,o),e}();o.initClass();var i=o;t.default=i},833:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var r,o=(r=n(834))&&r.__esModule?r:{default:r}},834:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==m(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=d(n(835)),i=n(694),a=n(2),c=n(933),s=n(702);n(935);var l=d(n(937)),u=d(n(941)),f=d(n(942)),p=n(943);function d(e){return e&&e.__esModule?e:{default:e}}function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(g,e);var t,n,d,h=w(g);function g(e){var t,n=e.show,r=void 0!==n&&n,o=e.src,i=void 0===o?"":o,a=e.config,c=void 0===a?{}:a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),C(O(t=h.call(this)),"_isMounted",!1),C(O(t),"processConfig",(function(e){var t=e.processWithCloudimage,n=e.tools||(t?s.CLOUDIMAGE_OPERATIONS:s.TOOLS);return v(v(v({},s.UPLOADER),{},{processWithCloudService:t,processWithFilerobot:!!e.filerobot,processWithCloudimage:!!e.cloudimage},e),{},{tools:t?n.filter((function(e){return s.CLOUDIMAGE_OPERATIONS.indexOf(e)>-1})):n})})),C(O(t),"open",(function(e){var n=t.props.onOpen;t._isMounted&&t.setState({isVisible:!0,src:e},(function(){n&&n()}))})),C(O(t),"close",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.ON_CLOSE_STATUSES.CLOSE_BTN_CLICKED,n=t.props.onClose,r="object"===m(e)?s.ON_CLOSE_STATUSES.CLOSE_BTN_CLICKED:e;t._isMounted&&t.setState({isVisible:!1},(function(){n&&n({status:r})}))})),c.translations=c.translations||{},c.language=c.translations[c.language]||l.default[c.language]?c.language:"en",c.theme=c.theme||{},c.theme.colors=c.theme.colors||{},c.theme.fonts=c.theme.fonts||s.STANDARD_FONTS,c.colorScheme=c.colorScheme||"dark",c.platform=c.platform||"filerobot",t.state={isVisible:r,src:i,config:t.processConfig(c),t:v(v({},l.default[c.language]),c.translations[c.language]),colorScheme:c.colorScheme||"dark",theme:{colors:v(v({},("light"===c.colorScheme?f.default:u.default).colors),c.theme.colors),fonts:c.theme.fonts}},t}return t=g,(n=[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUpdate",value:function(e){this.props.show!==e.show&&(this.props.show?this.open(this.props.src):this.close())}},{key:"render",value:function(){var e=this.state,t=e.isVisible,n=e.src,s=e.config,l=e.t,u=e.theme,f=this.props,d=f.onComplete,h=void 0===d?function(){}:d,m=f.onBeforeComplete,g=f.closeOnLoad,b=s.showInModal,y=void 0===b||b;if(!n||!t||p.isServerSide)return null;if(n instanceof Blob&&s.processWithCloudimage)return null;var w=r.default.createElement(i.Container,null,r.default.createElement(o.default,{src:n,config:s,onComplete:h,onBeforeComplete:m,onClose:this.close,closeOnLoad:g,t:l}));return r.default.createElement(a.ThemeProvider,{theme:v({},u)},y?r.default.createElement(c.Modal,{noBorder:!0,fullScreen:"lg",isHideCloseBtn:!0,style:{borderRadius:5},onClose:this.close,configModalId:s.elementId},w):w)}}])&&b(t.prototype,n),d&&b(t,d),g}(r.Component);t.default=k},835:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(694),a=n(740),c=(r=n(890))&&r.__esModule?r:{default:r};n(896);var s=n(702),l=n(707);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={effect:null,filter:null,crop:null,resize:null,rotate:null,correctionDegree:0,flipX:!1,flipY:!1,adjust:{brightness:0,contrast:0,saturation:0,exposure:0},canvasDimensions:{width:300,height:200,ratio:1.5}},O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(f,e);var t,n,r,u=g(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),w(b(t=u.call(this)),"_isMounted",!1),w(b(t),"loadImage",(function(){var e=t.props.src,n=t.state,r=n.reduceBeforeEdit,o=(r=void 0===r?{}:r).mode,i=r.widthLimit,a=r.heightLimit,c=n.watermark;e instanceof Blob&&(e=URL.createObjectURL(e));var s=e.split("/"),l=s[s.length-1],u=new Image,f=null;c&&c.url&&((f=new Image).setAttribute("crossOrigin","Anonymous"),f.src=c.url+(c.url.indexOf("?")>-1?"&":"?")+(new Date).getTime()),u.setAttribute("crossOrigin","Anonymous"),u.src=e,e.startsWith("data:image/")||e.startsWith("blob:")||(u.src=u.src+(u.src.indexOf("?")>-1?"&version=":"?version=")+(new Date).getTime()),u.onload=function(){var e={width:u.width,height:u.height,ratio:u.width/u.height},n={activeBody:"preResize",isShowSpinner:!1,img:u,logoImage:f,imageName:l.indexOf("?")>-1?l.slice(0,l.indexOf("?")):l};if("manual"===o&&(i<u.width||a<u.height))t.setState(d({canvasDimensions:e},n));else if("auto"===o&&(i<u.width||a<u.height))if(u.width>=u.height){var r=u.width/u.height,c={ratio:r,width:i,height:i/r};t.setState(d(d({preCanvasDimensions:d({},c),canvasDimensions:d({},c)},n),{},{activeBody:"preview",isPreResize:!0}))}else{var s=u.height/u.width,p={ratio:s,width:a/s,height:a};t.setState(d(d({preCanvasDimensions:d({},p),canvasDimensions:d({},p)},n),{},{activeBody:"preview",isPreResize:!0}))}else{var h,m=t.props.config.tools;1===m.length&&(h=m[0]),t.setState(d(d({},n),{},{activeBody:"preview",isPreResize:!1}),(function(){t.setState({activeTab:h})}))}}})),w(b(t),"determineImageType",(function(){var e=t.props.src;if(e instanceof Blob)t.setState({imageMime:e.type});else{var n=new XMLHttpRequest;n.open("GET",e),n.responseType="arraybuffer",n.onload=function(e){var n,r=e.target;t.setState({imageMime:(null===(n=(0,c.default)(new Uint8Array(r.response)))||void 0===n?void 0:n.mime)||"image/svg+xml"})},n.send()}})),w(b(t),"updateState",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(t._isMounted){var r=t.props.config.elementId,o=(0,l.getCanvasNode)(r);e.latestCanvasSize={width:o.width,height:o.height},t.setState(e,n)}})),w(b(t),"onRevert",(function(){var e=t.state,n=e.cancelLastOperation,r=e.activeTab;t.setState({activeTab:null,isHideCanvas:!0,isShowSpinner:!0}),n(r,(function(){t.setState(d({isHideCanvas:!1,isShowSpinner:!1},x))}))})),w(b(t),"onAdjust",(function(e,n){(0,t.state.onAdjust)(e,n)})),w(b(t),"onRotate",(function(e,n,r,o){(0,t.state.onRotate)(e,n,r,o)})),w(b(t),"onFlip",(function(e){(0,t.state.flip)(e)})),w(b(t),"onSave",(function(){var e=t.state.saveImage;t.setState({isShowSpinner:!0}),e()})),w(b(t),"onDownloadImage",(function(){var e=t.props.onBeforeComplete,n=t.state,r=n.downloadImage,o=(0,n.getResultCanvas)();!e||e({status:"before-complete",canvas:o})?r((function(){t.props.onComplete({status:"success",canvas:o}),t.props.onClose(s.ON_CLOSE_STATUSES.IMAGE_DOWNLOADED)})):(t.props.onComplete({status:"success",canvas:o}),t.props.onClose(s.ON_CLOSE_STATUSES.IMAGE_EDITS_COMPLETED))})),w(b(t),"onApplyEffects",(function(e){var n=t.state,r=n.applyCorrections,o=n.effect===e?null:e;t.setState({isShowSpinner:!0,effect:o},(function(){r((function(){t.setState({isShowSpinner:!1})}))}))})),w(b(t),"onApplyFilters",(function(e){var n=t.state,r=n.applyCorrections,o=n.filter===e?null:e;t.setState({isShowSpinner:!0,filter:o},(function(){r((function(){t.setState({isShowSpinner:!1})}))}))})),w(b(t),"handleSave",(function(){var e=t.state,n=e.processWithFilerobot,r=e.processWithCloudService;n||r?t.onSave():t.onDownloadImage()})),w(b(t),"apply",(function(e){var n=t.state,r=n.activeTab;(0,n.applyChanges)(r,e),t.setState({activeTab:null})})),w(b(t),"redoOperation",(function(e){var n=e.operationIndex,r=e.callback,o=void 0===r?function(){}:r,i=e.resetActiveTab,a=void 0===i||i,c=e.operationObject,s=void 0===c?{}:c,l=t.state.applyOperations;a?t.setState({activeTab:null,isHideCanvas:!0,isShowSpinner:!0}):t.setState({isHideCanvas:!0,isShowSpinner:!0}),l(n,(function(){t.setState({isHideCanvas:!1,isShowSpinner:!1},o)}),s)})),w(b(t),"resetOperations",(function(){var e=t.state.resetAll;t.setState({activeTab:null,isHideCanvas:!0,isShowSpinner:!0}),e((function(){t.setState(d({isHideCanvas:!1,isShowSpinner:!1},x))}))})),w(b(t),"onPreResize",(function(e){var n,r=t.props.config.tools;switch(1===r.length&&(n=r[0]),e){case"keep":t.setState({canvasDimensions:{},isPreResize:!1,activeBody:"preview"},(function(){t.setState({activeTab:n})}));break;case"resize":var o=t.state.canvasDimensions;t.setState({preCanvasDimensions:o,isPreResize:!0,activeBody:"preview"},(function(){t.setState({activeTab:n})}))}}));var n=e.config,r=n.processWithCloudimage,o=n.processWithFilerobot,i=n.processWithCloudService,a=n.uploadWithCloudimageLink,p=n.reduceBeforeEdit,h=n.cropBeforeEdit,m=n.watermark,g=n.imageSealing;return t.state=d(d({isShowSpinner:!0,isHideCanvas:!1,activeTab:null,activeBody:null,currentOperation:null,original:{width:300,height:200},cropDetails:{width:300,height:200},canvasDimensions:{width:300,height:200,ratio:1.5},processWithFilerobot:o,processWithCloudimage:r,processWithCloudService:i,uploadCloudimageImage:a,reduceBeforeEdit:p,cropBeforeEdit:h,roundCrop:!1,imageSealing:d({enabled:!1,salt:"",char_count:10,include_params:null},g),operationsOriginal:[],operationsZoomed:[],operations:[],canvasZoomed:null,canvasOriginal:null,isPreResize:!1,initialZoom:1},x),{},{watermark:m||s.DEFAULT_WATERMARK,focusPoint:{x:null,y:null},shapes:[],selectedShape:{},availableShapes:[]}),t}return t=f,(n=[{key:"componentDidMount",value:function(){this._isMounted=!0,this.loadImage(),this.determineImageType()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=e.isShowSpinner,n=e.activeTab,r=e.operations,c=e.operationsOriginal,s=e.operationsZoomed,l=e.currentOperation,u=e.isHideCanvas,f=e.cropDetails,p=e.original,h=e.canvasDimensions,m=e.processWithCloudimage,g=e.processWithFilerobot,v=e.processWithCloudService,b=e.uploadCloudimageImage,y=e.imageMime,w=e.lastOperation,x=e.operationList,O=e.initialZoom,S=e.canvasZoomed,C=e.canvasOriginal,k=e.reduceBeforeEdit,_=e.cropBeforeEdit,E=e.img,P=e.imageName,j=e.activeBody,R=e.isPreResize,M=e.preCanvasDimensions,A=e.logoImage,D=e.imageSealing,I=e.effect,T=e.filter,B=e.crop,z=e.roundCrop,L=e.resize,F=e.rotate,W=e.correctionDegree,N=e.flipX,H=e.flipY,U=e.adjust,Y=e.watermark,V=e.focusPoint,X=e.shapes,G=e.shapeOperations,Z=e.selectedShape,q=e.availableShapes,K=e.latestCanvasSize,Q=this.props,J=Q.src,$=Q.config,ee=Q.onClose,te=Q.onComplete,ne=Q.closeOnLoad,re=void 0===ne||ne,oe=Q.t,ie=void 0===oe?{}:oe,ae=Q.theme,ce={effect:I,filter:T,crop:B,resize:L,rotate:F,flipX:N,flipY:H,adjust:U,correctionDegree:W},se=d(d({t:ie,theme:ae,cropDetails:f,original:p,activeTab:n,src:J,onClose:ee,config:$,canvasDimensions:h,processWithCloudimage:m,processWithFilerobot:g,processWithCloudService:v,operations:r,operationsOriginal:c,operationsZoomed:s,initialZoom:O,isShowSpinner:t,img:E,logoImage:A,imageName:P,activeBody:j,preCanvasDimensions:M,updateState:this.updateState,onRevert:this.onRevert,apply:this.apply,onSave:this.onSave,onFlip:this.onFlip,onApplyEffects:this.onApplyEffects,onApplyFilters:this.onApplyFilters,onRotate:this.onRotate,onAdjust:this.onAdjust,onDownloadImage:this.onDownloadImage,handleSave:this.handleSave},ce),{},{watermark:Y,focusPoint:V,shapes:X,shapeOperations:G,selectedShape:Z,availableShapes:q}),le=d(d({t:ie,theme:ae,cropDetails:f,original:p,activeTab:n,isShowSpinner:t,operations:r,operationsOriginal:c,operationsZoomed:s,initialZoom:O,currentOperation:l,isHideCanvas:u,src:J,imageMime:y,onClose:ee,onComplete:te,canvasDimensions:h,closeOnLoad:re,config:$,processWithCloudimage:m,processWithFilerobot:g,processWithCloudService:v,imageSealing:D,uploadCloudimageImage:b,lastOperation:w,operationList:x,canvasZoomed:S,canvasOriginal:C,reduceBeforeEdit:k,cropBeforeEdit:_,img:E,logoImage:A,imageName:P,isPreResize:R,preCanvasDimensions:M,updateState:this.updateState,handleSave:this.handleSave,onPreResize:this.onPreResize,redoOperation:this.redoOperation,roundCrop:z},ce),{},{watermark:Y,focusPoint:V,shapes:X,shapeOperations:G,selectedShape:Z,latestCanvasSize:K}),ue={logoImage:A,t:ie,theme:ae,activeBody:j,operations:r,operationsOriginal:c,operationsZoomed:s,initialZoom:O,currentOperation:l,processWithCloudimage:m,processWithCloudService:v,updateState:this.updateState,redoOperation:this.redoOperation,resetOperations:this.resetOperations,config:$,watermark:Y};return o.default.createElement(i.Wrapper,{roundCrop:z},o.default.createElement(a.Header,se),o.default.createElement(i.PreviewWrapper,null,"preview"===j&&o.default.createElement(a.Preview,le),"preResize"===j&&o.default.createElement(a.PreResize,le),o.default.createElement(i.Spinner,{overlay:!0,show:t,label:ie["spinner.label"]})),o.default.createElement(a.Footer,ue))}}])&&h(t.prototype,n),r&&h(t,r),f}(o.Component);t.default=O},836:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EffectLabel=t.EffectIcon=t.EffectWrapper=t.EffectsWrapper=t.ToolLabel=t.ToolIcon=t.ToolWrapper=t.Toolbar=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(704);function a(){var e=h(["\n  text-transform: ",";\n  height: 20px;\n  line-height: 20px;\n"]);return a=function(){return e},e}function c(){var e=h(["\n  background: url('","') 50% 50% / cover no-repeat;\n  width: 55px;\n  height: 55px;\n  border-radius: 2px;\n  overflow: hidden;\n  display: inline-block;\n"]);return c=function(){return e},e}function s(){var e=h(["\n  display: inline-block;\n  vertical-align: top;\n  padding: 10px;\n  text-align: center;\n  min-width: 90px;\n  height: 90px;\n  cursor: pointer;\n  color: ",";\n  font-size: 12px;\n  background: ",";\n  \n  :hover {\n    background: ",";\n  }\n"]);return s=function(){return e},e}function l(){var e=h(["\n  overflow-x: auto;\n  overflow-y: hidden;\n  white-space: nowrap;\n  \n  ::-webkit-scrollbar {\n    height: 10px !important;\n  }\n   \n  ::-webkit-scrollbar-thumb {\n    background: #3b4d54;\n    border-radius: 5px;\n  }\n"]);return l=function(){return e},e}function u(){var e=h(["\n  height: 20px;\n  line-height: 20px;\n"]);return u=function(){return e},e}function f(){var e=h(["\n  height: 40px;\n  font-size: 40px;\n  \n  ","\n  ","\n"]);return f=function(){return e},e}function p(){var e=h(["\n  padding: 20px 10px;\n  cursor: pointer;\n  display: inline-block;\n  min-width: 80px;\n  min-height: 100px;\n  text-align: center;\n  font-size: 12px;\n  color: ",";\n  text-transform: ",";\n  background: ",";\n  \n  :hover {\n    color: ",";\n    background: ",";\n  }\n"]);return p=function(){return e},e}function d(){var e=h(["\n  height: 100px;\n  width: calc(100% - 200px);\n  border-left: 1px solid ",";\n  border-right: 1px solid ",";\n  overflow-x: ",";\n  overflow-y: ",";\n  white-space: nowrap;\n  \n  ::-webkit-scrollbar {\n    height: 10px !important;\n  }\n   \n  ::-webkit-scrollbar-thumb {\n    background: #3b4d54;\n    border-radius: 5px;\n  }\n  \n  @media (max-width: 768px) {\n    width: 100%;\n    height: initial;\n    padding: 0 10px;\n  }\n"]);return d=function(){return e},e}function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m=o.default.div(d(),(function(e){return e.theme.colors.primaryBg}),(function(e){return e.theme.colors.primaryBg}),(function(e){return e.overlayYHidden?"auto":"none"}),(function(e){return e.overlayYHidden?"hidden":"visible"}));t.Toolbar=m;var g=o.default.div(p(),(function(e){return e.theme.colors.text}),(function(e){return e.noCapitalStrs?"none":e.tt||"capitalize"}),(function(e){return e.active?e.theme.colors.secondaryBg:"inherit"}),(function(e){return e.theme.colors.textHover}),(function(e){return e.theme.colors.secondaryBg}));t.ToolWrapper=g;var v=o.default.div(f(),(function(e){return(0,i.getIconStyles)(e)}),(function(e){return(0,i.getIconByName)(e.name)}));t.ToolIcon=v;var b=o.default.div(u());t.ToolLabel=b;var y=o.default.div(l());t.EffectsWrapper=y;var w=o.default.div(s(),(function(e){return e.theme.colors.text}),(function(e){return e.active?e.theme.colors.secondaryBgHover:"transparent"}),(function(e){return e.theme.colors.secondaryBgHover}));t.EffectWrapper=w;var x=o.default.div(c(),(function(e){return e.src}));t.EffectIcon=x;var O=o.default.div(a(),(function(e){return e.noCapitalStrs?"none":"capitalize"}));t.EffectLabel=O},837:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Container=t.Wrapper=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};function i(){var e=c(["\n  position: relative;\n  background: ",";\n  z-index: 1050;\n  width: 100%;\n  height: 100%;\n  min-height: 520px;\n  overflow-y: auto;\n  font-size: 12px;\n  \n  .filerobot-original-canvas {\n    visibility: hidden;\n    position: absolute;\n    left: -99999px;\n    display: none;\n  }\n    \n  .cropper-container {\n    direction: ltr;\n    font-size: 0;\n    line-height: 0;\n    position: relative;\n    -ms-touch-action: none;\n    touch-action: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n  }\n  \n  .cropper-container img {/*Avoid margin top issue (Occur only when margin-top <= -height)*/\n    display: block;\n    height: 100%;\n    image-orientation: 0deg;\n    max-height: none !important;\n    max-width: none !important;\n    min-height: 0 !important;\n    min-width: 0 !important;\n    width: 100%;\n  }\n  \n  .cropper-wrap-box,\n  .cropper-canvas,\n  .cropper-drag-box,\n  .cropper-crop-box,\n  .cropper-modal {\n    bottom: 0;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n  }\n  \n  .cropper-wrap-box,\n  .cropper-canvas {\n    overflow: hidden;\n  }\n  \n  .cropper-drag-box {\n    background-color: #fff;\n    opacity: 0;\n  }\n  \n  .cropper-modal {\n    background-color: #000;\n    opacity: .5;\n  }\n  \n  .cropper-view-box {\n    display: block;\n    height: 100%;\n    outline-color: rgba(255, 255, 255, 0.75);\n    outline: 1px solid #fff;\n    overflow: hidden;\n    width: 100%;\n    ","\n  }\n  \n  .cropper-dashed {\n    border: 0 dashed #eee;\n    display: block;\n    opacity: .5;\n    position: absolute;\n  }\n  \n  .cropper-dashed.dashed-h {\n    border-bottom-width: 1px;\n    border-top-width: 1px;\n    height: 33.33333%;\n    left: 0;\n    top: 33.33333%;\n    width: 100%;\n  }\n  \n  .cropper-dashed.dashed-v {\n    border-left-width: 1px;\n    border-right-width: 1px;\n    height: 100%;\n    left: 33.33333%;\n    top: 0;\n    width: 33.33333%;\n  }\n  \n  .cropper-center {\n    display: block;\n    height: 0;\n    left: 50%;\n    opacity: .75;\n    position: absolute;\n    top: 50%;\n    width: 0;\n  }\n  \n  .cropper-center:before,\n  .cropper-center:after {\n    background-color: #fff;\n    content: ' ';\n    display: block;\n    position: absolute;\n  }\n  \n  .cropper-center:before {\n    height: 1px;\n    left: -10px;\n    top: 0;\n    width: 20px;\n  }\n  \n  .cropper-center:after {\n    height: 20px;\n    left: 0;\n    top: -10px;\n    width: 1px;\n  }\n  \n  .cropper-face,\n  .cropper-line,\n  .cropper-point {\n    display: block;\n    height: 100%;\n    opacity: .1;\n    position: absolute;\n    width: 100%;\n  }\n  \n  .cropper-face {\n    background-color: #fff;\n    left: 0;\n    top: 0;\n    ","\n  }\n  \n  .cropper-line {\n    background-color: #fff;\n  }\n  \n  .cropper-line.line-e {\n    cursor: ew-resize;\n    right: -3px;\n    top: 0;\n    width: 5px;\n  }\n  \n  .cropper-line.line-n {\n    cursor: ns-resize;\n    height: 5px;\n    left: 0;\n    top: -3px;\n  }\n  \n  .cropper-line.line-w {\n    cursor: ew-resize;\n    left: -3px;\n    top: 0;\n    width: 5px;\n  }\n  \n  .cropper-line.line-s {\n    bottom: -3px;\n    cursor: ns-resize;\n    height: 5px;\n    left: 0;\n  }\n  \n  .cropper-point {\n    background-color: #fff;\n    height: 20px;\n    opacity: .90;\n    width: 20px;\n    border-radius: 50%;\n    \n    &:before {\n      content: '';\n      display: table;\n      width: 8px;\n      height: 8px;\n      border-radius: 50%;\n      background: black;\n      opacity: 0.8;\n      z-index: 11;\n      position: absolute;\n      top: calc(50% - 4px);\n      left: calc(50% - 4px);\n    }\n  }\n  \n  .cropper-point.point-e {\n    cursor: ew-resize;\n    margin-top: -10px;\n    right: -10px;\n    top: 50%;\n  }\n  \n  .cropper-point.point-n {\n    cursor: ns-resize;\n    left: 50%;\n    margin-left: -10px;\n    top: -10px;\n  }\n  \n  .cropper-point.point-w {\n    cursor: ew-resize;\n    left: -10px;\n    margin-top: -10px;\n    top: 50%;\n  }\n  \n  .cropper-point.point-s {\n    bottom: -10px;\n    cursor: s-resize;\n    left: 50%;\n    margin-left: -10px;\n  }\n  \n  .cropper-point.point-ne {\n    cursor: nesw-resize;\n    right: -10px;\n    top: -10px;\n  }\n  \n  .cropper-point.point-nw {\n    cursor: nwse-resize;\n    left: -10px;\n    top: -10px;\n  }\n  \n  .cropper-point.point-sw {\n    bottom: -10px;\n    cursor: nesw-resize;\n    left: -10px;\n  }\n  \n  .cropper-point.point-se {\n    bottom: -10px;\n    cursor: nwse-resize;\n    height: 20px;\n    right: -10px;\n    width: 20px;\n  }\n  \n  .cropper-point.point-se:before {\n    content: '';\n    display: table;\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    background: black;\n    opacity: 0.8;\n    z-index: 11;\n    position: absolute;\n    top: calc(50% - 4px);\n    left: calc(50% - 4px);\n  }\n  \n  .cropper-invisible {\n    opacity: 0;\n  }\n  \n  .cropper-bg {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC');\n  }\n  \n  .cropper-hide {\n    display: block;\n    height: 0;\n    position: absolute;\n    width: 0;\n  }\n  \n  .cropper-hidden {\n    display: none !important;\n  }\n  \n  .cropper-move {\n    cursor: move;\n  }\n  \n  .cropper-crop {\n    cursor: crosshair;\n  }\n  \n  .cropper-disabled .cropper-drag-box,\n  .cropper-disabled .cropper-face,\n  .cropper-disabled .cropper-line,\n  .cropper-disabled .cropper-point {\n    cursor: not-allowed;\n  }\n  \n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  }\n"]);return i=function(){return e},e}function a(){var e=c(["\n  height: 100%;\n  width: 100%;\n  overflow-y: auto;\n\n  *, *:after, *:before, *::after, *::before {\n    box-sizing: border-box;\n  }\n  *:after, *:before, *::after, *::before {\n    padding: 0;\n    margin: 0;\n    outline: 0;\n    box-sizing: border-box;\n  }\n\n  /* cyrillic-ext */\n  @font-face {\n    font-family: 'Roboto Mono';\n    font-style: normal;\n    font-weight: 400;\n    src: local('Roboto Mono'), local('RobotoMono-Regular'), url(https://fonts.gstatic.com/s/robotomono/v5/hMqPNLsu_dywMa4C_DEpY_ZraR2Tg8w2lzm7kLNL0-w.woff2) format('woff2');\n    unicode-range: U+0460-052F, U+20B4, U+2DE0-2DFF, U+A640-A69F;\n  }\n  /* cyrillic */\n  @font-face {\n    font-family: 'Roboto Mono';\n    font-style: normal;\n    font-weight: 400;\n    src: local('Roboto Mono'), local('RobotoMono-Regular'), url(https://fonts.gstatic.com/s/robotomono/v5/hMqPNLsu_dywMa4C_DEpY14sYYdJg5dU2qzJEVSuta0.woff2) format('woff2');\n    unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;\n  }\n  /* greek-ext */\n  @font-face {\n    font-family: 'Roboto Mono';\n    font-style: normal;\n    font-weight: 400;\n    src: local('Roboto Mono'), local('RobotoMono-Regular'), url(https://fonts.gstatic.com/s/robotomono/v5/hMqPNLsu_dywMa4C_DEpY1BW26QxpSj-_ZKm_xT4hWw.woff2) format('woff2');\n    unicode-range: U+1F00-1FFF;\n  }\n  /* greek */\n  @font-face {\n    font-family: 'Roboto Mono';\n    font-style: normal;\n    font-weight: 400;\n    src: local('Roboto Mono'), local('RobotoMono-Regular'), url(https://fonts.gstatic.com/s/robotomono/v5/hMqPNLsu_dywMa4C_DEpYwt_Rm691LTebKfY2ZkKSmI.woff2) format('woff2');\n    unicode-range: U+0370-03FF;\n  }\n  /* vietnamese */\n  @font-face {\n    font-family: 'Roboto Mono';\n    font-style: normal;\n    font-weight: 400;\n    src: local('Roboto Mono'), local('RobotoMono-Regular'), url(https://fonts.gstatic.com/s/robotomono/v5/hMqPNLsu_dywMa4C_DEpY9DiNsR5a-9Oe_Ivpu8XWlY.woff2) format('woff2');\n    unicode-range: U+0102-0103, U+1EA0-1EF9, U+20AB;\n  }\n  /* latin-ext */\n  @font-face {\n    font-family: 'Roboto Mono';\n    font-style: normal;\n    font-weight: 400;\n    src: local('Roboto Mono'), local('RobotoMono-Regular'), url(https://fonts.gstatic.com/s/robotomono/v5/hMqPNLsu_dywMa4C_DEpY6E8kM4xWR1_1bYURRojRGc.woff2) format('woff2');\n    unicode-range: U+0100-024F, U+1E00-1EFF, U+20A0-20AB, U+20AD-20CF, U+2C60-2C7F, U+A720-A7FF;\n  }\n  /* latin */\n  @font-face {\n    font-family: 'Roboto Mono';\n    font-style: normal;\n    font-weight: 400;\n    src: local('Roboto Mono'), local('RobotoMono-Regular'), url(https://fonts.gstatic.com/s/robotomono/v5/hMqPNLsu_dywMa4C_DEpY4gp9Q8gbYrhqGlRav_IXfk.woff2) format('woff2');\n    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;\n  }\n"]);return a=function(){return e},e}function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=(0,o.default)("div")(a());t.Container=s;var l=o.default.div(i(),(function(e){return e.theme.colors.primaryBg}),(function(e){return e.roundCrop&&"border-radius: 50%;"}),(function(e){return e.roundCrop&&"\n      border-radius: 50%;\n      box-shadow: 0 0 80px 15px #000;\n      border: 2px solid #000;"}));t.Wrapper=l},838:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Switcher=t.ResetBtn=t.NextBtn=t.PreviousBtn=t.Footer=void 0;var r=a(n(0)),o=a(n(2)),i=n(704);function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(){var e=y(["\n  margin-left: 8px;\n  display: inline-block;\n  vertical-align: middle;\n  color: ",";\n  margin-bottom: 3px;\n  cursor: pointer;\n"]);return s=function(){return e},e}function l(){var e=y(["\n  display: inline-block;\n  vertical-align: middle;\n  line-height: 30px;\n  margin-right: 10px;\n  float: right;\n"]);return l=function(){return e},e}function u(){var e=y(["\n    display: block; \n    width: 10px;\n    height: 10px;\n    margin: 5.5px;\n    background: ",";\n    position: absolute; top: 0; bottom: 0;\n    right:  ",";\n    border: 1px solid ","; \n    border-radius: 12px;\n    transition: all 0.3s ease-in 0s;\n"]);return u=function(){return e},e}function f(){var e=y(["\n  display: block; \n  width: 200%; \n  margin-left: ",';\n  transition: margin 0.3s ease-in 0s;\n  \n  &:before, &:after {\n    display: block; float: left; width: 50%; height: 19px; padding: 0; line-height: 19px;\n    font-size: 10px; color: white; font-family: Trebuchet, Arial, sans-serif; font-weight: bold;\n    box-sizing: border-box;\n  }\n  \n  &:before {\n    content: "ON";\n    padding-left: 10px !important;\n    background-color: #01717d; \n    color: #fff;\n  }\n  \n  &:after {\n    content: "OFF";\n    padding-right: 10px !important;\n    background-color: ',"; \n    color: #aaa;\n    text-align: right;\n  }\n"]);return f=function(){return e},e}function p(){var e=y(["\n  display: block; \n  overflow: hidden; \n  cursor: pointer;\n  border: 1px solid ","; \n  border-radius: 4px;\n  margin: 0;\n"]);return p=function(){return e},e}function d(){var e=y(["\n  display: none;\n  \n  :checked + .onoffswitch-label .onoffswitch-inner {\n    margin-left: 0;\n}\n"]);return d=function(){return e},e}function h(){var e=y(["\n  position: relative; \n  display: inline-block;\n  vertical-align: middle;\n  width: 60px;\n  margin-bottom: 2px;\n  -webkit-user-select: none; \n  -moz-user-select: none; \n  -ms-user-select: none;\n"]);return h=function(){return e},e}function m(){var e=y(["\n  ","\n  ","\n  \n  ","\n"]);return m=function(){return e},e}function g(){var e=y(["\n  ","\n  ","\n  \n  ","\n"]);return g=function(){return e},e}function v(){var e=y(["\n  ","\n  ","\n  \n  ","\n"]);return v=function(){return e},e}function b(){var e=y(["\n  background: ",";\n  height: 34px;\n  position: relative;\n  z-index: 1;\n"]);return b=function(){return e},e}function y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=o.default.div(b(),(function(e){return e.theme.colors.secondaryBg}));t.Footer=w;var x=o.default.div(v(),(function(e){return(0,i.getIconStyles)(e)}),(0,i.getIconByName)("previous"),(function(e){return M(e)}));t.PreviousBtn=x;var O=o.default.div(g(),(function(e){return(0,i.getIconStyles)(e)}),(0,i.getIconByName)("next"),(function(e){return M(e)}));t.NextBtn=O;var S=o.default.div(m(),(function(e){return(0,i.getIconStyles)(e)}),(0,i.getIconByName)("reset"),(function(e){return M(e)}));t.ResetBtn=S;var C=o.default.div(h()),k=o.default.input(d()),_=o.default.label(p(),(function(e){return e.theme.colors.border})),E=o.default.span(f(),(function(e){return e.checked?"0":"-100%"}),(function(e){return e.theme.colors.primaryBg})),P=o.default.span(u(),(function(e){return e.theme.colors.secondaryBg}),(function(e){return e.checked?"0":"37px"}),(function(e){return e.theme.colors.secondaryBg})),j=(0,o.default)("div").attrs((function(){return{className:"cloudimage-url-generator-switch"}}))(l()),R=(0,o.default)("div")(s(),(function(e){return e.theme.colors.text}));function M(e){return"\n    display: inline-block;\n    height: 34px;\n    width: 34px;\n    cursor: ".concat(e.muted?"not-allowed":"pointer",";\n    text-align: center;\n    line-height: 34px;\n    border-right: 1px solid ").concat(e.theme.colors.border,";\n    \n    :hover {\n      background: ").concat(e.muted?"inherit":e.theme.colors.secondaryBgHover,";\n    }\n  ")}t.Switcher=function(e){var t=e.id,n=e.handleChange,o=e.text,i=e.checked,a=e.style;c(e,["id","handleChange","text","checked","style"]);return r.default.createElement(j,{style:a},r.default.createElement(C,null,r.default.createElement(k,{type:"checkbox",name:t,id:t,onChange:function(){n(!i)},checked:i}),r.default.createElement(_,{htmlFor:t},r.default.createElement(E,{checked:i}),r.default.createElement(P,{checked:i}))),o&&r.default.createElement(R,{onClick:function(){n(!i)}},o))}},839:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PresetsWrapper=t.ShapeAligner=t.CropShapeWrapper=t.CropLabel=t.CropShape=t.CropBoxInner=t.CropBox=t.BlockRatioIcon=t.BlockRatioBtn=t.BlockRatioWrapper=t.FieldInput=t.FileInput=t.FieldLabel=t.FieldSet=t.CustomLabel=t.CropWrapper=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(723),a=n(704);function c(){var e=S(["\n  height: 20px;\n  line-height: 20px;\n"]);return c=function(){return e},e}function s(){var e=S(["\n  display: inline-block;\n  vertical-align: middle;\n  height: 50px;\n"]);return s=function(){return e},e}function l(){var e=S(["\n  height: 50px;\n  line-height: 50px;\n"]);return l=function(){return e},e}function u(){var e=S(["\n  height: ","px;\n  border: 1px solid ",";\n  width: ","px;\n  margin: 0 auto;\n  display: inline-block;\n  vertical-align: middle;\n  ","\n"]);return u=function(){return e},e}function f(){var e=S(["\n  padding: 15px 0;\n  height: 90px;\n  line-height: 100px;\n"]);return f=function(){return e},e}function p(){var e=S(["\n  display: inline-block;\n  vertical-align: top;\n  text-align: center;\n  padding: 0 20px;\n  cursor: pointer;\n  background: ","\n"]);return p=function(){return e},e}function d(){var e=S(["\n  cursor: pointer;\n  position: relative;\n  font-weight: bold;\n  font-size: ",";\n\n  ","\n  ","\n  \n  color: ","\n"]);return d=function(){return e},e}function h(){var e=S(["\n  padding: 0;\n  \n  > span {\n    color: "," !important;\n   }\n"]);return h=function(){return e},e}function m(){var e=S(["\n  display: inline-block;\n  padding: 0 5px;\n"]);return m=function(){return e},e}function g(){var e=S(["\n  display: inline-block;\n  width: ",";\n  height: 30px;\n  padding: 6px 12px;\n  font-size: 12px;\n  line-height: 1;\n  color: ",";\n  background: ",";\n  border-radius: 3px;\n  box-shadow: rgba(0, 0, 0, 0.5) 0px 1px 1px inset, rgba(82, 104, 109, 0.4) 0px 1px 0px;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  vertical-align: middle;\n  border: 0px solid transparent;\n  font-family: Roboto, sans-serif;\n  \n  :hover {\n    outline: none;\n  }\n  \n  :focus {\n    border: 1px solid ",";\n    outline: none;\n    box-shadow: rgba(0, 112, 124, 0.5) 0px 1px 1px inset, rgba(0, 112, 124, 0.4) 0px 1px 0px;\n  }\n"]);return g=function(){return e},e}function v(){var e=S(["\n  display: inline-block;\n  width: ",";\n  height: 30px;\n  padding: 6px 12px;\n  font-size: 12px;\n  line-height: 30px;\n  color: ",";\n  background: ",";\n  border-radius: 3px;\n  box-shadow: rgba(0, 0, 0, 0.5) 0px 1px 1px inset, rgba(82, 104, 109, 0.4) 0px 1px 0px;\n  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  vertical-align: middle;\n  border: 0px solid transparent;\n  font-family: Roboto, sans-serif;\n  \n  ","\n  \n  :hover {\n    outline: none;\n  }\n  \n  :focus {\n    border: 1px solid ",";\n    outline: none;\n    box-shadow: rgba(0, 112, 124, 0.5) 0px 1px 1px inset, rgba(0, 112, 124, 0.4) 0px 1px 0px;\n  }\n"]);return v=function(){return e},e}function b(){var e=S(["\n  display: block;\n  margin-bottom: 5px;\n  line-height: 15px;\n"]);return b=function(){return e},e}function y(){var e=S(["\n  display: inline-block;\n  width: 100px;\n  padding-top: 10px;\n  text-align: center;\n"]);return y=function(){return e},e}function w(){var e=S(["\n  display: block;\n  color: ",";\n  height: 30px;\n  line-height: 30px;\n"]);return w=function(){return e},e}function x(){var e=S(["\n  @media (max-width: 768px) {\n    width: 100%;\n    overflow-x: scroll;\n  }\n"]);return x=function(){return e},e}function O(){var e=S(["\n  color: ",";\n  display: flex;\n  \n  ::-webkit-scrollbar {\n    height: 10px !important;\n  }\n   \n  ::-webkit-scrollbar-thumb {\n    background: #3b4d54;\n    border-radius: 5px;\n  }\n  \n  @media (min-widthL 768px) {\n    overflow-x: auto;\n    overflow-y: hidden;\n    white-space: nowrap;\n  }\n  \n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n"]);return O=function(){return e},e}function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var C=o.default.div(O(),(function(e){return e.theme.colors.text}));t.CropWrapper=C;var k=(0,o.default)("div")(x());t.PresetsWrapper=k;var _=o.default.div(w(),(function(e){return e.theme.colors.text}));t.CustomLabel=_;var E=o.default.div(y());t.FieldSet=E;var P=o.default.label(b());t.FieldLabel=P;var j=o.default.input.attrs((function(e){return{type:e.type?e.type:"text"}}))(v(),(function(e){return e.fullSize?"100%":e.theme.fieldWidth}),(function(e){return e.theme.colors.text}),(function(e){return e.dark?e.theme.colors.primaryBg:e.theme.colors.secondaryBgHover}),(function(e){return"number"===e.type&&"::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }"}),(function(e){return e.theme.colors.secondaryBg}));t.FieldInput=j;var R=(0,o.default)("input").attrs((function(e){return{type:e.type?e.type:"file"}}))(g(),(function(e){return e.fullSize?"100%":e.theme.fieldWidth}),(function(e){return e.theme.colors.text}),(function(e){return e.dark?e.theme.colors.primaryBg:e.theme.colors.secondaryBgHover}),(function(e){return e.theme.colors.secondaryBg}));t.FileInput=R;var M=o.default.div(m());t.BlockRatioWrapper=M;var A=(0,o.default)(i.Button)(h(),(function(e){return e.active?e.theme.colors.text:e.theme.colors.textMute}));t.BlockRatioBtn=A;var D=o.default.span(d(),(function(e){return e.fz||"28px"}),(function(e){return(0,a.getIconStyles)(e)}),(function(e){return(0,a.getIconByName)(e.active?"ratio":"no-ratio")}),(function(e){return e.theme.textMuted}));t.BlockRatioIcon=D;var I=o.default.div(p(),(function(e){return e.active?e.theme.colors.secondaryBgHover:"transparent"}));t.CropBox=I;var T=o.default.div(f());t.CropBoxInner=T;var B=o.default.div(u(),(function(e){return N(e.ratio)}),(function(e){return e.theme.textColor}),(function(e){return W(e.ratio)}),(function(e){var t=e.radius;return t&&"border-radius: ".concat(t,"%;")}));t.CropShape=B;var z=(0,o.default)("div")(l());t.CropShapeWrapper=z;var L=(0,o.default)("div")(s());t.ShapeAligner=L;var F=o.default.div(c());t.CropLabel=F;var W=function(e){var t=50*e;return t>200&&(t=200),t},N=function(e){var t=50;return 50*e>200&&(t=200/e),t}},840:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionOption=t.SuggestionsBox=t.PreResizeInner=t.PreResizeWarning=t.PreResizeActions=t.ResizeBox=t.ResizeWrapper=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};function i(){var e=p(["\n  display: inline-block;\n  background: ",";\n  padding: 15px;\n  margin: 5px;\n  border-radius: 4px;\n  cursor: pointer;\n  \n  :hover {\n    background: ",";\n  }\n"]);return i=function(){return e},e}function a(){var e=p(["\n  display: inline-block;\n"]);return a=function(){return e},e}function c(){var e=p(["\n  max-width: 600px;\n  margin: 15px auto;\n  background: ",";\n  border-radius: 4px;\n  padding: 15px;\n  \n  h4 {\n    line-height: 1.4;\n    font-size: 16px;\n    color: ",";\n  }\n"]);return c=function(){return e},e}function s(){var e=p(["\n  color: ",";\n  font-size: 14px;\n  max-width: 600px;\n  line-height: 1.4;\n  margin: 0 auto;\n  background: ",";\n  border-radius: 4px;\n  padding: 15px 15px 15px 55px;\n  position: relative;\n  font-weight: normal;\n  text-align: left;\n  \n  :before {\n    content: '\\e917';\n    font-family: filerobot-image-editor-font;\n    position: absolute;\n    font-size: 20px;\n    line-height: 20px;\n    left: 20px;\n    top: 50%;\n    margin-top: -10px;\n  }\n"],["\n  color: ",";\n  font-size: 14px;\n  max-width: 600px;\n  line-height: 1.4;\n  margin: 0 auto;\n  background: ",";\n  border-radius: 4px;\n  padding: 15px 15px 15px 55px;\n  position: relative;\n  font-weight: normal;\n  text-align: left;\n  \n  :before {\n    content: '\\\\e917';\n    font-family: filerobot-image-editor-font;\n    position: absolute;\n    font-size: 20px;\n    line-height: 20px;\n    left: 20px;\n    top: 50%;\n    margin-top: -10px;\n  }\n"]);return s=function(){return e},e}function l(){var e=p(["\n  button {\n    min-width: 240px;\n  }\n"]);return l=function(){return e},e}function u(){var e=p(["\n  display: inline-block;\n  \n  @media (min-width: 768px) {\n    width: 300px;\n    padding: 20px;\n    height: 100px;\n  }\n"]);return u=function(){return e},e}function f(){var e=p(["\n  color: ",";\n  text-align: center;\n  \n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n"]);return f=function(){return e},e}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=o.default.div(f(),(function(e){return e.theme.colors.text}));t.ResizeWrapper=d;var h=o.default.div(u());t.ResizeBox=h;var m=(0,o.default)("div")(l());t.PreResizeActions=m;var g=(0,o.default)("p")(s(),(function(e){return e.theme.colors.textWarn}),(function(e){return e.theme.colors.secondaryBg}));t.PreResizeWarning=g;var v=(0,o.default)("div")(c(),(function(e){return e.theme.colors.secondaryBg}),(function(e){return e.theme.colors.text}));t.PreResizeInner=v;var b=(0,o.default)("div")(a());t.SuggestionsBox=b;var y=(0,o.default)("div")(i(),(function(e){return e.theme.colors.primaryBg}),(function(e){return e.theme.colors.primaryBgHover}));t.SuggestionOption=y},841:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DarkBtn=t.ButtonGroup=t.RotateIcon=t.RotateLabel=t.RotateButton=t.RotateWrapper=t.OrientationWrapper=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(704),a=n(739);function c(){var e=h(["\n  @media (max-width: 768px) {\n    width: 50%;\n    margin-right: 0 !important;\n  }\n"]);return c=function(){return e},e}function s(){var e=h(["\n  ","\n  ","\n  height: 16px;\n  font-size: 16px;\n  margin-top: -4px;\n  display: inline-block;\n  vertical-align: middle;\n  color: ",";\n  margin-right: 5px;\n"]);return s=function(){return e},e}function l(){var e=h(["\n  display: flex;\n  width: 100%;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return l=function(){return e},e}function u(){var e=h(["\n  margin-top: 10px;\n  width: 100%;\n  \n  button {\n    text-transform: none;\n    font-size: 12px;\n    min-width: 142px;\n    margin-right: 5px;\n  }\n  \n  button:focus,  button:active {\n    outline: none !important;\n    box-shadow: none !important;\n  }\n"]);return u=function(){return e},e}function f(){var e=h(["\n\n"]);return f=function(){return e},e}function p(){var e=h(["\n  display: inline-block;\n  width: 100%;\n  //padding: 20px;\n"]);return p=function(){return e},e}function d(){var e=h(["\n  color: ",";\n  text-align: center;\n  \n  svg {\n    margin-top: -7px;\n    width: 750px;\n    \n    text {\n      font-size: 2px;\n    }\n  }\n  \n  .image-editor-range-wrapper {\n    width: 280px;\n    padding: 0;\n    margin: 12px auto 0;\n    \n    input#range {\n      background: none;\n      width: 280px;\n      \n      &::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        width: 9px;\n        height: 18px;\n        border-radius: 50%;\n        background: ",";\n      }\n      \n      &::-moz-range-thumb {\n        border: none;\n        width: 9px;\n        height: 18px;\n        border-radius: 50%;\n        background: ",";\n        cursor: pointer;\n      }\n    }\n    \n    label {\n      display: none;\n    }\n    \n    :after {\n      display: none;\n    }\n  }\n  \n  @media (max-width: 768px) {\n    svg {\n      width: 100%;\n    }\n  }\n"]);return d=function(){return e},e}function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m=o.default.div(d(),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.text}));t.OrientationWrapper=m;var g=o.default.div(p());t.RotateWrapper=g;var v=o.default.div(f());t.RotateLabel=v;var b=o.default.div(u());t.RotateButton=b;var y=(0,o.default)("div")(l());t.ButtonGroup=y;var w=o.default.span(s(),(function(e){return(0,i.getIconStyles)(e)}),(function(e){return(0,i.getIconByName)(e.name)}),(function(e){return e.theme.colors.text}));t.RotateIcon=w;var x=(0,o.default)(a.CancelBtn)(c());t.DarkBtn=x},842:function(e,t,n){"use strict";var r;function o(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  color: ",";\n  text-align: center;\n  display: flex;\n  justify-content: center;\n  \n  @media (max-width: 768px) {\n    flex-wrap: wrap;\n    \n    .image-editor-range-wrapper {\n      width: 50%;\n      \n      input {\n        width: 100% !important;\n      }\n    }\n  }\n"]);return o=function(){return e},e}Object.defineProperty(t,"__esModule",{value:!0}),t.AdjustWrapper=void 0;var i=((r=n(2))&&r.__esModule?r:{default:r}).default.div(o(),(function(e){return e.theme.colors.text}));t.AdjustWrapper=i},843:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoClickToolbar=t.NoClickOverlay=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};function i(){var e=c(["\n  position: absolute;\n  z-index: 999;\n  top: 36px;\n  left: 0;\n  right: 0;\n  height: 104px;\n  cursor: not-allowed;\n"]);return i=function(){return e},e}function a(){var e=c(["\n  position: absolute;\n  z-index: 999;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  cursor: wait;\n"]);return a=function(){return e},e}function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=o.default.div(a());t.NoClickOverlay=s;var l=(0,o.default)("div")(i());t.NoClickToolbar=l},844:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseBtn=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(704);function a(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  cursor: pointer;\n  position: absolute;\n  font-weight: normal;\n  top: ",";\n  right: ",";\n  left: ",";\n  bottom: ",";\n  font-size: ",";\n  z-index: 10;\n  font-family: 'filerobot-image-editor-font' !important;\n  color: ",";\n  speak: none;\n  font-style: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  \n  :hover {\n    color: ",";\n  }\n  \n  :before {\n      content: '\\e90c'\n    }\n"],["\n  cursor: pointer;\n  position: absolute;\n  font-weight: normal;\n  top: ",";\n  right: ",";\n  left: ",";\n  bottom: ",";\n  font-size: ",";\n  z-index: 10;\n  font-family: 'filerobot-image-editor-font' !important;\n  color: ",";\n  speak: none;\n  font-style: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  \n  :hover {\n    color: ",";\n  }\n  \n  :before {\n      content: '\\\\e90c'\n    }\n"]);return a=function(){return e},e}var c=o.default.span.attrs((function(){return{role:"button"}}))(a(),(function(e){return e.t||"10px"}),(function(e){return e.r||"10px"}),(function(e){return e.l||"auto"}),(function(e){return e.b||"auto"}),(function(e){return e.fz||"18px"}),(function(e){return i.variables.modal.colorMuted}),(function(e){return i.variables.modal.colorMutedHover}));t.CloseBtn=c},845:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullscreenBtn=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(704);function a(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  cursor: pointer;\n  position: absolute;\n  font-weight: normal;\n  top: ",";\n  right: ",";\n  left: ",";\n  bottom: ",";\n  font-size: ",";\n  z-index: 10;\n  font-family: 'filerobot-image-editor-font' !important;\n  color: ",";\n  speak: none;\n  font-style: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  \n  :hover {\n    color: ",";\n  }\n  \n  :before {\n      content: '\\26F6'\n    }\n"],["\n  cursor: pointer;\n  position: absolute;\n  font-weight: normal;\n  top: ",";\n  right: ",";\n  left: ",";\n  bottom: ",";\n  font-size: ",";\n  z-index: 10;\n  font-family: 'filerobot-image-editor-font' !important;\n  color: ",";\n  speak: none;\n  font-style: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  \n  :hover {\n    color: ",";\n  }\n  \n  :before {\n      content: '\\\\26F6'\n    }\n"]);return a=function(){return e},e}var c=o.default.span.attrs((function(){return{role:"button"}}))(a(),(function(e){return e.t||"10px"}),(function(e){return e.r||"35px"}),(function(e){return e.l||"auto"}),(function(e){return e.b||"auto"}),(function(e){return e.fz||"15px"}),(function(e){return i.variables.modal.colorMuted}),(function(e){return i.variables.modal.colorMutedHover}));t.FullscreenBtn=c},846:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Spinner=t.IconWrapper=void 0;var o,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),a=(o=n(2))&&o.__esModule?o:{default:o};function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function s(){var e=u(["\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    width: 200px;\n    height: 200px;\n    margin: auto;\n    padding: 40px;\n    border-radius: 50%;\n    background: ",";\n    \n    .svg-spin-icon {\n      fill: ",";\n    }\n    \n    p {\n      color: ",";\n    }\n"]);return s=function(){return e},e}function l(){var e=u(["\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: ",";\n  background: "," !important;\n  opacity: "," !important;\n  z-index: 1042;\n"]);return l=function(){return e},e}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f=a.default.div(l(),(function(e){return e.fullScreen?"fixed":"absolute"}),(function(e){return e.overlay?"rgba(10,10,10,0.26)":"transparent"}),(function(e){return e.overlay?"0.25":"0"})),p=(0,a.default)("div")(s(),(function(e){return e.theme.colors.secondaryBgOpacity}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.text}));t.IconWrapper=p;t.Spinner=function(e){return e.show?i.default.createElement(i.Fragment,null,i.default.createElement(f,{fullScreen:e.fullScreen,overlay:e.overlay}),i.default.createElement(p,null,i.default.createElement("svg",{id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 150 150",style:{enableBackground:"new 0 0 150 150"}},i.default.createElement("path",{className:"svg-spin-icon",d:"M74.9,14.8c-12.2,0-24.3,0-36.5,0c-2.4,0-3.9-1-4.8-3.1c-1.3-3-1.2-6,0.6-8.9c0.8-1.3,2-2,3.5-2 c1.1,0,2.3,0,3.4,0c23.3,0,46.7,0,70-0.1c3.9,0,5.3,1.9,6,4.7c0.5,2.1,0.4,4.2-0.5,6.3c-0.9,2.2-2.5,3.1-4.8,3c-2.9,0-5.7,0-8.6,0 C93.9,14.8,84.4,14.8,74.9,14.8z"}),i.default.createElement("path",{className:"svg-spin-icon",d:"M75.1,118.1c12,0,24,0,35.9,0c4,0,5.9,1.7,6.3,5.7c0.1,1.4,0,2.9-0.3,4.2c-0.7,2.9-2.4,4.1-5.3,4.1 c-24.1,0-48.3,0-72.4,0c-3.7,0-5.4-1.2-6.3-5.3c-0.4-2-0.1-3.9,0.7-5.7c0.9-2,2.4-3.1,4.7-3C50.6,118.1,62.9,118.1,75.1,118.1z"}),i.default.createElement("path",{className:"svg-spin-icon",d:"M75.3,76.3c0.2,0.4,3.1,9.3,7.2,14.1c3.9,4.7,8.9,8.5,13,12.5c3.2,3.2,5.4,7,6.8,11.2c0.5,1.6,0.3,1.9-1.4,1.9 c-17.3,0-34.5,0-51.8,0c-1.7,0-1.9-0.2-1.3-1.8c1.8-5.5,5.2-10,9.4-13.9c3.5-3.3,7.7-6.1,10.6-9.9c3.5-4.7,6.8-13.3,7.1-14.1 C75.1,76.3,75.2,76.3,75.3,76.3z"}),i.default.createElement("path",{className:"svg-spin-icon",d:"M45.5,23.6c0,3.8-0.1,7.6,1.2,11.3c1,2.9,2.8,5.2,4.9,7.3c5,5.3,10.2,10.5,15.2,15.8c1.1,1.2,2,2.6,3.1,3.9 c2,2.5,2.2,7.6-0.2,10.5c-1.8,2.2-3.6,4.3-5.5,6.4C59.5,84,54.7,89.1,50,94.2c-3.1,3.4-4.4,7.5-4.5,12c0,2.8-0.1,5.6,0,8.4 c0,1-0.3,1.4-1.4,1.4c-1.7,0-2.3,0-3.7,0c-0.9,0-1.3-0.4-1.3-1.3c0-5-0.3-10,0.8-14.9c0.8-3.5,2.5-6.6,4.8-9.3 c3.6-4.2,7.5-8.2,11.3-12.3c1.7-1.8,3.3-3.7,4.9-5.5c0.9-1,1.9-2,2.7-3c1.8-2.3,1.6-4.3-0.4-6.4c-5.2-5.4-10.4-11-15.8-16.3 c-5.7-5.7-8.4-12.4-8.3-20.4c0-2.9,0-5.7,0-8.6c0-1.1,0.4-1.6,1.5-1.5c1.3,0,2.6,0,3.8,0c0.8,0,1.1,0.3,1.1,1.2 C45.5,19.8,45.5,21.7,45.5,23.6z"}),i.default.createElement("path",{className:"svg-spin-icon",d:"M109.9,35.9c-0.6,2.7-2.1,5.3-3.9,7.5c-3.5,4.2-7.5,8.1-11.2,12.1c-3,3.2-5.9,6.5-8.8,9.7 c-0.9,1-0.9,2.1-0.2,3.1c1.2,1.7,2.5,3.3,3.8,4.8c1.5,1.8,3,3.6,4.6,5.3c3.4,3.6,6.8,7.1,10.1,10.7c4.7,5.1,6.8,11.2,6.9,18.1 c0,2.4,0,5,0,7.5c0,1.3-0.3,1.5-1.6,1.5c-1.3,0-2.1,0-3.3,0c-1.1,0-1.5-0.4-1.5-1.5c0-3.4-0.2-6.7-0.3-10.1 c-0.1-4.1-1.9-7.5-4.5-10.5c-3.3-3.8-6.8-7.4-10.2-11.1c-3.3-3.5-6.9-6.6-9.3-10.8c-0.8-1.5-1.4-3.2-1.7-4.9c-0.4-2.1,0.7-4,1.9-5.5 c3.1-3.8,6.5-7.4,9.8-11.1c2.9-3.2,6-6.2,9-9.3c3.5-3.6,5.1-8,5.2-13c0-3.4,0.1-6.7,0.1-10.1c0-1.1,0.3-1.5,1.3-1.4 c1.2,0,2.4,0,3.6,0c1.2,0,1.6,0.5,1.6,1.6c-0.1,1.6,0,3.1,0,4.7C111.4,23,110.9,31.7,109.9,35.9z"}),i.default.createElement("path",{className:"svg-spin-icon",d:"M74.8,67.9c-0.2-1.3-1.1-5.7-1.5-7C71.4,54,59.7,44.3,54.3,39c-0.7-0.7-1.3-1.5-1.8-2.5 c7.1,3.4,14.4,6.1,22.6,6.1c8.2,0,15.5-2.6,22.4-6.2c0.1,0.1,0.2,0.2,0.3,0.3c-0.5,0.6-0.9,1.2-1.4,1.8c-4.5,4.5-18.7,15.5-20,22.4 c-0.2,0.8-1,6.2-1.2,7C75.1,67.9,75,67.9,74.8,67.9z"}),i.default.createElement("g",null)),i.default.createElement("p",{style:{textAlign:"center"}},e.label))):null}},847:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WatermarkInputTypes=t.WatermarkIcon=t.Watermarks=t.SelectWatermarkLabel=t.PositionSquare=t.WatermarkPositionWrapper=t.WatermarkInputs=t.WrapperForOpacity=t.WrapperForControls=t.WrapperForURL=t.WatermarkWrapper=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r};function i(){var e=g(["\n  width: 200px;\n  height: 70px;\n  display: inline-block;\n  vertical-align: middle;\n  background: "," url(",") 50% 50% / contain no-repeat; \n  margin: 10px;\n  padding: 20px;\n  border-radius: 4px;\n  cursor: pointer;\n  \n  :hover {\n    background-color: ",";\n  }\n"]);return i=function(){return e},e}function a(){var e=g(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  line-height: 100px;\n  background: ",";\n"]);return a=function(){return e},e}function c(){var e=g(["\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 20px;\n  cursor: pointer;\n"]);return c=function(){return e},e}function s(){var e=g(["\n  width: 30px;\n  height: 30px;\n  display: inline-block;\n  vertical-align: top;\n  border: 1px solid ",";\n  background: ",";\n  cursor: ",";\n  \n  ","\n"]);return s=function(){return e},e}function l(){var e=g(["\n  width: 100px;\n  padding: 10px;\n  display: inline-block;\n  vertical-align: top;\n  \n  /* The container */\n  label {\n    display: block;\n    position: relative;\n    line-height: 12px;\n    padding-left: 15px;\n    margin-bottom: 12px;\n    cursor: pointer;\n    user-select: none;\n  }\n  \n  /* Hide the browser's default radio button */\n  label input {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n  }\n  \n  /* Create a custom radio button */\n  span {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 10px;\n    width: 10px;\n    background-color: ",";\n    border-radius: 50%;\n  }\n  \n  /* On mouse-over, add a grey background color */\n  label:hover input ~ span {\n    // background-color: #ccc;\n  }\n  \n  /* When the radio button is checked, add a blue background */\n  label input:checked ~ span {\n    background-color: ",";\n  }\n  \n  label input:checked ~ span:after {\n    background-color: ",';\n  }\n  \n  /* Create the indicator (the dot/circle - hidden when not checked) */\n  span:after {\n    content: "";\n    position: absolute;\n    display: none;\n  }\n  \n  /* Show the indicator (dot/circle) when checked */\n  label input:checked ~ span:after {\n    display: block;\n  }\n  \n  /* Style the indicator (dot/circle) */\n  label span:after {\n    top: 3px;\n    left: 2px;\n    width: 6px;\n    height: 5px;\n    border-radius: 50%;\n    background: ',";\n  }\n  \n  @media (max-width: 768px) {\n    width: 100%\n    \n    label {\n      display: inline-block;\n      margin-right: 10px;\n    }\n  }\n"]);return l=function(){return e},e}function u(){var e=g(["\n  width: 100px;\n  padding: 5px;\n  display: inline-block;\n  font-size: 0;\n  \n  div:nth-child(1) {\n    border-radius: 4px 0 0 0;\n  }\n  \n  div:nth-child(3) {\n    border-radius: 0 4px 0 0;\n  }\n  \n  div:nth-child(7) {\n    border-radius: 0 0 0 4px;\n  }\n  \n  div:nth-child(9) {\n    border-radius: 0 0 4px 0;\n  }\n"]);return u=function(){return e},e}function f(){var e=g(["\n  width: calc(100% - 200px);\n  display: inline-block;\n  vertical-align: top;\n  \n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]);return f=function(){return e},e}function p(){var e=g(["\n  display: inline;\n  vertical-align: middle;\n  padding: 10px;\n\n  label {\n    min-width: 120px;\n    display: inline-block;\n    vertical-align: middle;\n  }\n"]);return p=function(){return e},e}function d(){var e=g(["\n  ","\n"]);return d=function(){return e},e}function h(){var e=g(["\n  padding: 10px;\n  \n  label {\n    min-width: 120px;\n    display: inline-block;\n    vertical-align: middle;\n    margin: 0;\n  }\n  \n  input {\n    width: 100%;\n  }\n"]);return h=function(){return e},e}function m(){var e=g(["\n  position: relative;\n  color: ",";\n  text-align: left;\n  white-space: normal;\n  \n  .image-editor-range {\n    display: inline-block;\n    padding: 5px;\n    vertical-align: middle;\n  \n    :after {\n      display: none;\n    }\n    \n    label {\n      display: none;\n    }\n  }\n  \n  @media (max-width: 768px) { \n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    \n    .image-editor-range {\n      width: 100%;\n      \n      input {\n        width: 100% !important;\n      }\n    }\n  }\n"]);return m=function(){return e},e}function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var v=o.default.div(m(),(function(e){return e.theme.colors.text}));t.WatermarkWrapper=v;var b=(0,o.default)("div")(h());t.WrapperForURL=b;var y=(0,o.default)("div")(d(),(function(e){return"right"===e.switcherPosition?".cloudimage-url-generator-switch {\n        margin-left: 100px;\n        margin-top: -6px;\n        \n        label {\n          min-width: auto;\n        }\n        \n        @media (max-width: 768px) {\n          margin-left: 4px;\n        }\n      }":"padding: 10px;"}));t.WrapperForControls=y;var w=(0,o.default)("div")(p());t.WrapperForOpacity=w;var x=(0,o.default)("div")(f());t.WatermarkInputs=x;var O=(0,o.default)("div")(u());t.WatermarkPositionWrapper=O;var S=(0,o.default)("div")(l(),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.accent}),(function(e){return e.theme.colors.text}));t.WatermarkInputTypes=S;var C=(0,o.default)("div")(s(),(function(e){return e.theme.colors.secondaryBgHover}),(function(e){return e.clickable?e.active?e.theme.colors.accent:e.theme.colors.secondaryBg:e.theme.colors.disabledBg}),(function(e){return e.clickable?"pointer":"not-allowed"}),(function(e){if(0!==e.clickable&&!e.active)return"\n        :hover {\n          background: ".concat(e.theme.colors.primaryBg,";\n        }\n      ")}));t.PositionSquare=C;var k=(0,o.default)("div")(c());t.SelectWatermarkLabel=k;var _=(0,o.default)("div")(a(),(function(e){return e.theme.colors.secondaryBg}));t.Watermarks=_;var E=(0,o.default)("div")(i(),(function(e){return e.theme.colors.primaryBgHover}),(function(e){return e.src}),(function(e){return e.theme.colors.secondaryBgHover}));t.WatermarkIcon=E},848:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(694);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,n,i,a=p(c);function c(){var e;l(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=a.call.apply(a,[this].concat(n))),"onApplyWatermarkChange",(function(){e.props.updateState({watermark:s(s({},e.props.watermark),{},{applyByDefault:!e.props.watermark.applyByDefault})})})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.initialZoom,n=e.operations,i=e.operationsZoomed,a=e.currentOperation,c=void 0===a?null:a,l=e.redoOperation,u=e.resetOperations,f=e.activeBody,p=e.t,d=e.logoImage,h=e.watermark,m=1===t?n:i,g=m.findIndex((function(e){return e===c})),v=c&&m[m.length-1]===c,b=m.length<1||-1===g,y=(m.length<2||m.length>1&&v)&&(-1!==g||1!==m.length);return r.default.createElement(o.Footer,null,r.default.createElement(o.ResetBtn,{muted:"preview"!==f,onClick:function(){"preview"===f&&u()},title:p["footer.reset"]}),r.default.createElement(o.PreviousBtn,{onClick:function(){!b&&l({operationIndex:g-1,operationObject:s(s({},m[g]),{},{index:g})})},muted:b,title:p["footer.undo"]}),r.default.createElement(o.NextBtn,{onClick:function(){!y&&l({operationIndex:g+1,operationObject:s(s({},m[g]),{},{index:g})})},muted:y,title:p["footer.redo"]}),d&&h&&r.default.createElement(o.Switcher,{id:"switch-watermark-footer",checked:h&&h.applyByDefault,handleChange:this.onApplyWatermarkChange,text:p["common.apply_watermark"]}))}}])&&u(t.prototype,n),i&&u(t,i),c}(r.Component);t.default=v},849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(694),i=l(n(850)),a=l(n(871)),c=l(n(872)),s=n(707);function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(f,e);var t,n,l,u=m(f);function f(){return p(this,f),u.apply(this,arguments)}return t=f,(n=[{key:"render",value:function(){var e=this.props,t=e.activeTab,n=e.isHideCanvas,l=e.watermark,u=void 0===l?{}:l,f=e.focusPoint,p=e.original,d=e.updateState,h=e.src,m=e.shapes,g=e.selectedShape,v=e.config,b=v.colorScheme,y=v.elementId,w=e.roundCrop,x=e.latestCanvasSize,O=u.applyByDefault,S=(0,s.getCanvasNode)(y),C=S&&S.getBoundingClientRect()||{};return r.default.createElement(o.PreviewImgBox,{id:"preview-img-box",hideCanvas:"crop"===t||n,isShowWatermark:O},r.default.createElement(i.default,this.props),"focus_point"!==t&&r.default.createElement(c.default,{width:C.width,height:C.height,shapes:m,updateState:d,selectedShape:g,activeTab:t,round:w,latestCanvasSize:x,colorScheme:b,wrapperId:y}),"focus_point"===t&&r.default.createElement(a.default,{src:h,updateState:d,focusPoint:f,original:p}))}}])&&d(t.prototype,n),l&&d(t,l),f}(r.Component);t.default=b},850:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(694),i=n(707),a=n(702),c=l(n(866)),s=l(n(867));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(741),n(870);var C={effect:null,filter:null,crop:null,resize:null,rotate:null,correctionDegree:0,flipX:!1,flipY:!1,adjust:{brightness:0,contrast:0,saturation:0,exposure:0},canvasDimensions:{width:300,height:200,ratio:1.5}},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(f,e);var t,n,l,u=y(f);function f(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),S(x(e=u.call(this)),"getCanvas",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.props.config.elementId;return(0,i.getCanvasNode)(r,t,n)})),S(x(e),"initializeCanvases",(function(t){var n=x(e),r=e.props,o=r.config,i=(o=void 0===o?{}:o).isLowQualityPreview,c=r.updateState,s=1;if(i&&t.height>1050){var l=e.getCanvas(null,!0),u=l.getContext("2d");l.width=t.width,l.height=t.height,u.drawImage(t,0,0,t.width,t.height),s=t.height/800;var f=t.width/s,p=t.height/s;c({initialZoom:s,canvasOriginal:n.cloneCanvas(l)}),setTimeout((function(){var t=e.getCanvas;new window.Caman(t(),(function(){this.resize({width:f,height:p}),this.render((function(){var e=n.replaceWithNewCanvas(a.CANVAS_ID);n.CamanInstanceZoomed=new window.Caman(e,(function(){n.CamanInstanceOriginal=new window.Caman(t(null,!0),(function(){})),c({isShowSpinner:!1,canvasZoomed:n.cloneCanvas(e)})}))}))}))}))}else setTimeout((function(){var t=e.getCanvas();n.CamanInstance=new window.Caman(t,(function(){c({isShowSpinner:!1,canvasOriginal:n.cloneCanvas(t)})}))}))})),S(x(e),"mergeCanvases",(function(t){var n=e.props.shapeOperations,r=t.getContext("2d"),o=n.prepareFinalCanvas(t);return r.drawImage(o,0,0),t.toDataURL()})),S(x(e),"cloneCanvas",(function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,t.id=e.id,t.className=e.className,n.drawImage(e,0,0),t})),S(x(e),"replaceWithNewCanvas",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.getCanvas(t),o=r.width,i=r.height,a=document.createElement("canvas"),c=a.getContext("2d"),s=r.parentElement;return s.removeChild(r),a.width=o,a.height=i,a.id="".concat(e.props.config.elementId,"_").concat(t),a.className=r.className,c.drawImage(r,0,0),n&&c.round(),s.appendChild(a),a})),S(x(e),"replaceCanvas",(function(t,n){var r=e.getCanvas(n),o=r.parentElement;return o.removeChild(r),o.appendChild(t),t})),S(x(e),"saveImage",(function(){var t=e.props,n=t.onComplete,r=t.onClose,o=t.updateState,c=t.closeOnLoad,l=t.config,u=t.processWithCloudService,f=t.uploadCloudimageImage,p=t.operations,d=t.initialZoom,h=t.operationsOriginal,m=e.getFinalImageMime(),g=e.getFinalImageName(),v=l.filerobot,b=void 0===v?{}:v,y=l.platform,w=void 0===y?"filerobot":y,O=e.props.src.split("?")[0],S=1!==d?a.ORIGINAL_CANVAS_ID:a.CANVAS_ID,C=e.getCanvas(S),k=(0,i.getBaseAPI)(b.baseAPI,b.container,w),_=(b.uploadParams||{}).dir||"image-editor",E=x(e);if(u){var P=(1!==d?h:p).filter((function(e){var t=e.operation;return a.CLOUDIMAGE_OPERATIONS.includes(t)})),j=e.generateCloudimageURL(P,O.replace(/https?:\/\/scaleflex.ultrafast.io\//,""));if(f){var R=new XMLHttpRequest;R.addEventListener("load",e.onFileLoad),R.open("POST",[k,"upload?dir=".concat(_)].join("")),R.setRequestHeader((0,i.getSecretHeaderName)(w),b.uploadKey),R.setRequestHeader("Content-Type","application/json"),R.send(JSON.stringify({files_urls:[j]}))}else o({isShowSpinner:!1,isHideCanvas:!1}),n(j,{url_permalink:j,url_public:j,url:{public:j,permalink:j}}),c&&r(a.ON_CLOSE_STATUSES.IMAGE_UPLOADED_CLOUDIMAGE)}else{e.mergeCanvases(C);var M=C.toDataURL(m).split(";")[1].split(",")[1],A=(0,i.b64toBlob)(M,m,null),D=g.replace(/-version-.{6}/g,"").split("."),I=D.length,T="";T=I<=1?"".concat(D.join("."),"-version-").concat(((0,s.default)()||"").slice(0,6)):[D.slice(0,I-1).join("."),"-version-",((0,s.default)()||"").slice(0,6),".",D[I-1]].join("");var B=new FormData,z=new XMLHttpRequest;z.addEventListener("load",E.onFileLoad),B.append("files[]",A,T),z.open("POST",[k,"upload?dir=".concat(_)].join("")),z.setRequestHeader((0,i.getSecretHeaderName)(w),b.uploadKey),z.send(B)}})),S(x(e),"getResultCanvas",(function(){var t=1!==e.props.initialZoom?a.ORIGINAL_CANVAS_ID:a.CANVAS_ID,n=e.getCanvas(t);return e.mergeCanvases(n),n})),S(x(e),"getFinalImageMime",(function(){var t=e.props,n=t.roundCrop,r=t.imageMime;return n?"image/png":r})),S(x(e),"getFinalImageName",(function(){var t=e.props.roundCrop,n=e.state.imageName;return t&&(n=n.replace(n.substr(n.lastIndexOf(".")+1),"png")),n})),S(x(e),"downloadImage",(function(t){var n,r=e.getResultCanvas(),o=e.getFinalImageName(),i=e.getFinalImageMime(),a=document.createElement("a");a.download=o,a.href=r.toDataURL(i,.8),document.createEvent?((n=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(n)):a.fireEvent&&a.fireEvent("onclick"),t&&t()})),S(x(e),"onFileLoad",(function(t){var n=e.props,r=n.onComplete,o=n.onClose,c=n.updateState,s=n.closeOnLoad,l=t.srcElement,u=(void 0===l?{}:l).response,f=void 0===u?"{}":u,p=JSON.parse(f)||{};if("success"===p.status){var d=p.file,h=void 0===d?{}:d,m=(0,i.getPubliclink)(h);if(!m)return;c({isShowSpinner:!1,isHideCanvas:!1}),r(m,h),s&&o(a.ON_CLOSE_STATUSES.IMAGE_UPLOADED_FILEROBOT)}else c({isShowSpinner:!1,isHideCanvas:!1}),alert(p),s&&o(a.ON_CLOSE_STATUSES.IMAGE_UPLOADING_FAIL_FILEROBOT)})),S(x(e),"generateCloudimageURL",(function(t,n){var r=e.props,o=r.config,a=r.watermark,c=r.logoImage,s=r.processWithCloudimage,l=r.processWithFilerobot,u=r.imageSealing,f=o.cloudimage,p=void 0===f?{}:f,d=o.filerobot,h=void 0===d?{}:d,m=s&&p.token+".cloudimg.io/"+(p.version?"".concat(p.version,"/"):"v7/"),g=l&&h.token+".filerobot.com/"+(h.version?"".concat(h.version,"/"):""),v=g||m||"";v=(v?"https://":"")+v;var b=(g?h.doNotPrefixURL:p.doNotPrefixURL)?"":v,y=e.isOperationExist(t,"crop"),w=e.isOperationExist(t,"resize"),x=e.isOperationExist(t,"rotate"),O=e.isOperationExist(t,"focus_point"),S=a&&c&&a.applyByDefault,C="",k="",_="",E="",P="";y&&(C=e.getCropArguments(y.props)),w&&(k=(C?"&":"")+e.getResizeArguments(w.props)),x&&(_=(C||k?"&":"")+e.getOrientationArguments(x.props)),S&&(E=(C||k||_?"&":"")+e.getWatermarkArguments()),O&&(P=(C||k||_||E?"&":"")+e.getFocusPointArguments(O.props)),n=(n=n.split("?")[0]).replace(b,"");var j=C+k+_+E+P;return u.enabled&&(j=(0,i.getImageSealingParams)(j,u,n.replace(v,""))),b+n+(j?"?":"")+j})),S(x(e),"initFiltersOrEffects",(function(){})),S(x(e),"applyFilterOrEffect",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=e.props,o=r.updateState,a=r.initialZoom;e.props[t]&&o({isHideCanvas:!0,isShowSpinner:!0},(function(){1!==a?(e.CamanInstanceOriginal.revert(!1),e.CamanInstanceOriginal[(0,i.getEffectHandlerName)(e.props[t])](),e.CamanInstanceOriginal.render((function(){o(S({},t,null),(function(){e.makeCanvasSnapshot({operation:t},n)}))}))):o(S({},t,null),(function(){e.makeCanvasSnapshot({operation:t},n)}))}))})),S(x(e),"applyAdjust",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=e.props,r=n.updateState,o=n.initialZoom,i=n.adjust,a=i.brightness,c=i.contrast,s=i.saturation,l=i.exposure,u={brightness:0,contrast:0,saturation:0,exposure:0};r({isHideCanvas:!0,isShowSpinner:!0},(function(){1!==o?(e.CamanInstanceOriginal.revert(!1),"0"!==a.toString()&&e.CamanInstanceOriginal.brightness(parseInt(a||"0")),"0"!==c.toString()&&e.CamanInstanceOriginal.contrast(parseInt(c||"0")),"0"!==s.toString()&&e.CamanInstanceOriginal.saturation(parseInt(s||"0")),"0"!==l.toString()&&e.CamanInstanceOriginal.exposure(parseInt(l||"0")),e.CamanInstanceOriginal.render((function(){r({adjust:g({},u)},(function(){e.makeCanvasSnapshot({operation:"adjust"},t)}))}))):r({adjust:g({},u)},(function(){e.makeCanvasSnapshot({operation:"adjust"},t)}))}))})),S(x(e),"initOrientation",(function(){var t=e.props,n=t.config,r=t.redoOperation,o=t.operations,i=t.operationsZoomed,a=1!==t.initialZoom?i:o;if(n.processWithCloudService&&a.length>=1){var c=a.findIndex((function(e){return"rotate"===e.operation}));c>-1&&r({operationIndex:c-1,callback:function(){},resetActiveTab:!1})}})),S(x(e),"onRotate",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.props,a=i.initialZoom,c=i.rotate,s=i.updateState,l=c+t;s({isHideCanvas:!0,isShowSpinner:!0,rotate:l,correctionDegree:n,flipX:r,flipY:o},(function(){var t=e.getCanvas();1!==a?(e.CamanInstanceZoomed.reset(),r&&e.CamanInstanceZoomed.flip("x"),o&&e.CamanInstanceZoomed.flip("y"),(l||n)&&e.CamanInstanceZoomed.rotate((l||0)+(n||0)),e.CamanInstanceZoomed.render((function(){e.getCanvas().className=t.className,s({isHideCanvas:!1,isShowSpinner:!1})}))):(e.CamanInstance.reset(),r&&e.CamanInstance.flip("x"),o&&e.CamanInstance.flip("y"),(l||n)&&e.CamanInstance.rotate((l||0)+(n||0)),e.CamanInstance.render((function(){e.getCanvas().className=t.className,s({isHideCanvas:!1,isShowSpinner:!1})})))}))})),S(x(e),"applyOrientation",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=e.props,r=n.updateState,o=n.initialZoom,i=n.rotate,a=n.correctionDegree,c=n.flipX,s=n.flipY;r({isHideCanvas:!0,isShowSpinner:!0},(function(){var n=e.getCanvas(null,!0),l=(i||0)+(a||0);1!==o?(e.CamanInstanceOriginal.reset(),c&&e.CamanInstanceOriginal.flip("x"),s&&e.CamanInstanceOriginal.flip("y"),(i||a)&&e.CamanInstanceOriginal.rotate(l),e.CamanInstanceOriginal.render((function(){e.getCanvas(null,!0).className=n.className,r({rotate:0,flipX:!1,flipY:!1,correctionDegree:0},(function(){e.makeCanvasSnapshot({operation:"rotate",props:{rotate:l}},t)}))}))):(e.getCanvas(null,!0).className=n.className,r({rotate:0,flipX:!1,flipY:!1,correctionDegree:0},(function(){e.makeCanvasSnapshot({operation:"rotate",props:{rotate:l}},t)})))}))})),S(x(e),"getOrientationArguments",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.rotate;switch(t){case 90:return"r=270";case-90:return"r=90";default:return"r=".concat(t)}})),S(x(e),"initCrop",(function(){var t=e.props,n=t.config,r=t.redoOperation,o=t.operations,i=t.operationsZoomed,a=1!==t.initialZoom?i:o;if(n.processWithCloudService&&a.length>=1){var c=a.findIndex((function(e){return"crop"===e.operation}));c>-1&&r({operationIndex:c-1,callback:e.onInitCrop,resetActiveTab:!1})}else e.onInitCrop()})),S(x(e),"onInitCrop",(function(){var t=e.props,n=t.updateState,r=t.config,o=r.beginCropArea,i=void 0===o?1:o,a=r.minCropAreaWidth,s=r.minCropAreaHeight;n({isHideCanvas:!0,isShowSpinner:!0},(function(){var t=e.getCanvas(),r=t.getBoundingClientRect(),o=t.width/r.width;e.cropper=new c.default(t,{viewMode:1,modal:!1,background:!1,rotatable:!1,scalable:!1,zoomable:!1,movable:!1,autoCropArea:i,minCropBoxWidth:a,minCropBoxHeight:s,crop:function(t){e.props.updateState({cropDetails:t.detail})}}),window.scaleflexPlugins=window.scaleflexPlugins||{},window.scaleflexPlugins.zoom=o,window.scaleflexPlugins.cropperjs=e.cropper,n({isHideCanvas:!1,isShowSpinner:!1})}))})),S(x(e),"applyCrop",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=e.props,r=n.initialZoom,o=n.updateState,i=n.cropDetails,a=n.roundCrop,c=i.width,s=i.height,l=i.x,u=i.y;o({isShowSpinner:!0},(function(){var n,o,i;(e.destroyCrop(),1!==r)?(n=[c,s,l,u].map((function(e){return e*r})),e.CamanInstanceZoomed.crop(c,s,l,u),(o=e.CamanInstanceOriginal).crop.apply(o,d(n))):(n=[c,s,l,u],(i=e.CamanInstance).crop.apply(i,d(n)));e.makeCanvasSnapshot({operation:"crop",props:{width:n[0],height:n[1],x:n[2],y:n[3],roundCrop:a}},t)}))})),S(x(e),"makeCanvasSnapshot",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.props,i=o.updateState,c=o.initialZoom,s=o.operationsZoomed,l=o.currentOperation,u=o.operationsOriginal,f=o.operations,p=o.roundCrop,h=1!==c;if(r){var m=(h?s:f).indexOf(l)+1,v=e.cloneCanvas(e.getCanvas()),b=g(g({},t),{},{previewCanvas:!0,canvas:v}),y={isHideCanvas:!1,isShowSpinner:!1,currentOperation:b};return h?(y.operationsZoomed=[].concat(d(s.slice(0,m)),[b]),y.operationsOriginal=[].concat(d(u.slice(0,m)),[g(g({},b),{},{canvas:e.cloneCanvas(e.getCanvas(null,!0))})]),y.isHideCanvasOriginal=!1,y.isShowSpinnerOriginal=!1):y.operations=[].concat(d(f.slice(0,m)),[b]),void i(y,n)}if(h){var w=s.indexOf(l)+1;e.CamanInstanceOriginal.render((function(){var r=e.replaceWithNewCanvas(a.ORIGINAL_CANVAS_ID,p),o=g(g({},t),{},{canvas:e.cloneCanvas(e.getCanvas(null,!0))});e.CamanInstanceOriginal=new window.Caman(r,(function(){i({isHideCanvasOriginal:!1,isShowSpinnerOriginal:!1,operationsOriginal:[].concat(d(u.slice(0,w)),[o])},n)}))}));var x=e.getCanvas;e.CamanInstanceZoomed.render((function(){var n=e.replaceWithNewCanvas(a.CANVAS_ID,p),r=g(g({},t),{},{canvas:e.cloneCanvas(x())});e.CamanInstanceZoomed=new window.Caman(n,(function(){i({isHideCanvas:!1,isShowSpinner:!1,operationsZoomed:[].concat(d(s.slice(0,w)),[r]),currentOperation:r})}))}))}else{var O=f.indexOf(l)+1,S=e.getCanvas;e.CamanInstance.render((function(){var r=e.replaceWithNewCanvas(a.CANVAS_ID,p),o=g(g({},t),{},{canvas:e.cloneCanvas(S())});e.CamanInstance=new window.Caman(r,(function(){i({isHideCanvas:!1,isShowSpinner:!1,operations:[].concat(d(f.slice(0,O)),[o]),currentOperation:o},n)}))}))}})),S(x(e),"destroyCrop",(function(){e.cropper.destroy()})),S(x(e),"getCropArguments",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.height,r=e.x,o=e.y,i=e.roundCrop;return"tl_px=".concat(Math.round(r),",").concat(Math.round(o),"&br_px=").concat(Math.round(r+t),",").concat(Math.round(o+n)).concat(i?"&radius=".concat(Math.round(Math.max(t,n)),"&force_format=png"):"")})),S(x(e),"initResize",(function(){var t=e.props,n=t.initialZoom,r=t.updateState,o=e.getCanvas(1!==n?a.ORIGINAL_CANVAS_ID:a.CANVAS_ID);r({canvasDimensions:{width:o.width,height:o.height,ratio:o.width/o.height}})})),S(x(e),"applyResize",(function(){var t=e.props,n=t.initialZoom,r=t.canvasDimensions,o=t.updateState,i=t.handleSave,a=t.operations,c=t.operationsOriginal;o({isHideCanvas:!0,isShowSpinner:!0,operationsOriginal:[].concat(d(c),[{operation:"resize",props:r}]),operations:[].concat(d(a),[{operation:"resize",props:r}])},(function(){1!==n?(e.CamanInstanceOriginal.resize(r),e.CamanInstanceOriginal.render((function(){i()}))):(e.CamanInstance.resize(r),e.CamanInstance.render((function(){i()})))}))})),S(x(e),"getResizeArguments",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=e.height;return"w=".concat(t,"&h=").concat(n)})),S(x(e),"initAdjust",(function(){})),S(x(e),"onAdjust",(function(t,n){var r,o=e.props,i=o.updateState,a=o.adjust;i({adjust:g(g({},a),{},(r={},S(r,t,n),S(r,"isHideCanvas",!0),S(r,"isShowSpinner",!0),r))},(function(){e.applyCorrections((function(){i({isHideCanvas:!1,isShowSpinner:!1})}))}))})),S(x(e),"initFocusPoint",(function(){var t=e.props,n=t.updateState,r=t.original,o=t.focusPoint,i=g({},o);null===i.x&&(i.x=r.width/2),null===i.y&&(i.y=r.height/2),e.tempFocusPoint=g({},o),n({focusPoint:i,isHideCanvas:!0,isShowSpinner:!0})})),S(x(e),"applyFocusPoint",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=e.props,r=n.updateState,o=n.operations,i=n.operationsOriginal,a=n.focusPoint;e.tempFocusPoint=a,r({operationsOriginal:[].concat(d(i),[{operation:"focus_point",props:a}]),operations:[].concat(d(o),[{operation:"focus_point",props:a}])}),t()})),S(x(e),"applyShapes",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=e.props.shapeOperations;n.updateShapes({applied:!0},{selectedShape:{}},(function(){e.makeCanvasSnapshot({operation:"shape",props:{shapes:e.props.shapes}},t,!0)}))})),S(x(e),"getFocusPointArguments",(function(e){return"gravity=".concat(e.x,",").concat(e.y)})),S(x(e),"destroyFocusPoint",(function(){e.props.updateState({focusPoint:e.tempFocusPoint,isHideCanvas:!1,isShowSpinner:!1})})),S(x(e),"pushOperation",(function(e,t,n){var r=e.findIndex((function(e){return e===n})),o=e.length;o&&r!==e[o]&&e.splice(r+1,o),e.push(t)})),S(x(e),"applyOperations",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.props,i=o.initialZoom,c=o.operations,s=o.operationsZoomed,l=o.operationsOriginal,u=o.canvasZoomed,f=o.canvasOriginal,p=o.updateState,d=1!==i,h=d?s[t]:c[t],m=-1!==t;if(r&&r.previewCanvas&&r.index-1===t||h&&h.previewCanvas&&r.index+1===t){var v,b,y=e.props.shapeOperations,w=null==h||null===(v=h.props)||void 0===v?void 0:v.shapes;if(!w){var x=(d?s:c).filter((function(e,t){return"shape"===e.operation&&t<r.index}));w=x.length>0?x[x.length-1].props.shapes:[]}return y.replaceAllShapes(w),b=d?m?s[t]:{canvas:e.cloneCanvas(u)}:m?c[t]:{canvas:e.cloneCanvas(f)},void p(g(g({},C),{},{currentOperation:b}),(function(){n&&n()}))}if(m||e.props.shapeOperations.replaceAllShapes([]),d){var O=m?s[t]:{canvas:e.cloneCanvas(u)},S=e.replaceCanvas(O.canvas,a.CANVAS_ID);e.CamanInstanceZoomed=new window.Caman(S,(function(){p(g(g({},C),{},{currentOperation:O}),(function(){n&&n()}))}));var k=m?l[t]:{canvas:e.cloneCanvas(f)},_=e.replaceCanvas(k.canvas,a.ORIGINAL_CANVAS_ID);e.CamanInstanceOriginal=new window.Caman(_,(function(){}))}else{var E=m?c[t]:{canvas:e.cloneCanvas(f)},P=e.replaceCanvas(E.canvas,a.CANVAS_ID);e.CamanInstance=new window.Caman(P,(function(){p(g(g({},C),{},{currentOperation:E}),(function(){n&&n()}))}))}})),S(x(e),"isOperationExist",(function(e,t){return e.find((function(e){return e.operation===t}))})),S(x(e),"getOperationQuery",(function(e,t){return e?"crop_px":t?"width":"cdn"})),S(x(e),"destroyAll",(function(){})),S(x(e),"resetAll",(function(t){var n=e.props.activeTab;n?e.cancelLastOperation(n,(function(){e.applyOperations(-1,t)})):e.applyOperations(-1,t)})),S(x(e),"applyCorrections",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=e.props,r=n.initialZoom,o=n.effect,a=n.filter,c=n.adjust,s=c.brightness,l=c.contrast,u=c.saturation,f=c.exposure;1!==r?(e.CamanInstanceZoomed.revert(!1),o&&e.CamanInstanceZoomed[(0,i.getEffectHandlerName)(o)](),a&&e.CamanInstanceZoomed[(0,i.getEffectHandlerName)(a)](),"0"!==s.toString()&&e.CamanInstanceZoomed.brightness(parseInt(s||"0")),"0"!==l.toString()&&e.CamanInstanceZoomed.contrast(parseInt(l||"0")),"0"!==u.toString()&&e.CamanInstanceZoomed.saturation(parseInt(u||"0")),"0"!==f.toString()&&e.CamanInstanceZoomed.exposure(parseInt(f||"0")),e.CamanInstanceZoomed.render(t)):(e.CamanInstance.revert(!1),o&&e.CamanInstance[(0,i.getEffectHandlerName)(o)](),a&&e.CamanInstance[(0,i.getEffectHandlerName)(a)](),"0"!==s.toString()&&e.CamanInstance.brightness(parseInt(s||"0")),"0"!==l.toString()&&e.CamanInstance.contrast(parseInt(l||"0")),"0"!==u.toString()&&e.CamanInstance.saturation(parseInt(u||"0")),"0"!==f.toString()&&e.CamanInstance.exposure(parseInt(f||"0")),e.CamanInstance.render(t))})),S(x(e),"cancelAddedShapes",(function(){e.props.shapeOperations.deleteShapes({all:!0},{selectedShape:{}})})),S(x(e),"cancelLastOperation",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=e.props.initialZoom;"crop"===t&&e.destroyCrop(),"watermark"===t&&e.cancelWatermark(),["shapes","image","text"].includes(t)&&e.cancelAddedShapes(),1!==r?(e.CamanInstanceZoomed.reset(),e.CamanInstanceOriginal.reset(),e.CamanInstanceOriginal.render(),e.CamanInstanceZoomed.render((function(){n&&n()}))):(e.CamanInstance.reset(),e.CamanInstance.render((function(){n&&n()})))})),S(x(e),"initWatermark",(function(){var t=e.props,n=t.watermark,r=t.updateState;n.applyByDefault||r({watermark:g(g({},n),{},{applyByDefault:!0})})})),S(x(e),"applyWatermark",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=e.props,r=n.updateState,o=n.shapeOperations,i=(o.getShape({key:a.WATERMARK_UNIQUE_KEY})||{}).index;e.setState({tempWatermark:null}),r({selectedShape:{}}),e.makeCanvasSnapshot({operation:"shape",props:{shapes:[i]}},t,!0),t()})),S(x(e),"cancelWatermark",(function(){var t=e.state.tempWatermark,n=e.props,r=n.updateState,o=n.shapeOperations,i=o.getShape({key:a.WATERMARK_UNIQUE_KEY})||{},c=null;t&&t.url&&t.applyByDefault?(r({isShowSpinner:!0}),(c=new Image).setAttribute("crossOrigin","Anonymous"),c.src=t.url+"?"+(new Date).getTime(),c.onload=function(){o.updateShape({img:c},i.index,{watermark:t,logoImage:c,isShowSpinner:!1,selectedShape:{}})}):o.deleteShape({index:i.index},{watermark:t,logoImage:c,selectedShape:{}})})),S(x(e),"getWatermarkArguments",(function(){var t=e.props,n=t.config.processWithCloudimage,r=t.shapeOperations.getShape({key:a.WATERMARK_UNIQUE_KEY});if(!r)return"";var o=r.x,i=r.y,c=r.opacity,s=p(r,["x","y","opacity"]),l=e.state.original,u=(l=void 0===l?{}:l).width,f=l.height,d=e.getCanvas(a.PREVIEW_CANVAS_ID),h=d.width,m=d.height,g=Math.round(o.mapNumber(0,h,0,u)),v=Math.round(i.mapNumber(0,m,0,f)),b="&wat_gravity=northwest&wat_pad=".concat(g,",").concat(v),y="wat=1&wat_opacity=".concat(c,"&wat_scale=31p").concat(b);return y+=n&&s.text?"&wat_text=".concat(s.text,"&wat_font=").concat(s.textFont,"&wat_fontsize=").concat(s.textSize,"&wat_colour=").concat(s.color.replace("#","")):"&wat_url=".concat(s.img.src.split("?")[0])})),S(x(e),"applyChanges",(function(t,n){switch(t){case"adjust":e.applyAdjust(n);break;case"effects":e.applyFilterOrEffect("effect",n);break;case"filters":e.applyFilterOrEffect("filter",n);break;case"crop":e.applyCrop(n);break;case"resize":e.applyResize();break;case"rotate":e.applyOrientation(n);break;case"watermark":e.applyWatermark(n);break;case"focus_point":e.applyFocusPoint(n);break;case"shapes":case"image":case"text":e.applyShapes(n)}})),S(x(e),"changeTab",(function(t){switch(t){case"effects":case"filters":e.initFiltersOrEffects();break;case"adjust":e.initAdjust();break;case"crop":e.initCrop();break;case"resize":e.initResize();break;case"rotate":e.initOrientation();break;case"watermark":e.initWatermark();break;case"focus_point":e.initFocusPoint();break;default:e.destroyAll()}})),S(x(e),"destroyMode",(function(t){switch(t){case"effects":case"filters":case"adjust":break;case"crop":e.destroyCrop();break;case"resize":case"rotate":break;case"focus_point":e.destroyFocusPoint()}})),e.state={canvas:null,self:x(e)},e.CamanInstance=null,e.CamanInstanceOriginal=null,e.CamanInstanceZoomed=null,e}return t=f,l=[{key:"getDerivedStateFromProps",value:function(e,t){var n={};return e.activeTab!==t.activeTab&&(t.activeTab&&t.self.destroyMode(t.activeTab),"watermark"===e.activeTab&&(n.tempWatermark=e.watermark&&(0,i.deepCopy)(e.watermark)),t.self.changeTab(e.activeTab)),g(g({},n),e)}}],(n=[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){var e=this,t=this,n=this.props,r=n.updateState,o=n.img,i=n.isPreResize,c=n.preCanvasDimensions;r({isShowSpinner:!0,applyChanges:this.applyChanges,applyOperations:this.applyOperations,resetAll:this.resetAll,onRotate:this.onRotate,onAdjust:this.onAdjust,downloadImage:this.downloadImage,getResultCanvas:this.getResultCanvas,saveImage:this.saveImage,applyCorrections:this.applyCorrections,restoreAll:this.restoreAll,cancelLastOperation:this.cancelLastOperation},(function(){var n=e.getCanvas(),s=n.getContext("2d");n.width=o.width,n.height=o.height,s.drawImage(o,0,0,o.width,o.height);var l={height:o.height,width:o.width,ratio:o.width/o.height};r({original:l,canvasDimensions:l}),i&&c?new window.Caman(n,(function(){this.resize({width:c.width,height:c.height}),this.render((function(){var e=t.replaceWithNewCanvas(a.CANVAS_ID),n={height:e.height,width:e.width,ratio:e.width/e.height};r({original:n,canvasDimensions:g({},n),canvasOriginal:t.cloneCanvas(e)},(function(){t.initializeCanvases(e)}))}))})):e.initializeCanvases(o)}))}},{key:"render",value:function(){var e=this.props.config.elementId;return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.Canvas,{id:"".concat(e,"_").concat(a.ORIGINAL_CANVAS_ID),className:"filerobot-original-canvas"}),r.default.createElement(o.Canvas,{id:"".concat(e,"_").concat(a.CANVAS_ID),className:"filerobot-edit-canvas"}))}}])&&v(t.prototype,n),l&&v(t,l),f}(r.Component);t.default=k},851:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPubliclink=t.getPermalink=void 0;t.getPermalink=function(e){return e.url&&e.url.permalink?e.url.permalink:e.url_permalink?e.url_permalink:""};t.getPubliclink=function(e){return e.url&&e.url.public?e.url.public:e.url_public?e.url_public:""}},852:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.b64toBlob=void 0;t.b64toBlob=function(e,t,n){t=t||"",n=n||512;for(var r=atob(e),o=[],i=0;i<r.length;i+=n){for(var a=r.slice(i,i+n),c=new Array(a.length),s=0;s<a.length;s++)c[s]=a.charCodeAt(s);var l=new Uint8Array(c);o.push(l)}return new Blob(o,{type:t})}},853:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepCopy=void 0;t.deepCopy=function(e){return JSON.parse(JSON.stringify(e))}},854:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBaseAPI=void 0;var r=n(707);t.getBaseAPI=function(e,t,n){return e?e+"/":(0,r.getBaseUrl)(t,n)}},855:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBaseUrl=void 0;t.getBaseUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"filerobot";return"filerobot"===t?"https://api.filerobot.com/".concat(e,"/v3/"):"https://".concat(e,".api.airstore.io/v1/")}},856:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCanvasNode=void 0;var r=n(702);t.getCanvasNode=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return window.document.querySelector("#".concat(e,"_").concat(t||(n?r.ORIGINAL_CANVAS_ID:r.CANVAS_ID)))}},857:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEffectHandlerName=void 0;t.getEffectHandlerName=function(e){switch(e){case"colorize":return"colorize";case"contrast":return"contrast";case"cross_process":return"crossProcess";case"glow_sun":return"glowingSun";case"hdr_effect":return"hdr";case"jarques":return"jarques";case"love":return"love";case"old_boot":return"oldBoot";case"orange_peel":return"orangePeel";case"pin_hole":return"pinhole";case"pleasant":return"pleasant";case"sepia":return"sepia";case"sun_rise":return"sunrise";case"vintage":return"vintage";case"clarity":return"";case"edge_enhance":return"edgeEnhance";case"emboss":return"emboss";case"grungy":return"grungy";case"hazy":return"hazyDays";case"lomo":return"lomo";case"noise":return"noise";case"old_paper":return"oldPaper";case"posterize":return"posterize";case"radial_blur":return"radialBlur";case"sin_city":return"sinCity";case"tilt_shift":return"tiltShift";default:return null}}},858:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIcon=void 0;t.getIcon=function(e){switch(e){case"colorize":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/filters/colorize.jpg";case"contrast":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/filters/contrast.png";case"cross_process":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/filters/cross_process.png";case"glow_sun":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/filters/glow_sun.png";case"hdr_effect":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/filters/hdr_effect.png";case"jarques":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/filters/jarques.png";case"love":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/filters/love.png";case"old_boot":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/filters/old_boot.png";case"orange_peel":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/filters/orange_peel.png";case"pin_hole":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/filters/pin_hole.png";case"pleasant":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/filters/pleasant.png";case"sepia":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/filters/sepia.png";case"sun_rise":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/filters/sun_rise.png";case"vintage":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/filters/vintage.png";case"clarity":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/effects/clarity.png";case"edge_enhance":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/effects/edge_enhance.png";case"emboss":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/effects/emboss.png";case"grungy":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/effects/grungy.png";case"hazy":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/effects/hazy.png";case"lomo":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/effects/lomo.png";case"noise":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/effects/noise.png";case"old_paper":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/effects/old_paper.png";case"posterize":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/effects/posterize.png";case"radial_blur":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/effects/radial_blur.png";case"sin_city":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/effects/sin_city.png";case"tilt_shift":return"https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/images/effects/tilt_shift.png";default:return""}}},859:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLabel=void 0;t.getLabel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/_/g," ")}},860:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSecretHeaderName=void 0;t.getSecretHeaderName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"filerobot";return"filerobot"===e?"X-Filerobot-Key":"X-Airstore-Secret-Key"}},861:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWatermarkPosition=void 0;t.getWatermarkPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"center",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=t.getBoundingClientRect(),i=o.width/2-n/2,a=o.height/2-r/2;if("center"===e)return[i,a];e=e.split("-");var c=o.width-n,s=o.height-r;return e.map((function(e,t){return"center"===e?0===t?i:a:"right"===e?c:"bottom"===e?s:0}))}},862:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImageSealingParams=void 0;var r,o=(r=n(863))&&r.__esModule?r:{default:r};function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r){var i=btoa(e).replace(/=*$/g,""),a=function(e,t){return(0,o.default)(e).slice(0,t)}(t+i+n,r);return[a?"ci_seal=".concat(a):"",i?"ci_eqs=".concat(i):""].filter((function(e){return e})).join("&")}t.getImageSealingParams=function(e,t,n){var r=t||{},o=r.salt,a=r.char_count,s=r.include_params,l=Array.isArray(s);if(l&&0===s.length)return e;var u="",f="";if(l){var p=[],d=[];e.split("&").forEach((function(e){var t=i(e.split("="),1)[0];s.indexOf(t)>-1?p.push(e):d.push(e)})),d.length>0&&(f=d.join("&")),u=c(p.join("&"),n,o,a)}else u=c(e,n,o,a);return[u,f].filter((function(e){return e})).join("&")}},863:function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/*
 * [js-sha1]{@link https://github.com/emn178/js-sha1}
 *
 * @version 0.6.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */!function(){"use strict";var root="object"==typeof window?window:{},NODE_JS=!root.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS&&(root=global);var COMMON_JS=!root.JS_SHA1_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(864),HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[],createOutputMethod=function(e){return function(t){return new Sha1(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Sha1},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("sha1").update(e,"utf8").digest("hex");if(e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(void 0===e.length)return method(e);return crypto.createHash("sha1").update(new Buffer(e)).digest("hex")};return nodeMethod};function Sha1(e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Sha1.prototype.update=function(e){if(!this.finalized){var t="string"!=typeof e;t&&e.constructor===root.ArrayBuffer&&(e=new Uint8Array(e));for(var n,r,o=0,i=e.length||0,a=this.blocks;o<i;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(r=this.start;o<i&&r<64;++o)a[r>>2]|=e[o]<<SHIFT[3&r++];else for(r=this.start;o<i&&r<64;++o)(n=e.charCodeAt(o))<128?a[r>>2]|=n<<SHIFT[3&r++]:n<2048?(a[r>>2]|=(192|n>>6)<<SHIFT[3&r++],a[r>>2]|=(128|63&n)<<SHIFT[3&r++]):n<55296||n>=57344?(a[r>>2]|=(224|n>>12)<<SHIFT[3&r++],a[r>>2]|=(128|n>>6&63)<<SHIFT[3&r++],a[r>>2]|=(128|63&n)<<SHIFT[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),a[r>>2]|=(240|n>>18)<<SHIFT[3&r++],a[r>>2]|=(128|n>>12&63)<<SHIFT[3&r++],a[r>>2]|=(128|n>>6&63)<<SHIFT[3&r++],a[r>>2]|=(128|63&n)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=a[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha1.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha1.prototype.hash=function(){var e,t,n=this.h0,r=this.h1,o=this.h2,i=this.h3,a=this.h4,c=this.blocks;for(e=16;e<80;++e)t=c[e-3]^c[e-8]^c[e-14]^c[e-16],c[e]=t<<1|t>>>31;for(e=0;e<20;e+=5)n=(t=(r=(t=(o=(t=(i=(t=(a=(t=n<<5|n>>>27)+(r&o|~r&i)+a+1518500249+c[e]<<0)<<5|a>>>27)+(n&(r=r<<30|r>>>2)|~n&o)+i+1518500249+c[e+1]<<0)<<5|i>>>27)+(a&(n=n<<30|n>>>2)|~a&r)+o+1518500249+c[e+2]<<0)<<5|o>>>27)+(i&(a=a<<30|a>>>2)|~i&n)+r+1518500249+c[e+3]<<0)<<5|r>>>27)+(o&(i=i<<30|i>>>2)|~o&a)+n+1518500249+c[e+4]<<0,o=o<<30|o>>>2;for(;e<40;e+=5)n=(t=(r=(t=(o=(t=(i=(t=(a=(t=n<<5|n>>>27)+(r^o^i)+a+1859775393+c[e]<<0)<<5|a>>>27)+(n^(r=r<<30|r>>>2)^o)+i+1859775393+c[e+1]<<0)<<5|i>>>27)+(a^(n=n<<30|n>>>2)^r)+o+1859775393+c[e+2]<<0)<<5|o>>>27)+(i^(a=a<<30|a>>>2)^n)+r+1859775393+c[e+3]<<0)<<5|r>>>27)+(o^(i=i<<30|i>>>2)^a)+n+1859775393+c[e+4]<<0,o=o<<30|o>>>2;for(;e<60;e+=5)n=(t=(r=(t=(o=(t=(i=(t=(a=(t=n<<5|n>>>27)+(r&o|r&i|o&i)+a-1894007588+c[e]<<0)<<5|a>>>27)+(n&(r=r<<30|r>>>2)|n&o|r&o)+i-1894007588+c[e+1]<<0)<<5|i>>>27)+(a&(n=n<<30|n>>>2)|a&r|n&r)+o-1894007588+c[e+2]<<0)<<5|o>>>27)+(i&(a=a<<30|a>>>2)|i&n|a&n)+r-1894007588+c[e+3]<<0)<<5|r>>>27)+(o&(i=i<<30|i>>>2)|o&a|i&a)+n-1894007588+c[e+4]<<0,o=o<<30|o>>>2;for(;e<80;e+=5)n=(t=(r=(t=(o=(t=(i=(t=(a=(t=n<<5|n>>>27)+(r^o^i)+a-899497514+c[e]<<0)<<5|a>>>27)+(n^(r=r<<30|r>>>2)^o)+i-899497514+c[e+1]<<0)<<5|i>>>27)+(a^(n=n<<30|n>>>2)^r)+o-899497514+c[e+2]<<0)<<5|o>>>27)+(i^(a=a<<30|a>>>2)^n)+r-899497514+c[e+3]<<0)<<5|r>>>27)+(o^(i=i<<30|i>>>2)^a)+n-899497514+c[e+4]<<0,o=o<<30|o>>>2;this.h0=this.h0+n<<0,this.h1=this.h1+r<<0,this.h2=this.h2+o<<0,this.h3=this.h3+i<<0,this.h4=this.h4+a<<0},Sha1.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,o=this.h4;return HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]},Sha1.prototype.toString=Sha1.prototype.hex,Sha1.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,o=this.h4;return[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o]},Sha1.prototype.array=Sha1.prototype.digest,Sha1.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};var exports=createMethod();COMMON_JS?module.exports=exports:(root.sha1=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__webpack_require__(165),__webpack_require__(54))},864:function(e,t){(function(t){e.exports=t}).call(this,{})},865:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInnerBoxSize=void 0;t.getInnerBoxSize=function(e,t){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e)||{},o=r.paddingLeft,i=void 0===o?0:o,a=r.paddingRight,c=void 0===a?0:a,s=r.paddingTop,l=void 0===s?0:s,u=r.paddingBottom,f=void 0===u?0:u,p=n.width-(parseInt(i,10)||0)-(parseInt(c,10)||0),d=n.height-(parseInt(l,10)||0)-(parseInt(f,10)||0),h=0,m=0;if(p>=t.width&&d>=t.height)h=t.width,m=t.height;else if(p>t.width&&d<t.height)m=d,h=d*t.ratio;else if(p<t.width&&d>t.height)h=p,m=p/t.ratio;else{var g=p,v=p/t.ratio,b=d*t.ratio,y=d;t.width<=g&&t.height<=v?(h=g,m=v):(h=b,m=y)}return{width:h,height:m}}},866:function(e,t,n){
/*!
 * Cropper.js v1.5.9
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-09-10T13:16:26.743Z
 */
e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s="undefined"!=typeof window&&void 0!==window.document,l=s?window:{},u=!(!s||!l.document.documentElement)&&"ontouchstart"in l.document.documentElement,f=!!s&&"PointerEvent"in l,p="".concat("cropper","-crop"),d="".concat("cropper","-disabled"),h="".concat("cropper","-hidden"),m="".concat("cropper","-hide"),g="".concat("cropper","-invisible"),v="".concat("cropper","-modal"),b="".concat("cropper","-move"),y="".concat("cropper","Action"),w="".concat("cropper","Preview"),x=u?"touchstart":"mousedown",O=u?"touchmove":"mousemove",S=u?"touchend touchcancel":"mouseup",C=f?"pointerdown":x,k=f?"pointermove":O,_=f?"pointerup pointercancel":S,E=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,P=/^data:/,j=/^data:image\/jpeg;base64,/,R=/^img|canvas$/i,M={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},A=Number.isNaN||l.isNaN;function D(e){return"number"==typeof e&&!A(e)}var I=function(e){return e>0&&e<1/0};function T(e){return void 0===e}function B(t){return"object"===e(t)&&null!==t}var z=Object.prototype.hasOwnProperty;function L(e){if(!B(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&z.call(n,"isPrototypeOf")}catch(e){return!1}}function F(e){return"function"==typeof e}var W=Array.prototype.slice;function N(e){return Array.from?Array.from(e):W.call(e)}function H(e,t){return e&&F(t)&&(Array.isArray(e)||D(e.length)?N(e).forEach((function(n,r){t.call(e,n,r,e)})):B(e)&&Object.keys(e).forEach((function(n){t.call(e,e[n],n,e)}))),e}var U=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return B(e)&&n.length>0&&n.forEach((function(t){B(t)&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e},Y=/\.\d*(?:0|9){12}\d*$/;function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Y.test(e)?Math.round(e*t)/t:e}var X=/^width|height|left|top|marginLeft|marginTop$/;function G(e,t){var n=e.style;H(t,(function(e,t){X.test(t)&&D(e)&&(e="".concat(e,"px")),n[t]=e}))}function Z(e,t){if(t)if(D(e.length))H(e,(function(e){Z(e,t)}));else if(e.classList)e.classList.add(t);else{var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function q(e,t){t&&(D(e.length)?H(e,(function(e){q(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function K(e,t,n){t&&(D(e.length)?H(e,(function(e){K(e,t,n)})):n?Z(e,t):q(e,t))}var Q=/([a-z\d])([A-Z])/g;function J(e){return e.replace(Q,"$1-$2").toLowerCase()}function $(e,t){return B(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(J(t)))}function ee(e,t,n){B(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(J(t)),n)}var te=/\s\s*/,ne=function(){var e=!1;if(s){var t=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});l.addEventListener("test",n,r),l.removeEventListener("test",n,r)}return e}();function re(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;t.trim().split(te).forEach((function(t){if(!ne){var i=e.listeners;i&&i[t]&&i[t][n]&&(o=i[t][n],delete i[t][n],0===Object.keys(i[t]).length&&delete i[t],0===Object.keys(i).length&&delete e.listeners)}e.removeEventListener(t,o,r)}))}function oe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;t.trim().split(te).forEach((function(t){if(r.once&&!ne){var i=e.listeners,a=void 0===i?{}:i;o=function(){delete a[t][n],e.removeEventListener(t,o,r);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];n.apply(e,c)},a[t]||(a[t]={}),a[t][n]&&e.removeEventListener(t,a[t][n],r),a[t][n]=o,e.listeners=a}e.addEventListener(t,o,r)}))}function ie(e,t,n){var r;return F(Event)&&F(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)}function ae(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var ce=l.location,se=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function le(e){var t=e.match(se);return null!==t&&(t[1]!==ce.protocol||t[2]!==ce.hostname||t[3]!==ce.port)}function ue(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function fe(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,o=e.translateX,i=e.translateY,a=[];D(o)&&0!==o&&a.push("translateX(".concat(o,"px)")),D(i)&&0!==i&&a.push("translateY(".concat(i,"px)")),D(t)&&0!==t&&a.push("rotate(".concat(t,"deg)")),D(n)&&1!==n&&a.push("scaleX(".concat(n,")")),D(r)&&1!==r&&a.push("scaleY(".concat(r,")"));var c=a.length?a.join(" "):"none";return{WebkitTransform:c,msTransform:c,transform:c}}function pe(e,t){var n=e.pageX,r=e.pageY,o={endX:n,endY:r};return t?o:i({startX:n,startY:r},o)}function de(e){var t=e.aspectRatio,n=e.height,r=e.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",i=I(r),a=I(n);if(i&&a){var c=n*t;"contain"===o&&c>r||"cover"===o&&c<r?n=r/t:r=n*t}else i?n=r/t:a&&(r=n*t);return{width:r,height:n}}function he(e,t,n,r){var o=t.aspectRatio,i=t.naturalWidth,c=t.naturalHeight,s=t.rotate,l=void 0===s?0:s,u=t.scaleX,f=void 0===u?1:u,p=t.scaleY,d=void 0===p?1:p,h=n.aspectRatio,m=n.naturalWidth,g=n.naturalHeight,v=r.fillColor,b=void 0===v?"transparent":v,y=r.imageSmoothingEnabled,w=void 0===y||y,x=r.imageSmoothingQuality,O=void 0===x?"low":x,S=r.maxWidth,C=void 0===S?1/0:S,k=r.maxHeight,_=void 0===k?1/0:k,E=r.minWidth,P=void 0===E?0:E,j=r.minHeight,R=void 0===j?0:j,M=document.createElement("canvas"),A=M.getContext("2d"),D=de({aspectRatio:h,width:C,height:_}),I=de({aspectRatio:h,width:P,height:R},"cover"),T=Math.min(D.width,Math.max(I.width,m)),B=Math.min(D.height,Math.max(I.height,g)),z=de({aspectRatio:o,width:C,height:_}),L=de({aspectRatio:o,width:P,height:R},"cover"),F=Math.min(z.width,Math.max(L.width,i)),W=Math.min(z.height,Math.max(L.height,c)),N=[-F/2,-W/2,F,W];return M.width=V(T),M.height=V(B),A.fillStyle=b,A.fillRect(0,0,T,B),A.save(),A.translate(T/2,B/2),A.rotate(l*Math.PI/180),A.scale(f,d),A.imageSmoothingEnabled=w,A.imageSmoothingQuality=O,A.drawImage.apply(A,[e].concat(a(N.map((function(e){return Math.floor(V(e))}))))),A.restore(),M}var me=String.fromCharCode,ge=/^data:.*,/;function ve(e){var t,n=new DataView(e);try{var r,o,i;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,c=2;c+1<a;){if(255===n.getUint8(c)&&225===n.getUint8(c+1)){o=c;break}c+=1}if(o){var s=o+10;if("Exif"===function(e,t,n){var r="";n+=t;for(var o=t;o<n;o+=1)r+=me(e.getUint8(o));return r}(n,o+4,4)){var l=n.getUint16(s);if(((r=18761===l)||19789===l)&&42===n.getUint16(s+2,r)){var u=n.getUint32(s+4,r);u>=8&&(i=s+u)}}}if(i){var f,p,d=n.getUint16(i,r);for(p=0;p<d;p+=1)if(f=i+12*p+2,274===n.getUint16(f,r)){f+=8,t=n.getUint16(f,r),n.setUint16(f,1,r);break}}}catch(e){t=1}return t}var be={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,n=this.container,r=this.cropper,o=Number(t.minContainerWidth),i=Number(t.minContainerHeight);Z(r,h),q(e,h);var a={width:Math.max(n.offsetWidth,o>=0?o:200),height:Math.max(n.offsetHeight,i>=0?i:100)};this.containerData=a,G(r,{width:a.width,height:a.height}),Z(e,h),q(r,h)},initCanvas:function(){var e=this.containerData,t=this.imageData,n=this.options.viewMode,r=Math.abs(t.rotate)%180==90,o=r?t.naturalHeight:t.naturalWidth,i=r?t.naturalWidth:t.naturalHeight,a=o/i,c=e.width,s=e.height;e.height*a>e.width?3===n?c=e.height*a:s=e.width/a:3===n?s=e.width/a:c=e.height*a;var l={aspectRatio:a,naturalWidth:o,naturalHeight:i,width:c,height:s};this.canvasData=l,this.limited=1===n||2===n,this.limitCanvas(!0,!0),l.width=Math.min(Math.max(l.width,l.minWidth),l.maxWidth),l.height=Math.min(Math.max(l.height,l.minHeight),l.maxHeight),l.left=(e.width-l.width)/2,l.top=(e.height-l.height)/2,l.oldLeft=l.left,l.oldTop=l.top,this.initialCanvasData=U({},l)},limitCanvas:function(e,t){var n=this.options,r=this.containerData,o=this.canvasData,i=this.cropBoxData,a=n.viewMode,c=o.aspectRatio,s=this.cropped&&i;if(e){var l=Number(n.minCanvasWidth)||0,u=Number(n.minCanvasHeight)||0;a>1?(l=Math.max(l,r.width),u=Math.max(u,r.height),3===a&&(u*c>l?l=u*c:u=l/c)):a>0&&(l?l=Math.max(l,s?i.width:0):u?u=Math.max(u,s?i.height:0):s&&(l=i.width,(u=i.height)*c>l?l=u*c:u=l/c));var f=de({aspectRatio:c,width:l,height:u});l=f.width,u=f.height,o.minWidth=l,o.minHeight=u,o.maxWidth=1/0,o.maxHeight=1/0}if(t)if(a>(s?0:1)){var p=r.width-o.width,d=r.height-o.height;o.minLeft=Math.min(0,p),o.minTop=Math.min(0,d),o.maxLeft=Math.max(0,p),o.maxTop=Math.max(0,d),s&&this.limited&&(o.minLeft=Math.min(i.left,i.left+(i.width-o.width)),o.minTop=Math.min(i.top,i.top+(i.height-o.height)),o.maxLeft=i.left,o.maxTop=i.top,2===a&&(o.width>=r.width&&(o.minLeft=Math.min(0,p),o.maxLeft=Math.max(0,p)),o.height>=r.height&&(o.minTop=Math.min(0,d),o.maxTop=Math.max(0,d))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=r.width,o.maxTop=r.height},renderCanvas:function(e,t){var n=this.canvasData,r=this.imageData;if(t){var o=function(e){var t=e.width,n=e.height,r=e.degree;if(90==(r=Math.abs(r)%180))return{width:n,height:t};var o=r%90*Math.PI/180,i=Math.sin(o),a=Math.cos(o),c=t*a+n*i,s=t*i+n*a;return r>90?{width:s,height:c}:{width:c,height:s}}({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),i=o.width,a=o.height,c=n.width*(i/n.naturalWidth),s=n.height*(a/n.naturalHeight);n.left-=(c-n.width)/2,n.top-=(s-n.height)/2,n.width=c,n.height=s,n.aspectRatio=i/a,n.naturalWidth=i,n.naturalHeight=a,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,G(this.canvas,U({width:n.width,height:n.height},fe({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,n=this.imageData,r=n.naturalWidth*(t.width/t.naturalWidth),o=n.naturalHeight*(t.height/t.naturalHeight);U(n,{width:r,height:o,left:(t.width-r)/2,top:(t.height-o)/2}),G(this.image,U({width:n.width,height:n.height},fe(U({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,r=Number(e.autoCropArea)||.8,o={width:t.width,height:t.height};n&&(t.height*n>t.width?o.height=o.width/n:o.width=o.height*n),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*r),o.height=Math.max(o.minHeight,o.height*r),o.left=t.left+(t.width-o.width)/2,o.top=t.top+(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=U({},o)},limitCropBox:function(e,t){var n=this.options,r=this.containerData,o=this.canvasData,i=this.cropBoxData,a=this.limited,c=n.aspectRatio;if(e){var s=Number(n.minCropBoxWidth)||0,l=Number(n.minCropBoxHeight)||0,u=a?Math.min(r.width,o.width,o.width+o.left,r.width-o.left):r.width,f=a?Math.min(r.height,o.height,o.height+o.top,r.height-o.top):r.height;s=Math.min(s,r.width),l=Math.min(l,r.height),c&&(s&&l?l*c>s?l=s/c:s=l*c:s?l=s/c:l&&(s=l*c),f*c>u?f=u/c:u=f*c),i.minWidth=Math.min(s,u),i.minHeight=Math.min(l,f),i.maxWidth=u,i.maxHeight=f}t&&(a?(i.minLeft=Math.max(0,o.left),i.minTop=Math.max(0,o.top),i.maxLeft=Math.min(r.width,o.left+o.width)-i.width,i.maxTop=Math.min(r.height,o.top+o.height)-i.height):(i.minLeft=0,i.minTop=0,i.maxLeft=r.width-i.width,i.maxTop=r.height-i.height))},renderCropBox:function(){var e=this.options,t=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&ee(this.face,y,n.width>=t.width&&n.height>=t.height?"move":"all"),G(this.cropBox,U({width:n.width,height:n.height},fe({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ie(this.element,"crop",this.getData())}},ye={initPreview:function(){var e=this.element,t=this.crossOrigin,n=this.options.preview,r=t?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",i=document.createElement("img");if(t&&(i.crossOrigin=t),i.src=r,i.alt=o,this.viewBox.appendChild(i),this.viewBoxImage=i,n){var a=n;"string"==typeof n?a=e.ownerDocument.querySelectorAll(n):n.querySelector&&(a=[n]),this.previews=a,H(a,(function(e){var n=document.createElement("img");ee(e,w,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=r,n.alt=o,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)}))}},resetPreview:function(){H(this.previews,(function(e){var t=$(e,w);G(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if(B(e[t]))try{delete e[t]}catch(n){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(J(t)))}(e,w)}))},preview:function(){var e=this.imageData,t=this.canvasData,n=this.cropBoxData,r=n.width,o=n.height,i=e.width,a=e.height,c=n.left-t.left-e.left,s=n.top-t.top-e.top;this.cropped&&!this.disabled&&(G(this.viewBoxImage,U({width:i,height:a},fe(U({translateX:-c,translateY:-s},e)))),H(this.previews,(function(t){var n=$(t,w),l=n.width,u=n.height,f=l,p=u,d=1;r&&(p=o*(d=l/r)),o&&p>u&&(f=r*(d=u/o),p=u),G(t,{width:f,height:p}),G(t.getElementsByTagName("img")[0],U({width:i*d,height:a*d},fe(U({translateX:-c*d,translateY:-s*d},e))))})))}},we={bind:function(){var e=this.element,t=this.options,n=this.cropper;F(t.cropstart)&&oe(e,"cropstart",t.cropstart),F(t.cropmove)&&oe(e,"cropmove",t.cropmove),F(t.cropend)&&oe(e,"cropend",t.cropend),F(t.crop)&&oe(e,"crop",t.crop),F(t.zoom)&&oe(e,"zoom",t.zoom),oe(n,C,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&oe(n,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&oe(n,"dblclick",this.onDblclick=this.dblclick.bind(this)),oe(e.ownerDocument,k,this.onCropMove=this.cropMove.bind(this)),oe(e.ownerDocument,_,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&oe(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.cropper;F(t.cropstart)&&re(e,"cropstart",t.cropstart),F(t.cropmove)&&re(e,"cropmove",t.cropmove),F(t.cropend)&&re(e,"cropend",t.cropend),F(t.crop)&&re(e,"crop",t.crop),F(t.zoom)&&re(e,"zoom",t.zoom),re(n,C,this.onCropStart),t.zoomable&&t.zoomOnWheel&&re(n,"wheel",this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&re(n,"dblclick",this.onDblclick),re(e.ownerDocument,k,this.onCropMove),re(e.ownerDocument,_,this.onCropEnd),t.responsive&&re(window,"resize",this.onResize)}},xe={resize:function(){if(!this.disabled){var e,t,n=this.options,r=this.container,o=this.containerData,i=r.offsetWidth/o.width;1===i&&r.offsetHeight===o.height||(n.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(H(e,(function(t,n){e[n]=t*i}))),this.setCropBoxData(H(t,(function(e,n){t[n]=e*i})))))}},dblclick:function(){var e,t;this.disabled||"none"===this.options.dragMode||this.setDragMode((e=this.dragBox,t=p,(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?"move":"crop"))},wheel:function(e){var t=this,n=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?r=e.deltaY>0?1:-1:e.wheelDelta?r=-e.wheelDelta/120:e.detail&&(r=e.detail>0?1:-1),this.zoom(-r*n,e)))},cropStart:function(e){var t=e.buttons,n=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(D(t)&&1!==t||D(n)&&0!==n||e.ctrlKey))){var r,o=this.options,i=this.pointers;e.changedTouches?H(e.changedTouches,(function(e){i[e.identifier]=pe(e)})):i[e.pointerId||0]=pe(e),r=Object.keys(i).length>1&&o.zoomable&&o.zoomOnTouch?"zoom":$(e.target,y),E.test(r)&&!1!==ie(this.element,"cropstart",{originalEvent:e,action:r})&&(e.preventDefault(),this.action=r,this.cropping=!1,"crop"===r&&(this.cropping=!0,Z(this.dragBox,v)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var n=this.pointers;e.preventDefault(),!1!==ie(this.element,"cropmove",{originalEvent:e,action:t})&&(e.changedTouches?H(e.changedTouches,(function(e){U(n[e.identifier]||{},pe(e,!0))})):U(n[e.pointerId||0]||{},pe(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,n=this.pointers;e.changedTouches?H(e.changedTouches,(function(e){delete n[e.identifier]})):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,K(this.dragBox,v,this.cropped&&this.options.modal)),ie(this.element,"cropend",{originalEvent:e,action:t}))}}},Oe={change:function(e){var t,n=this.options,r=this.canvasData,o=this.containerData,a=this.cropBoxData,c=this.pointers,s=this.action,l=n.aspectRatio,u=a.left,f=a.top,p=a.width,d=a.height,m=u+p,g=f+d,v=0,b=0,y=o.width,w=o.height,x=!0;!l&&e.shiftKey&&(l=p&&d?p/d:1),this.limited&&(v=a.minLeft,b=a.minTop,y=v+Math.min(o.width,r.width,r.left+r.width),w=b+Math.min(o.height,r.height,r.top+r.height));var O=c[Object.keys(c)[0]],S={x:O.endX-O.startX,y:O.endY-O.startY},C=function(e){switch(e){case"e":m+S.x>y&&(S.x=y-m);break;case"w":u+S.x<v&&(S.x=v-u);break;case"n":f+S.y<b&&(S.y=b-f);break;case"s":g+S.y>w&&(S.y=w-g)}};switch(s){case"all":u+=S.x,f+=S.y;break;case"e":if(S.x>=0&&(m>=y||l&&(f<=b||g>=w))){x=!1;break}C("e"),(p+=S.x)<0&&(s="w",u-=p=-p),l&&(d=p/l,f+=(a.height-d)/2);break;case"n":if(S.y<=0&&(f<=b||l&&(u<=v||m>=y))){x=!1;break}C("n"),d-=S.y,f+=S.y,d<0&&(s="s",f-=d=-d),l&&(p=d*l,u+=(a.width-p)/2);break;case"w":if(S.x<=0&&(u<=v||l&&(f<=b||g>=w))){x=!1;break}C("w"),p-=S.x,u+=S.x,p<0&&(s="e",u-=p=-p),l&&(d=p/l,f+=(a.height-d)/2);break;case"s":if(S.y>=0&&(g>=w||l&&(u<=v||m>=y))){x=!1;break}C("s"),(d+=S.y)<0&&(s="n",f-=d=-d),l&&(p=d*l,u+=(a.width-p)/2);break;case"ne":if(l){if(S.y<=0&&(f<=b||m>=y)){x=!1;break}C("n"),d-=S.y,f+=S.y,p=d*l}else C("n"),C("e"),S.x>=0?m<y?p+=S.x:S.y<=0&&f<=b&&(x=!1):p+=S.x,S.y<=0?f>b&&(d-=S.y,f+=S.y):(d-=S.y,f+=S.y);p<0&&d<0?(s="sw",f-=d=-d,u-=p=-p):p<0?(s="nw",u-=p=-p):d<0&&(s="se",f-=d=-d);break;case"nw":if(l){if(S.y<=0&&(f<=b||u<=v)){x=!1;break}C("n"),d-=S.y,f+=S.y,p=d*l,u+=a.width-p}else C("n"),C("w"),S.x<=0?u>v?(p-=S.x,u+=S.x):S.y<=0&&f<=b&&(x=!1):(p-=S.x,u+=S.x),S.y<=0?f>b&&(d-=S.y,f+=S.y):(d-=S.y,f+=S.y);p<0&&d<0?(s="se",f-=d=-d,u-=p=-p):p<0?(s="ne",u-=p=-p):d<0&&(s="sw",f-=d=-d);break;case"sw":if(l){if(S.x<=0&&(u<=v||g>=w)){x=!1;break}C("w"),p-=S.x,u+=S.x,d=p/l}else C("s"),C("w"),S.x<=0?u>v?(p-=S.x,u+=S.x):S.y>=0&&g>=w&&(x=!1):(p-=S.x,u+=S.x),S.y>=0?g<w&&(d+=S.y):d+=S.y;p<0&&d<0?(s="ne",f-=d=-d,u-=p=-p):p<0?(s="se",u-=p=-p):d<0&&(s="nw",f-=d=-d);break;case"se":if(l){if(S.x>=0&&(m>=y||g>=w)){x=!1;break}C("e"),d=(p+=S.x)/l}else C("s"),C("e"),S.x>=0?m<y?p+=S.x:S.y>=0&&g>=w&&(x=!1):p+=S.x,S.y>=0?g<w&&(d+=S.y):d+=S.y;p<0&&d<0?(s="nw",f-=d=-d,u-=p=-p):p<0?(s="sw",u-=p=-p):d<0&&(s="ne",f-=d=-d);break;case"move":this.move(S.x,S.y),x=!1;break;case"zoom":this.zoom(function(e){var t=i({},e),n=0;return H(e,(function(e,r){delete t[r],H(t,(function(t){var r=Math.abs(e.startX-t.startX),o=Math.abs(e.startY-t.startY),i=Math.abs(e.endX-t.endX),a=Math.abs(e.endY-t.endY),c=Math.sqrt(r*r+o*o),s=(Math.sqrt(i*i+a*a)-c)/c;Math.abs(s)>Math.abs(n)&&(n=s)}))})),n}(c),e),x=!1;break;case"crop":if(!S.x||!S.y){x=!1;break}t=ae(this.cropper),u=O.startX-t.left,f=O.startY-t.top,p=a.minWidth,d=a.minHeight,S.x>0?s=S.y>0?"se":"ne":S.x<0&&(u-=p,s=S.y>0?"sw":"nw"),S.y<0&&(f-=d),this.cropped||(q(this.cropBox,h),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}x&&(a.width=p,a.height=d,a.left=u,a.top=f,this.action=s,this.renderCropBox()),H(c,(function(e){e.startX=e.endX,e.startY=e.endY}))}},Se={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Z(this.dragBox,v),q(this.cropBox,h),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=U({},this.initialImageData),this.canvasData=U({},this.initialCanvasData),this.cropBoxData=U({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(U(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),q(this.dragBox,v),Z(this.cropBox,h)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,H(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,q(this.cropper,d)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Z(this.cropper,d)),this},destroy:function(){var e=this.element;return e.cropper?(e.cropper=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,r=n.left,o=n.top;return this.moveTo(T(e)?e:r+Number(e),T(t)?t:o+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(D(e)&&(n.left=e,r=!0),D(t)&&(n.top=t,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,null,t)},zoomTo:function(e,t,n){var r=this.options,o=this.canvasData,i=o.width,a=o.height,c=o.naturalWidth,s=o.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&r.zoomable){var l=c*e,u=s*e;if(!1===ie(this.element,"zoom",{ratio:e,oldRatio:i/c,originalEvent:n}))return this;if(n){var f=this.pointers,p=ae(this.cropper),d=f&&Object.keys(f).length?function(e){var t=0,n=0,r=0;return H(e,(function(e){var o=e.startX,i=e.startY;t+=o,n+=i,r+=1})),{pageX:t/=r,pageY:n/=r}}(f):{pageX:n.pageX,pageY:n.pageY};o.left-=(l-i)*((d.pageX-p.left-o.left)/i),o.top-=(u-a)*((d.pageY-p.top-o.top)/a)}else L(t)&&D(t.x)&&D(t.y)?(o.left-=(l-i)*((t.x-o.left)/i),o.top-=(u-a)*((t.y-o.top)/a)):(o.left-=(l-i)/2,o.top-=(u-a)/2);o.width=l,o.height=u,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return D(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,D(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(D(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.imageData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(D(e)&&(n.scaleX=e,r=!0),D(t)&&(n.scaleY=t,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,r=this.imageData,o=this.canvasData,i=this.cropBoxData;if(this.ready&&this.cropped){e={x:i.left-o.left,y:i.top-o.top,width:i.width,height:i.height};var a=r.width/r.naturalWidth;if(H(e,(function(t,n){e[n]=t/a})),t){var c=Math.round(e.y+e.height),s=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=s-e.x,e.height=c-e.y}}else e={x:0,y:0,width:0,height:0};return n.rotatable&&(e.rotate=r.rotate||0),n.scalable&&(e.scaleX=r.scaleX||1,e.scaleY=r.scaleY||1),e},setData:function(e){var t=this.options,n=this.imageData,r=this.canvasData,o={};if(this.ready&&!this.disabled&&L(e)){var i=!1;t.rotatable&&D(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,i=!0),t.scalable&&(D(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,i=!0),D(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,i=!0)),i&&this.renderCanvas(!0,!0);var a=n.width/n.naturalWidth;D(e.x)&&(o.left=e.x*a+r.left),D(e.y)&&(o.top=e.y*a+r.top),D(e.width)&&(o.width=e.width*a),D(e.height)&&(o.height=e.height*a),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?U({},this.containerData):{}},getImageData:function(){return this.sized?U({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&H(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){t[n]=e[n]})),t},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return this.ready&&!this.disabled&&L(e)&&(D(e.left)&&(t.left=e.left),D(e.top)&&(t.top=e.top),D(e.width)?(t.width=e.width,t.height=e.width/n):D(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,n,r=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&L(e)&&(D(e.left)&&(r.left=e.left),D(e.top)&&(r.top=e.top),D(e.width)&&e.width!==r.width&&(t=!0,r.width=e.width),D(e.height)&&e.height!==r.height&&(n=!0,r.height=e.height),o&&(t?r.height=r.width/o:n&&(r.width=r.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,n=he(this.image,this.imageData,t,e);if(!this.cropped)return n;var r=this.getData(),o=r.x,i=r.y,c=r.width,s=r.height,l=n.width/Math.floor(t.naturalWidth);1!==l&&(o*=l,i*=l,c*=l,s*=l);var u=c/s,f=de({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),p=de({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),d=de({aspectRatio:u,width:e.width||(1!==l?n.width:c),height:e.height||(1!==l?n.height:s)}),h=d.width,m=d.height;h=Math.min(f.width,Math.max(p.width,h)),m=Math.min(f.height,Math.max(p.height,m));var g=document.createElement("canvas"),v=g.getContext("2d");g.width=V(h),g.height=V(m),v.fillStyle=e.fillColor||"transparent",v.fillRect(0,0,h,m);var b=e.imageSmoothingEnabled,y=void 0===b||b,w=e.imageSmoothingQuality;v.imageSmoothingEnabled=y,w&&(v.imageSmoothingQuality=w);var x,O,S,C,k,_,E=n.width,P=n.height,j=o,R=i;j<=-c||j>E?(j=0,x=0,S=0,k=0):j<=0?(S=-j,j=0,k=x=Math.min(E,c+j)):j<=E&&(S=0,k=x=Math.min(c,E-j)),x<=0||R<=-s||R>P?(R=0,O=0,C=0,_=0):R<=0?(C=-R,R=0,_=O=Math.min(P,s+R)):R<=P&&(C=0,_=O=Math.min(s,P-R));var M=[j,R,x,O];if(k>0&&_>0){var A=h/c;M.push(S*A,C*A,k*A,_*A)}return v.drawImage.apply(v,[n].concat(a(M.map((function(e){return Math.floor(V(e))}))))),g},setAspectRatio:function(e){var t=this.options;return this.disabled||T(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,n=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var o="crop"===e,i=t.movable&&"move"===e;e=o||i?e:"none",t.dragMode=e,ee(n,y,e),K(n,p,o),K(n,b,i),t.cropBoxMovable||(ee(r,y,e),K(r,p,o),K(r,b,i))}return this}},Ce=l.Cropper,ke=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,e),!n||!R.test(n.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=n,this.options=U({},M,L(r)&&r),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var r,o,i;return r=e,i=[{key:"noConflict",value:function(){return window.Cropper=Ce,e}},{key:"setDefaults",value:function(e){U(M,L(e)&&e)}}],(o=[{key:"init",value:function(){var e,t=this.element,n=t.tagName.toLowerCase();if(!t.cropper){if(t.cropper=this,"img"===n){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var n=this.element,r=this.options;if(r.rotatable||r.scalable||(r.checkOrientation=!1),r.checkOrientation&&window.ArrayBuffer)if(P.test(e))j.test(e)?this.read((o=e.replace(ge,""),i=atob(o),a=new ArrayBuffer(i.length),H(c=new Uint8Array(a),(function(e,t){c[t]=i.charCodeAt(t)})),a)):this.clone();else{var o,i,a,c,s=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=l,s.onerror=l,s.ontimeout=l,s.onprogress=function(){"image/jpeg"!==s.getResponseHeader("content-type")&&s.abort()},s.onload=function(){t.read(s.response)},s.onloadend=function(){t.reloading=!1,t.xhr=null},r.checkCrossOrigin&&le(e)&&n.crossOrigin&&(e=ue(e)),s.open("GET",e),s.responseType="arraybuffer",s.withCredentials="use-credentials"===n.crossOrigin,s.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,n=this.imageData,r=ve(e),o=0,i=1,a=1;if(r>1){this.url=function(e,t){for(var n=[],r=new Uint8Array(e);r.length>0;)n.push(me.apply(null,N(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}(e,"image/jpeg");var c=function(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:r}}(r);o=c.rotate,i=c.scaleX,a=c.scaleY}t.rotatable&&(n.rotate=o),t.scalable&&(n.scaleX=i,n.scaleY=a),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,n=e.crossOrigin,r=t;this.options.checkCrossOrigin&&le(t)&&(n||(n="anonymous"),r=ue(t)),this.crossOrigin=n,this.crossOriginUrl=r;var o=document.createElement("img");n&&(o.crossOrigin=n),o.src=r||t,o.alt=e.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),Z(o,m),e.parentNode.insertBefore(o,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var n=l.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(l.navigator.userAgent),r=function(t,n){U(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.initialImageData=U({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||n){var o=document.createElement("img"),i=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){r(o.width,o.height),n||i.removeChild(o)},o.src=t.src,n||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(o))}else r(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,n=this.image,r=e.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var i=o.querySelector(".".concat("cropper","-container")),a=i.querySelector(".".concat("cropper","-canvas")),c=i.querySelector(".".concat("cropper","-drag-box")),s=i.querySelector(".".concat("cropper","-crop-box")),l=s.querySelector(".".concat("cropper","-face"));this.container=r,this.cropper=i,this.canvas=a,this.dragBox=c,this.cropBox=s,this.viewBox=i.querySelector(".".concat("cropper","-view-box")),this.face=l,a.appendChild(n),Z(e,h),r.insertBefore(i,e.nextSibling),this.isImg||q(n,m),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,Z(s,h),t.guides||Z(s.getElementsByClassName("".concat("cropper","-dashed")),h),t.center||Z(s.getElementsByClassName("".concat("cropper","-center")),h),t.background&&Z(i,"".concat("cropper","-bg")),t.highlight||Z(l,g),t.cropBoxMovable&&(Z(l,b),ee(l,y,"all")),t.cropBoxResizable||(Z(s.getElementsByClassName("".concat("cropper","-line")),h),Z(s.getElementsByClassName("".concat("cropper","-point")),h)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),F(t.ready)&&oe(e,"ready",t.ready,{once:!0}),ie(e,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),q(this.element,h))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&n(r.prototype,o),i&&n(r,i),e}();return U(ke.prototype,be,ye,we,xe,Oe,Se),ke}()},867:function(e,t,n){var r=n(868),o=n(869);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var c=0;c<16;++c)t[i+c]=a[c];return t||o(a)}},868:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},869:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},870:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=Number.prototype.mapNumber=function(e,t,n,r){return(this-e)*(r-n)/(t-e)+n};t.default=r},871:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(724),a=n(738),c=n(707);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e){var t=e.original,n=e.focusPoint,r=e.updateState,s=e.src,u=l((0,o.useState)(!1),2),f=u[0],p=u[1],d=(0,o.useRef)(null),h=d.current?d.current.getBoundingClientRect():{},m=(0,o.useCallback)((function(){var e=(0,c.getInnerBoxSize)((document.getElementById("preview-img-box")||{}).parentElement,t),n=e.width,r=void 0===n?0:n,o=e.height;return{width:r,height:void 0===o?0:o}}),[t]),g=l((0,o.useState)(m()),2),v=g[0],b=g[1],y=(0,o.useMemo)((function(){return(0,i.debounce)(100,(function(){b(m())}))}),[m]);return(0,o.useEffect)((function(){var e=!0,t=function(){e&&y()};return window.addEventListener("resize",t),function(){e=!1,window.removeEventListener("resize",t)}}),[y]),o.default.createElement(a.FocusPointWrap,{ref:d,width:v.width,height:v.height},o.default.createElement(a.FocusPointContainer,{onMouseDown:function(e){var n=e.clientX-h.x,o=e.clientY-h.y,i=Math.round(n*t.width/v.width),a=Math.round(o*t.height/v.height),c=Math.min(Math.max(i,0),t.width),s=Math.min(Math.max(a,0),t.height);r({focusPoint:{x:c,y:s}})}},o.default.createElement(a.FocusPointImg,{visible:f,src:s,onLoad:function(){r({isShowSpinner:!1}),p(!0)},onError:function(){r({isShowSpinner:!1})}}),o.default.createElement(a.FocusPoint,{visible:f,x:n.x*v.width/t.width,y:n.y*v.height/t.height})))};t.default=f},872:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(694),i=n(702);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(741);var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(f,e);var t,n,a,c=v(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),x(y(t=c.call(this,e)),"_canvas",void 0),x(y(t),"_context",void 0),x(y(t),"_initArgs",{hidden:!1}),x(y(t),"_allowedTabs",["shapes","image","text","watermark"]),x(y(t),"prepareFinalCanvas",(function(e){var n=e.width,r=e.height,o=t.props.shapes,a=document.createElement("canvas");a.width=n,a.height=r,t._canvas.parentNode.insertBefore(a,t._canvas);var c=t._canvas;return t._canvas=a,t._context=a.getContext("2d"),o.map((function(e){e.x=e.x.mapNumber(0,c.width,0,n),e.y=e.y.mapNumber(0,c.height,0,r),e.variant!==i.SHAPES_VARIANTS.TEXT?(e.width=e.width.mapNumber(0,c.width,0,n),e.height=e.height.mapNumber(0,c.height,0,r)):e.textSize=parseInt(e.textSize).mapNumber(0,c.width,0,n),t.drawShapeThroughVariant(e)})),t._canvas})),x(y(t),"updateState",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=t.props.updateState;r(e,n)})),x(y(t),"pushShapeToShapes",(function(e,n){var r=t.props.shapes,o=r.length;return t.updateState(h({shapes:[].concat(u(r),[h(h({},e),{},{index:o})])},n)),o})),x(y(t),"targettedShape",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e||0===e?t.props.shapes[e]:t.props.selectedShape})),x(y(t),"onSelect",(function(e){var n=t.props,r=n.shapes,o=n.activeTab;if(t._allowedTabs.includes(o)){var i=e.offsetX,a=e.offsetY,c=!1;r.forEach((function(e){!e.hidden&&i>=e.x&&i<=e.x+e.width&&a>=e.y&&a<=e.y+e.height&&e.tab===o&&(c=!0,t.updateState({selectedShape:h(h({},e),{},{resizingBox:!0,startEdgeOffset:{x:i-e.x,y:a-e.y}})}),t.activateResizingActions(),t._canvas.addEventListener("keyup",t.activateShapeDeleting),t._canvas.addEventListener("mousemove",t.startDragging),t._canvas.addEventListener("touchmove",t.startDragging),document.addEventListener("mouseup",t.endDragging),document.addEventListener("touchend",t.endDragging))})),c||(t.updateState({selectedShape:{}}),t.disableResizingActions(),t._canvas.removeEventListener("keyup",t.activateShapeDeleting),t._canvas.removeEventListener("mousemove",t.startDragging),t._canvas.removeEventListener("touchmove",t.startDragging),document.removeEventListener("mouseup",t.endDragging),document.removeEventListener("touchend",t.endDragging))}})),x(y(t),"activateShapeDeleting",(function(e){var n=e.key,r=t.props.selectedShape;"Delete"!==n&&"Backspace"!==n||!r||(t.deleteShapeByKeyOrIndex({index:r.index}),t.updateState({selectedShape:{}}),t.disableResizingActions(),t._canvas.removeEventListener("keyup",t.activateShapeDeleting))})),x(y(t),"activateResizingActions",(function(){t.props.selectedShape.lockScaleToPercentage||Array.from(document.getElementsByClassName("shape-resizing-control")).forEach((function(e){e.addEventListener("mousedown",t.trackShapeResize)}))})),x(y(t),"trackShapeResize",(function(e){var n=e.target;t.setState({resizeControlTarget:n}),document.addEventListener("mousemove",t.handleShapeResizing),document.addEventListener("touchmove",t.handleShapeResizing),document.addEventListener("mouseup",t.disableResizingActions),document.addEventListener("touchend",t.disableResizingActions)})),x(y(t),"handleShapeResizing",(function(e){var n=e.movementX,r=e.movementY,o=e.shiftKey,a=t.state.resizeControlTarget,c=t.props.selectedShape,s=c.index,l=c.width,u=c.height,f=c.x,p=c.y,d=c.variant;if(a&&d!==i.SHAPES_VARIANTS.TEXT){var m=u,g=function(e){var t=l/u;if(Math.abs(n)>=Math.abs(r)){var o=Math.abs(u-(l+n)/t);r=(e?1:-1)*Math.sign(n)*o}else{var i=Math.abs(l-(u+r)*t);n=(e?1:-1)*Math.sign(r)*i}},v=function(){l+=n},b=function(){u+=r},y=function(){l-=n,f+=n},w=function(){u-=r,p+=r};switch(a.dataset.direction){case"e":v();break;case"w":y();break;case"n":w();break;case"s":b();break;case"ne":o&&g(!1),w(),v();break;case"nw":o&&g(!0),w(),y();break;case"se":o&&g(!0),b(),v();break;case"sw":o&&g(!1),b(),y();break;default:return}d!==i.SHAPES_VARIANTS.SQUARE&&d!==i.SHAPES_VARIANTS.CIRCLE||(u!==m?l=u:u=l);if(!(u<=15||l<=15)){f<0&&(f=0),p<0&&(p=0),f+l>t._canvas.width&&(f=t._canvas.width-l),p+u>t._canvas.height&&(p=t._canvas.height-u),l>t._canvas.width&&(l=t._canvas.width),u>t._canvas.height&&(u=t._canvas.height);var x={width:l,height:u,x:f,y:p};t.updateShape(x,s,{selectedShape:h(h({},c),x)})}}})),x(y(t),"disableResizingActions",(function(e){document.removeEventListener("mousemove",t.handleShapeResizing),document.removeEventListener("mouseup",t.disableResizingActions),t.updateState({selectedShape:{}}),t.setState({resizeControlTarget:null})})),x(y(t),"removeResizingBox",(function(e){var n=e.offsetX,r=e.offsetY,o=t.props.selectedShape;(n<o.x||n>o.x+o.width||r<o.y||r>o.y+o.height)&&(t.updateState({selectedShape:h(h({},o),{},{resizingBox:!1})}),t._canvas.removeEventListener("click",t.removeResizingBox))})),x(y(t),"startDragging",(function(e){if(e.targetTouches&&e.targetTouches[0]){e.preventDefault();var n=e.targetTouches[0],r=n.clientX,o=n.clientY,i=t._canvas.getBoundingClientRect(),a=i.x,c=i.y;e.offsetX=r-a,e.offsetY=o-c}var s=t.props.selectedShape,l=s.startEdgeOffset,u=void 0===l?{}:l,f=s.width,p=s.height,d=s.index,m=e.offsetX-u.x,g=e.offsetY-u.y;m<0&&(m=0),g<0&&(g=0),m+f>t._canvas.width&&(m=t._canvas.width-f),g+p>t._canvas.height&&(g=t._canvas.height-p);var v=h(h({},s),{},{x:m,y:g});t.updateShape(v,d,{selectedShape:v})})),x(y(t),"endDragging",(function(){t._canvas.removeEventListener("mousemove",t.startDragging),t._canvas.removeEventListener("mouseup",t.endDragging),t._canvas.removeEventListener("mouseleave",t.endDragging),t._canvas.addEventListener("click",t.removeResizingBox)})),x(y(t),"getCanvasCenter",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t._canvas.width/2-e,o=t._canvas.height/2-n;return[r,o]})),x(y(t),"draw",(function(e,n){var r=n.opacity,o=void 0===r?1:r,i=n.hidden,a=n.color,c=n.stroke,s=void 0===c?{}:c;i||(t._context.globalAlpha=+o,t._context.fillStyle=a,t._context.strokeStyle=s.color||"transparent",t._context.lineWidth=s.width||1,e(),t.props.round&&t._context.round())})),x(y(t),"redrawShape",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=t.props.shapes;t.clearShape(0,0,t._canvas.width,t._canvas.height);var r=n.length;if(e&&e!==r-1){var o=h(h({},n.splice(e,1)[0]),{},{index:r});n.splice(r,0,o),n=n.map((function(e,n){return e.index=n,t.drawShapeThroughVariant(e),e})),t.updateState({shapes:n,selectedShape:o})}else n.forEach((function(e){return t.drawShapeThroughVariant(e)}))})),x(y(t),"drawShapeThroughVariant",(function(e){switch(e.variant){case i.SHAPES_VARIANTS.IMAGE:t.drawImage(e);break;case i.SHAPES_VARIANTS.RECT:case i.SHAPES_VARIANTS.SQUARE:t.drawRect(e);break;case i.SHAPES_VARIANTS.CIRCLE:t.drawCircle(e);break;case i.SHAPES_VARIANTS.TEXT:t.drawText(e);default:return}})),x(y(t),"drawRect",(function(e){var n=e.x,r=e.y,o=e.width,i=e.height,a=e.stroke,c=l(e,["x","y","width","height","stroke"]);t.draw((function(){t._context.fillRect(n,r,o,i),a&&t._context.strokeRect(n,r,o,i)}),h({stroke:a},c))})),x(y(t),"drawCircle",(function(e){var n=e.x,r=e.y,o=(e.radius,e.width),i=e.height,a=e.stroke,c=l(e,["x","y","radius","width","height","stroke"]);t.draw((function(){t._context.roundRect(n,r,o,i),t._context.fill(),a&&t._context.stroke()}),h({stroke:a},c))})),x(y(t),"drawImage",(function(e){var n=e.img,r=e.x,o=e.y,i=e.width,a=e.height,c=e.stroke,s=l(e,["img","x","y","width","height","stroke"]);t.draw((function(){t._context.drawImage(n,r,o,i,a),c&&t._context.strokeRect(r,o,i,a)}),h({stroke:c},s))})),x(y(t),"setTextStyle",(function(e){var n=e.textSize,r=e.textFont;t._context.textAlign="start",t._context.textBaseline="top",t._context.font="".concat(n,"px ").concat(r)})),x(y(t),"getTextWidthAndHeight",(function(e){var n=e.text,r=e.textSize,o=e.textFont;t.setTextStyle({textSize:r,textFont:o});var i=t._context.measureText(n),a=i.width;return[a,0===a?0:i.actualBoundingBoxDescent-i.actualBoundingBoxAscent]})),x(y(t),"drawText",(function(e){var n=e.text,r=e.textSize,o=e.textFont,i=e.x,a=e.y,c=e.stroke,s=l(e,["text","textSize","textFont","x","y","stroke"]);t.draw((function(){t.setTextStyle({textSize:r,textFont:o}),t._context.fillText(n,i,a,t._canvas.width),c&&t._context.strokeText(n,i,a)}),h({stroke:c},s))})),x(y(t),"addRect",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.x,r=e.y,o=e.width,a=void 0===o?100:o,c=e.height,u=void 0===c?75:c,f=e.stroke,p=void 0===f?{}:f,d=e.color,m=void 0===d?"#000000":d,g=e.opacity,v=void 0===g?1:g,b=e.variant,y=void 0===b?i.SHAPES_VARIANTS.RECT:b,w=e.tab,x=void 0===w?"shapes":w,O=l(e,["x","y","width","height","stroke","color","opacity","variant","tab"]),S=t.getCanvasCenter(a/2,u/2),C=s(S,2),k=C[0],_=C[1],E={x:n||k,y:r||_,width:a,height:u,stroke:p,opacity:v,color:m},P=h(h(h(h({},t._initArgs),O),E),{},{variant:y,tab:x});if(!O.key||!t.replaceShapeIfExisted(O.key,P)){t.drawRect(E);var j=t.pushShapeToShapes(P);t.updateState({selectedShape:h(h({},P),{},{index:j,resizingBox:!0})},t.activateResizingActions)}})),x(y(t),"addSquare",(function(e){e.width||(e.width=e.height=75),e.variant=i.SHAPES_VARIANTS.SQUARE,t.addRect(e)})),x(y(t),"addCircle",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.x,r=e.y,o=e.radius,a=void 0===o?50:o,c=e.stroke,u=void 0===c?{}:c,f=e.color,p=void 0===f?"#000000":f,d=e.opacity,m=void 0===d?1:d,g=e.tab,v=void 0===g?"shapes":g,b=l(e,["x","y","radius","stroke","color","opacity","tab"]),y=t.getCanvasCenter(a,a),w=s(y,2),x=w[0],O=w[1],S=2*a,C={x:n||x,y:r||O,radius:a,color:p,opacity:m,stroke:u,width:S,height:S},k=h(h(h(h({},t._initArgs),b),C),{},{tab:v,variant:i.SHAPES_VARIANTS.CIRCLE});if(!b.key||!t.replaceShapeIfExisted(b.key,k)){t.drawCircle(C);var _=t.pushShapeToShapes(k);t.updateState({selectedShape:h(h({},k),{},{index:_,resizingBox:!0})},t.activateResizingActions)}})),x(y(t),"addImage",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.img,r=e.x,o=void 0===r?void 0:r,a=e.y,c=void 0===a?void 0:a,u=e.opacity,f=void 0===u?1:u,p=e.tab,d=void 0===p?"image":p,m=e.stroke,g=void 0===m?{}:m,v=e.otherStates,b=l(e,["img","x","y","opacity","tab","stroke","otherStates"]);if(n){var y=function(){var e=s(t.getSuitableImgDiemensions(n,b.lockScaleToPercentage),2),r=e[0],a=e[1],l=s(t.getCanvasCenter(r/2,a/2),2),u=l[0],p=l[1],m={img:n,opacity:f,width:r,height:a,originalWidth:r,originalHeight:a,x:o||u,y:c||p,stroke:g},y=h(h(h(h({},t._initArgs),b),m),{},{variant:i.SHAPES_VARIANTS.IMAGE,tab:d});if(!b.key||!t.replaceShapeIfExisted(b.key,y,v)){t.drawImage(m);var w=t.pushShapeToShapes(y);t.updateState(h({selectedShape:h(h({},y),{},{index:w,resizingBox:!0})},v),t.activateResizingActions)}};"string"==typeof n?n=t.makeImgElement(n,y):y()}})),x(y(t),"addText",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.text,r=void 0===n?"Text":n,o=e.textSize,a=void 0===o?62:o,c=e.color,u=void 0===c?"#000000":c,f=e.textFont,p=void 0===f?"Arial":f,d=e.x,m=void 0===d?void 0:d,g=e.y,v=void 0===g?void 0:g,b=e.stroke,y=void 0===b?{}:b,w=e.opacity,x=void 0===w?1:w,O=e.tab,S=void 0===O?"text":O,C=e.otherStates,k=l(e,["text","textSize","color","textFont","x","y","stroke","opacity","tab","otherStates"]),_=t.getTextWidthAndHeight({text:r,textSize:a,textFont:p}),E=s(_,2),P=E[0],j=E[1],R=t.getCanvasCenter(P/2,j/2),M=s(R,2),A=M[0],D=M[1];if(r){var I={text:r,textSize:a,textFont:p,x:m||A,y:v||D,opacity:x,stroke:y,color:u},T=h(h(h(h({},t._initArgs),k),I),{},{width:P,height:j,variant:i.SHAPES_VARIANTS.TEXT,tab:S});if(k.key&&t.replaceShapeIfExisted(k.key,T,C))return;t.drawText(I);var B=t.pushShapeToShapes(T);t.updateState(h({selectedShape:h(h({},T),{},{index:B,resizingBox:!0})},C),t.activateResizingActions)}})),x(y(t),"addAnyShape",(function(e,n){if(e.index||0===e.index){var r=t.props.shapes[e.index];if(!e.variant||r.variant===e.variant)return void t.updateShape(e,e.index,n)}var o=h(h({},e),{},{otherStates:n});switch(e.variant){case i.SHAPES_VARIANTS.IMAGE:t.addImage(o);break;case i.SHAPES_VARIANTS.RECT:t.addRect(o);break;case i.SHAPES_VARIANTS.SQUARE:t.addSquare(o);break;case i.SHAPES_VARIANTS.CIRCLE:t.addCircle(o);break;case i.SHAPES_VARIANTS.TEXT:t.addText(o);default:return}})),x(y(t),"getSuitableImgDiemensions",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.width,o=e.height;if(o>t._canvas.height){var i=o/t._canvas.height;o/=i,r/=i}if(r>t._canvas.width){var a=r/t._canvas.width;o/=a,r/=a}if(n){var c=n/100;r*=c,o*=c}return[r=t.fromLatestCanvasSizeValue(r,"width"),o=t.fromLatestCanvasSizeValue(o,"height")]})),x(y(t),"getShapeByKeyOrIndex",(function(e){var n=e.key,r=e.index;if(!n&&!r&&0!==n&&0!==r)return!1;var o=t.props.shapes;return r?o[r]:o.filter((function(e){return e.key===n}))[0]})),x(y(t),"replaceShapeIfExisted",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=t.getShapeByKeyOrIndex({key:e});return!!o&&(n=h(h({},n),{},{x:o.x,y:o.y,width:o.width,height:o.height}),t.updateShape(n,o.index,r),!0)})),x(y(t),"setShapeVisibilityByKeyOrIndex",(function(e){var n=e.key,r=e.index,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=t.getShapeByKeyOrIndex({key:n,index:r});i&&i.hidden!==o&&t.updateShape({hidden:o||!i.hidden},i.index)})),x(y(t),"getShapesIndexByAnyProp",(function(e,n){var r=t.props.shapes;if(r&&0===r.length)return[];var o=[];return r.filter((function(t,r){var i=t[e];return(i===n||void 0===i&&Boolean(i)===n)&&(o.push(r),!0)})),o})),x(y(t),"updateShapes",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=t.props.shapes;o=o.map((function(t){return h(h({},t),e)})),t.updateState(h({shapes:o},n),r)})),x(y(t),"replaceAllShapes",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};t.updateState({shapes:e},(function(){t.redrawShape(),n()}))})),x(y(t),"updateShape",(function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=t.props,i=o.shapes,a=o.selectedShape;if(e&&(n||0===n||a&&(a.index||0===a.index))){if("string"==typeof e.img)return t.updateState({selectedShape:h(h({},a),{},{lockScaleToPercentage:e.lockScaleToPercentage,img:e.img})}),void t.makeImgElement(e.img,t.updateShape,e,n,r);var c={};if(n||0===n||(c.selectedShape=h(h({},a),e)),i[n=n||0===n?n:a.index]){var l=i;if(e.textSize&&e.textSize!==i[n].textSize||e.text&&e.text!==i[n].text){var u=i[n],f=t.getTextWidthAndHeight(h(h({},u),e)),p=s(f,2),d=p[0],m=p[1];c.selectedShape?(e.width=c.selectedShape.width=d,e.height=c.selectedShape.height=m,e.text=c.selectedShape.text=e.text||u.text):(e.width=d,e.height=m,e.text=e.text||u.text)}else e.width&&e.height&&(c.selectedShape=h(h({},a),{},{width:e.width,height:e.height,lockScaleToPercentage:e.lockScaleToPercentage}));l[n]=h(h({},l[n]),e),t.updateState(h(h({shapes:l},c),r),(function(){t.redrawShape(n)}))}}})),x(y(t),"clearShape",(function(e,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=i.width,c=a||1,s=e-c,l=n-c,u=r+c,f=o+c;t._context.clearRect(s,l,u,f)})),x(y(t),"eraseAndRemoveShapeFromArray",(function(e,n){if(0!==Object.keys(t.targettedShape(e)).length)return t.clearShape(0,0,t._canvas.width,t._canvas.height),n.filter((function(n){return n.index!==e&&(n.index>e&&(n.index-=1),t.drawShapeThroughVariant(n),n)}))})),x(y(t),"deleteShapeByKeyOrIndex",(function(e){var n=e.index,r=e.key,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.props.selectedShape;if(!n&&0!==n&&!r){if(!i)return;n=i.index}var a=t.props.shapes,c=n||0===n?n:(t.getShapeByKeyOrIndex({key:r})||{}).index;(c||0===c)&&(c===i.index&&(o.selectedShape={}),t.updateState(h({shapes:t.eraseAndRemoveShapeFromArray(c,a)},o)))})),x(y(t),"deleteShapes",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=t.props.shapes;e.forEach((function(e){r=t.eraseAndRemoveShapeFromArray(e,r)})),t.updateState(h({shapes:r},n))})),x(y(t),"deleteAllShapesOrByTypeOrIndicies",(function(e){var n=e.type,r=e.all,o=void 0!==r&&r,a=e.applied,c=void 0!==a&&a,s=e.secured,l=void 0===s?[]:s;if(n||o){if(o){var f=(t.getShapeByKeyOrIndex({key:i.WATERMARK_UNIQUE_KEY})||{}).index,p=u(l);!f&&0!==f||p.includes(f)||p.push(f);var d=[];return t.clearShape(0,0,t._canvas.width,t._canvas.height),c||(d=t.props.shapes.filter((function(e){return!(!e.applied&&!p.includes(e.index))&&(t.drawShapeThroughVariant(e),e)}))),void t.updateState({shapes:d,selectedShape:{}})}var h=t.getShapesIndexByAnyProp("type",n);h.length>0&&t.deleteShapes(h)}})),x(y(t),"makeImgElement",(function(e,n,r){for(var o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];if(!e)return"";t.updateState({isShowSpinner:!0});var c=new Image;return c.crossOrigin="Anonymous",c.src="".concat(e,"?v=").concat(Math.random()),c.onload=function(){if(r){var e=s(t.getSuitableImgDiemensions(c,r.lockScaleToPercentage),2),o=e[0],a=e[1];r.width=r.originalWidth=o,r.height=r.originalHeight=a,n.apply(void 0,[r].concat(i))}else n.apply(void 0,i);t.updateState({isShowSpinner:!1})},c.onerror=function(){t.updateState({isShowSpinner:!1}),console.error("Error loading the image...")},r&&(r.img=c),c})),x(y(t),"fromLatestCanvasSizeValue",(function(e,n){return t._canvas&&t.state.latestCanvasSize?e.mapNumber(0,t.state.latestCanvasSize[n],0,t._canvas[n]):e})),t.canvasRef=(0,r.createRef)(),t.shapeResizingBoxRef=(0,r.createRef)(),t.state={resizeControlTarget:null,latestCanvasSize:null},t}return t=f,a=[{key:"getDerivedStateFromProps",value:function(e,t){return h(h({},t),{},{latestCanvasSize:e.latestCanvasSize||{width:0,height:0}})}}],(n=[{key:"componentDidMount",value:function(){var e=this;if(this.canvasRef&&this.canvasRef.current&&!this._canvas){this._canvas=this.canvasRef.current,this._canvas.addEventListener("mousedown",this.onSelect),this._context=this._canvas.getContext("2d");var t="1px solid ".concat("light"===this.props.colorScheme?"#000":"#fff"),n=[{label:"Rectangle",variant:i.SHAPES_VARIANTS.RECT,iconStyles:{height:50,width:100,border:t},drawFn:this.addRect},{label:"Square",variant:i.SHAPES_VARIANTS.SQUARE,iconStyles:{border:t},drawFn:function(t){return e.addSquare(h({width:75,height:75},t))}},{label:"Circle",variant:i.SHAPES_VARIANTS.CIRCLE,iconStyles:{border:t,borderRadius:"50%"},drawFn:this.addCircle}];this.props.updateState({shapeOperations:{addImage:this.addImage,addRect:this.addRect,addCircle:this.addCircle,addText:this.addText,addOrUpdate:this.addAnyShape,updateShape:this.updateShape,updateShapes:this.updateShapes,replaceAllShapes:this.replaceAllShapes,deleteShape:this.deleteShapeByKeyOrIndex,deleteShapes:this.deleteAllShapesOrByTypeOrIndicies,setShapeVisibility:this.setShapeVisibilityByKeyOrIndex,getShape:this.getShapeByKeyOrIndex,getShapesIndicies:this.getShapesIndexByAnyProp,prepareFinalCanvas:this.prepareFinalCanvas},availableShapes:n})}}},{key:"componentWillUnmount",value:function(){this._canvas.removeEventListener("mousedown",this.onSelect)}},{key:"componentDidUpdate",value:function(e){e.width===this.props.width&&e.height===this.props.height||this.redrawShape()}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,a=e.selectedShape,c=a.width,s=void 0===c?0:c,l=a.height,u=void 0===l?0:l,f=a.x,p=void 0===f?0:f,d=a.y,h=void 0===d?0:d,m=a.resizingBox,g=void 0!==m&&m,v=a.lockScaleToPercentage,b=void 0===v?0:v,y=e.wrapperId,w=(this._canvas?this._canvas.offsetLeft:0)+p,x=(this._canvas?this._canvas.offsetTop:0)+h,O={pointerEvents:"all"};return r.default.createElement(r.default.Fragment,null,r.default.createElement(o.PreviewCanvas,{ref:this.canvasRef,id:"".concat(y,"_").concat(i.PREVIEW_CANVAS_ID),width:n,height:t,tabIndex:1}),r.default.createElement("div",{ref:this.shapeResizingBoxRef,className:"cropper-crop-box",style:{display:g&&!b?"block":"none",width:s,height:u,left:w,top:x,pointerEvents:"none"}},["e","n","w","s"].map((function(e){return r.default.createElement("span",{key:e,className:"cropper-line line-".concat(e," shape-resizing-control"),"data-direction":e,style:O})})),["e","n","w","s","ne","nw","sw","se"].map((function(e){return r.default.createElement("span",{key:e,className:"cropper-point point-".concat(e," shape-resizing-control"),"data-direction":e,style:O})}))))}}])&&m(t.prototype,n),a&&m(t,a),f}(r.Component);t.default=O},873:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(694);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,n,i,a=p(c);function c(){var e;l(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=a.call.apply(a,[this].concat(n))),"state",{isBlockRatio:!1}),g(h(e),"changeWidth",(function(t){var n=e.state.isBlockRatio,r=e.props.canvasDimensions,o=t.target.value,i=r.height;n||(i=o&&o/r.ratio||1),e.props.updateState({canvasDimensions:s(s({},r),{},{width:o,height:i})})})),g(h(e),"changeHeight",(function(t){var n=e.state.isBlockRatio,r=e.props.canvasDimensions,o=t.target.value,i=r.width;n||(i=o&&o*r.ratio||1),e.props.updateState({canvasDimensions:s(s({},r),{},{width:i,height:o})})})),g(h(e),"toggleRatio",(function(){e.setState({isBlockRatio:!e.state.isBlockRatio})})),e}return t=c,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.operations,n=e.processWithCloudService,r=e.updateState,o=e.forceApplyOperations,i=t.findIndex((function(e){return"resize"===e.stack[0].name}));i>-1&&n&&(t.splice(i,1),r({operations:t}),o(t,"resize"))}},{key:"render",value:function(){var e=this,t=this.state.isBlockRatio,n=this.props,i=n.canvasDimensions,a=n.processWithCloudService,c=n.onPreResize,s=n.t;return r.default.createElement(o.PreResizeBox,{id:"preview-img-box"},r.default.createElement(o.PreResizeWarning,null,s["warning.too_big_resolution"]),r.default.createElement(o.PreResizeInner,null,r.default.createElement("h4",null,s["pre_resize.title"]),r.default.createElement(o.ResizeWrapper,null,r.default.createElement(o.ResizeBox,null,r.default.createElement(o.FieldSet,null,r.default.createElement(o.FieldLabel,null,s["common.width"]),r.default.createElement(o.FieldInput,{fullSize:!0,value:parseInt(i.width,10)||"",onChange:this.changeWidth})),r.default.createElement(o.BlockRatioWrapper,null,r.default.createElement(o.BlockRatioBtn,{active:!t,style:a?{cursor:"not-allowed"}:{},link:!0,onClick:function(){!a&&e.toggleRatio()}},r.default.createElement(o.BlockRatioIcon,{active:!t,style:a?{cursor:"not-allowed"}:{}}))),r.default.createElement(o.FieldSet,null,r.default.createElement(o.FieldLabel,null,s["common.height"]),r.default.createElement(o.FieldInput,{fullSize:!0,value:parseInt(i.height,10)||"",onChange:this.changeHeight})))),r.default.createElement(o.PreResizeActions,null,r.default.createElement("p",null,r.default.createElement(o.Button,{themeColor:!0,themeBtn:!0,onClick:function(){c("keep")}},s["pre_resize.keep_original_resolution"])),r.default.createElement("p",null,r.default.createElement(o.Button,{themeColor:!0,success:!0,onClick:function(){c("resize")}},s["pre_resize.resize_n_continue"])))))}}])&&u(t.prototype,n),i&&u(t,i),c}(r.Component);t.default=v},874:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==y(e)&&"function"!=typeof e)return{default:e};var t=b();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(694),i=v(n(742)),a=v(n(875)),c=v(n(877)),s=v(n(879)),l=v(n(880)),u=v(n(881)),f=v(n(882)),p=v(n(883)),d=v(n(884)),h=v(n(885)),m=v(n(886)),g=v(n(887));function v(e){return e&&e.__esModule?e:{default:e}}function b(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return b=function(){return e},e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(y,e);var t,n,v,b=C(y);function y(){return x(this,y),b.apply(this,arguments)}return t=y,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.activeTab,v=t.isShowSpinner,b=t.activeBody,y=t.config.tools;return r.default.createElement(o.Toolbar,{overlayYHidden:"watermark"!==n},!n&&y.map((function(t){return r.default.createElement(i.default,w({name:t,key:t},e.props))})),"adjust"===n&&r.default.createElement(f.default,this.props),"effects"===n&&r.default.createElement(a.default,this.props),"filters"===n&&r.default.createElement(c.default,this.props),"rotate"===n&&r.default.createElement(u.default,this.props),"crop"===n&&r.default.createElement(s.default,this.props),"resize"===n&&r.default.createElement(l.default,this.props),"watermark"===n&&r.default.createElement(p.default,this.props),"focus_point"===n&&r.default.createElement(d.default,this.props),"shapes"===n&&r.default.createElement(h.default,this.props),"image"===n&&r.default.createElement(m.default,this.props),"text"===n&&r.default.createElement(g.default,this.props),v&&r.default.createElement(o.NoClickOverlay,null),"preview"!==b&&r.default.createElement(o.NoClickToolbar,null))}}])&&O(t.prototype,n),v&&O(t,v),y}(r.Component);t.default=E},875:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(702),a=n(694),c=(r=n(876))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,e);var t,n,r,s=d(l);function l(){return u(this,l),s.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=e.onApplyEffects,n=e.effect,r=e.noCapitalStrs;return o.default.createElement(a.EffectsWrapper,null,i.EFFECTS.map((function(e){return o.default.createElement(c.default,{active:n,key:e,name:e,onApplyEffects:t,noCapitalStrs:r})})))}}])&&f(t.prototype,n),r&&f(t,r),l}(o.Component);t.default=g},876:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(694),i=n(707);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(p,e);var t,n,a,c=f(p);function p(){return s(this,p),c.apply(this,arguments)}return t=p,(n=[{key:"render",value:function(){var e=this.props,t=e.active,n=e.name,a=e.onApplyEffects,c=e.noCapitalStrs;return r.default.createElement(o.EffectWrapper,{active:t===n,onClick:a.bind(null,n)},r.default.createElement(o.EffectIcon,{src:(0,i.getIcon)(n)}),r.default.createElement(o.EffectLabel,{noCapitalStrs:c},(0,i.getLabel)(n)))}}])&&l(t.prototype,n),a&&l(t,a),p}(r.Component);t.default=h},877:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(702),a=n(694),c=(r=n(878))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,e);var t,n,r,s=d(l);function l(){return u(this,l),s.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=e.onApplyFilters,n=e.filter;return o.default.createElement(a.EffectsWrapper,null,i.FILTERS.map((function(e){return o.default.createElement(c.default,{active:n,key:e,name:e,onApplyFilters:t})})))}}])&&f(t.prototype,n),r&&f(t,r),l}(o.Component);t.default=g},878:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(694),i=n(707);function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(p,e);var t,n,a,c=f(p);function p(){return s(this,p),c.apply(this,arguments)}return t=p,(n=[{key:"render",value:function(){var e=this.props,t=e.active,n=e.name,a=e.onApplyFilters;return r.default.createElement(o.EffectWrapper,{active:t===n,onClick:a.bind(null,n)},r.default.createElement(o.EffectIcon,{src:(0,i.getIcon)(n)}),r.default.createElement(o.EffectLabel,null,(0,i.getLabel)(n)))}}])&&l(t.prototype,n),a&&l(t,a),p}(r.Component);t.default=h},879:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(694);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(f,e);var t,n,i,a=u(f);function f(){var e;c(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(p(e=a.call.apply(a,[this].concat(n))),"state",{aspectRatio:NaN,activeRatio:"custom"}),h(p(e),"changeWidth",(function(t){var n=e.props.initialZoom;window.scaleflexPlugins.cropperjs.setCropBoxData({width:+t.target.value/n/window.scaleflexPlugins.zoom})})),h(p(e),"changeHeight",(function(t){var n=e.props.initialZoom;window.scaleflexPlugins.cropperjs.setCropBoxData({height:+t.target.value/n/window.scaleflexPlugins.zoom})})),h(p(e),"toggleRatio",(function(t){t.preventDefault(),t.stopPropagation();var n=e.props.cropDetails,r=n.width,o=n.height,i=e.state.aspectRatio;i=i?NaN:r/o,window.scaleflexPlugins.cropperjs.setAspectRatio(i),window.scaleflexPlugins.cropperjs.setCropBoxData({width:r/window.scaleflexPlugins.zoom,height:o/window.scaleflexPlugins.zoom}),e.setState({aspectRatio:i})})),h(p(e),"changeRatio",(function(t){var n,r=e.state.aspectRatio,o=e.props,i=o.original,a=i.width,c=void 0===a?1:a,s=i.height,l=void 0===s?1:s,u=o.updateState;"custom"!==t.name||r?(u({roundCrop:"round"===t.name||50===t.radius}),n="original"===t.name?c/l:t.value,window.scaleflexPlugins.cropperjs.setAspectRatio(n),e.setState({activeRatio:t.name,aspectRatio:n})):e.setState({activeRatio:t.name})})),e}return t=f,(n=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.aspectRatio,i=t.activeRatio,a=this.props,c=a.cropDetails,s=a.original,l=a.initialZoom,u=a.t,f=a.config.cropPresets,p=void 0===f?[]:f;return r.default.createElement(o.CropWrapper,null,r.default.createElement(o.CropBox,{active:"custom"===i},r.default.createElement(o.FieldSet,null,r.default.createElement(o.FieldLabel,null,u["common.width"]),r.default.createElement(o.FieldInput,{dark:"custom"===i,fullSize:!0,value:Math.round(c.width*l),onChange:this.changeWidth})),r.default.createElement(o.BlockRatioWrapper,null,r.default.createElement(o.BlockRatioBtn,{active:n,link:!0,onClick:this.toggleRatio},r.default.createElement(o.BlockRatioIcon,{active:n}))),r.default.createElement(o.FieldSet,null,r.default.createElement(o.FieldLabel,null,u["common.height"]),r.default.createElement(o.FieldInput,{dark:"custom"===i,fullSize:!0,value:Math.round(c.height*l),onChange:this.changeHeight})),r.default.createElement(o.CustomLabel,null,u["common.custom"])),r.default.createElement(o.PresetsWrapper,null,p.map((function(t){return r.default.createElement(o.CropBox,{active:i===t.name,onClick:function(){e.changeRatio(t)},key:t.name},r.default.createElement(o.CropBoxInner,null,r.default.createElement(o.CropShapeWrapper,null,r.default.createElement(o.ShapeAligner,null),r.default.createElement(o.CropShape,{ratio:t.value||s.width/s.height,radius:t.radius})),r.default.createElement(o.CropLabel,null,u["common.".concat(t.name)]||t.name)))}))))}}])&&s(t.prototype,n),i&&s(t,i),f}(r.Component);t.default=m},880:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(694);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,n,i,a=p(c);function c(){var e;l(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=a.call.apply(a,[this].concat(n))),"state",{isBlockRatio:!1}),g(h(e),"changeWidth",(function(t){var n=e.state.isBlockRatio,r=e.props.canvasDimensions,o=t.target.value,i=r.height;n||(i=o&&o/r.ratio||1),e.props.updateState({canvasDimensions:s(s({},r),{},{width:o,height:i})})})),g(h(e),"changeHeight",(function(t){var n=e.state.isBlockRatio,r=e.props.canvasDimensions,o=t.target.value,i=r.width;n||(i=o&&o*r.ratio||1),e.props.updateState({canvasDimensions:s(s({},r),{},{width:i,height:o})})})),g(h(e),"applyPreset",(function(t){var n=t.width,r=t.height;e.props.updateState({canvasDimensions:{ratio:n/r,width:n,height:r}})})),g(h(e),"toggleRatio",(function(){e.setState({isBlockRatio:!e.state.isBlockRatio})})),e}return t=c,(n=[{key:"render",value:function(){var e=this,t=this.state.isBlockRatio,n=this.props,i=n.canvasDimensions,a=n.processWithCloudService,c=n.t,s=n.config.resizePresets,l=void 0===s?[]:s;return r.default.createElement(o.ResizeWrapper,null,r.default.createElement(o.ResizeBox,null,r.default.createElement(o.FieldSet,null,r.default.createElement(o.FieldLabel,null,c["common.width"]),r.default.createElement(o.FieldInput,{fullSize:!0,value:parseInt(i.width,10)||"",onChange:this.changeWidth})),r.default.createElement(o.BlockRatioWrapper,null,r.default.createElement(o.BlockRatioBtn,{active:!t,style:a?{cursor:"not-allowed"}:{},link:!0,onClick:function(){!a&&e.toggleRatio()}},r.default.createElement(o.BlockRatioIcon,{active:!t,style:a?{cursor:"not-allowed"}:{}}))),r.default.createElement(o.FieldSet,null,r.default.createElement(o.FieldLabel,null,c["common.height"]),r.default.createElement(o.FieldInput,{fullSize:!0,value:parseInt(i.height,10)||"",onChange:this.changeHeight}))),r.default.createElement(o.SuggestionsBox,null,l.filter((function(e){return Math.abs(i.width/i.height-e.ratio)<.05})).map((function(t){return r.default.createElement(o.SuggestionOption,{key:t.name,onClick:function(){e.applyPreset(t)}},r.default.createElement("div",null,t.width," x ",t.height),r.default.createElement("div",null,t.name))}))))}}])&&u(t.prototype,n),i&&u(t,i),c}(r.Component);t.default=v},881:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(694),a=(r=n(710))&&r.__esModule?r:{default:r};function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,r,c=p(s);function s(){var e;l(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=c.call.apply(c,[this].concat(n))),"leftRotate",(function(){var t=e.props,n=t.onRotate,r=t.correctionDegree,o=t.flipX,i=t.flipY;n(-90,parseInt(r),o,i)})),g(h(e),"rightRotate",(function(){var t=e.props,n=t.onRotate,r=t.correctionDegree,o=t.flipX,i=t.flipY;n(90,parseInt(r),o,i)})),g(h(e),"updateCorrectionDegree",(function(t){var n=e.props,r=n.flipX,o=n.flipY;e.setState({correctionDegree:t}),e.props.onRotate(0,parseFloat(t),r,o)})),g(h(e),"onFlip",(function(t){var n=e.props,r=n.flipX,o=n.flipY,i=n.correctionDegree,a="x"===t?!r:r,c="y"===t?!o:o;e.props.onRotate(0,i,a,c)})),e}return t=s,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.correctionDegree,r=t.t,c=t.config,s=(void 0===c?{}:c).processWithCloudService;return o.default.createElement(i.OrientationWrapper,null,o.default.createElement(i.RotateWrapper,null,o.default.createElement(i.RotateButton,null,o.default.createElement(i.ButtonGroup,null,o.default.createElement(i.DarkBtn,{onClick:this.leftRotate},o.default.createElement(i.RotateIcon,{name:"left-rotate"})," ",o.default.createElement("span",null,r["orientation.rotate_l"])),o.default.createElement(i.DarkBtn,{onClick:this.rightRotate},o.default.createElement(i.RotateIcon,{name:"right-rotate"}),o.default.createElement("span",null,r["orientation.rotate_r"])),!s&&o.default.createElement(o.default.Fragment,null,o.default.createElement(i.DarkBtn,{onClick:function(){e.onFlip("x")}},o.default.createElement(i.RotateIcon,{name:"flip-h"}),o.default.createElement("span",null,r["orientation.flip_h"])),o.default.createElement(i.DarkBtn,{onClick:function(){e.onFlip("y")}},o.default.createElement(i.RotateIcon,{name:"flip-v"}),o.default.createElement("span",null,r["orientation.flip_v"])))),!s&&o.default.createElement("div",null,o.default.createElement(a.default,{min:-30,max:30,step:.5,range:n,updateRange:this.updateCorrectionDegree}),o.default.createElement("svg",{viewBox:"-90 -5 180 10",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"},o.default.createElement("circle",{fill:"currentColor",cx:"-37.15555555555556",cy:"0",r:"0.2",opacity:"0.8"}),o.default.createElement("circle",{fill:"currentColor",cx:"-35.2",cy:"0",r:"0.2",opacity:"0.6"}),o.default.createElement("circle",{fill:"currentColor",cx:"-33.24444444444445",cy:"0",r:"0.2",opacity:"0.4"}),o.default.createElement("circle",{fill:"currentColor",cx:"-31.28888888888889",cy:"0",r:"0.2",opacity:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"-29.333333333333336",cy:"0",r:"0.5"}),o.default.createElement("text",{fill:"currentColor",x:"-31.583333333333336",y:"3.5"},"-30°"),o.default.createElement("circle",{fill:"currentColor",cx:"-27.37777777777778",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"-25.422222222222224",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"-23.46666666666667",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"-21.51111111111112",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"-19.555555555555557",cy:"0",r:"0.5"}),o.default.createElement("text",{fill:"currentColor",x:"-21.805555555555557",y:"3.5"},"-20°"),o.default.createElement("circle",{fill:"currentColor",cx:"-17.60000000000001",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"-15.644444444444446",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"-13.688888888888897",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"-11.733333333333334",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"-9.777777777777786",cy:"0",r:"0.5"}),o.default.createElement("text",{fill:"currentColor",x:"-12.027777777777786",y:"3.5"},"-10°"),o.default.createElement("circle",{fill:"currentColor",cx:"-7.822222222222223",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"-5.866666666666674",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"-3.9111111111111114",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"-1.9555555555555628",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"0",cy:"0",r:"0.5"}),o.default.createElement("text",{fill:"currentColor",x:"-0.75",y:"3.5"},"0°"),o.default.createElement("circle",{fill:"currentColor",cx:"1.9555555555555486",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"3.9111111111111114",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"5.86666666666666",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"7.822222222222223",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"9.777777777777771",cy:"0",r:"0.5"}),o.default.createElement("text",{fill:"currentColor",x:"8.277777777777771",y:"3.5"},"10°"),o.default.createElement("circle",{fill:"currentColor",cx:"11.733333333333334",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"13.688888888888883",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"15.644444444444446",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"17.599999999999994",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"19.555555555555557",cy:"0",r:"0.5"}),o.default.createElement("text",{fill:"currentColor",x:"18.055555555555557",y:"3.5"},"20°"),o.default.createElement("circle",{fill:"currentColor",cx:"21.511111111111106",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"23.46666666666667",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"25.422222222222217",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"27.37777777777778",cy:"0",r:"0.2"}),o.default.createElement("circle",{fill:"currentColor",cx:"29.33333333333333",cy:"0",r:"0.5"}),o.default.createElement("text",{fill:"currentColor",x:"27.83333333333333",y:"3.5"},"30°"),o.default.createElement("circle",{fill:"currentColor",cx:"31.28888888888889",cy:"0",r:"0.2",opacity:"0.8"}),o.default.createElement("circle",{fill:"currentColor",cx:"33.24444444444444",cy:"0",r:"0.2",opacity:"0.6"}),o.default.createElement("circle",{fill:"currentColor",cx:"35.2",cy:"0",r:"0.2",opacity:"0.4"}),o.default.createElement("circle",{fill:"currentColor",cx:"37.15555555555555",cy:"0",r:"0.2",opacity:"0.2"}))))))}}])&&u(t.prototype,n),r&&u(t,r),s}(o.Component);t.default=v},882:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(694),a=(r=n(710))&&r.__esModule?r:{default:r};function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(s,e);var t,n,r,c=f(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),m(d(e=c.call(this)),"updateBrightness",(function(t){e.onAdjust("brightness",t)})),m(d(e),"updateContrast",(function(t){e.onAdjust("contrast",t)})),m(d(e),"updateExposure",(function(t){e.onAdjust("exposure",t)})),m(d(e),"updateSaturation",(function(t){e.onAdjust("saturation",t)})),m(d(e),"onAdjust",(function(t,n){e.setState(m({},t,n)),e.props.onAdjust(t,n)})),e.state={brightness:0,contrast:0,exposure:0,saturation:0},e}return t=s,(n=[{key:"render",value:function(){var e=this.props.t,t=this.state,n=t.brightness,r=t.contrast,c=t.exposure,s=t.saturation;return o.default.createElement(i.AdjustWrapper,null,o.default.createElement(a.default,{label:e["adjust.brightness"],range:n,updateRange:this.updateBrightness}),o.default.createElement(a.default,{label:e["adjust.contrast"],range:r,updateRange:this.updateContrast}),o.default.createElement(a.default,{label:e["adjust.exposure"],range:c,updateRange:this.updateExposure}),o.default.createElement(a.default,{label:e["adjust.saturation"],range:s,updateRange:this.updateSaturation}))}}])&&l(t.prototype,n),r&&l(t,r),s}(o.Component);t.default=g},883:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(694),i=n(724),a=u(n(710)),c=u(n(725)),s=n(702),l=n(707);function u(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(p,e);var t,n,u,f=y(p);function p(e){var t,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),S(x(r=f.call(this,e)),"changeOpacity",(function(e){r.updateWatermarkProperty({opacity:e})})),S(x(r),"updateWatermarkProperty",(function(e,t,n){var o=r.props,i=o.shapeOperations,a=o.watermark.lockScaleToPercentage,c=void 0===a?0:a;t||(t=e),n||(n=e);var l=r.getWatermarkLayer()||{};r.setState(e,(function(){i.addOrUpdate(g(g({},t),{},{lockScaleToPercentage:c,key:s.WATERMARK_UNIQUE_KEY,index:l.index,tab:"watermark"}),{watermark:g(g({},r.props.watermark),n)})}))})),S(x(r),"getWatermarkLayer",(function(){return r.props.shapeOperations.getShape({key:s.WATERMARK_UNIQUE_KEY})})),S(x(r),"changeURL",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.target.value;r.props.watermark.text?r.initWatermarkImage(n):r.updateWatermarkProperty({url:n},g({img:n},t),{url:"",text:!1})})),S(x(r),"changeTextProperty",(function(e){var t=S({},e.target.name,e.target.value);if(r.props.watermark.text)r.updateWatermarkProperty(t);else{var n=r.state,o=g({text:n.text,color:n.color,textSize:n.textSize,textFont:n.textFont,opacity:n.opacity,variant:s.SHAPES_VARIANTS.TEXT,tab:"watermark"},t);r.updateWatermarkProperty(g({},t),g(g({},o),{},{resizingBox:!0}),{text:g(g({},r.props.watermark.text),o)})}})),S(x(r),"readFile",(function(e){if(r.props.config.processWithCloudimage)return null;var t=e.target;if(t.files&&t.files[0]){var n=new FileReader;n.onload=function(e){r.changeURL({target:{value:e.target.result}},{variant:s.SHAPES_VARIANTS.IMAGE})},n.readAsDataURL(t.files[0])}})),S(x(r),"onPositionChange",(function(e){var t=r.getWatermarkLayer(),n=t.width,o=t.height,i=d((0,l.getWatermarkPosition)(e,(0,l.getCanvasNode)(r.props.config.elementId),n,o),2),a=i[0],c=i[1];r.updateWatermarkProperty({position:e},{x:a,y:c},{position:e,x:a,y:c})})),S(x(r),"initWatermarkImage",(0,i.debounce)(500,(function(e){var t=r.props.updateState,n=null;t({isShowSpinner:!0});var o=function(e){return{logoImage:e,isShowSpinner:!1,watermark:g(g({},r.props.watermark),{},{url:e.src})}};if(e){var i=r.props,a=i.shapeOperations,c=i.watermark.lockScaleToPercentage,l=void 0===c?0:c,u=r.state.opacity;(n=new Image).setAttribute("crossOrigin","Anonymous"),n.onload=function(){var e,t=r.props.watermark.imageFilter;t&&"function"==typeof t?(n.onload=null,e=o(t(n))):e=o(n);var i=(r.getWatermarkLayer()||{}).index;a.addOrUpdate({img:n,opacity:u,index:i,variant:s.SHAPES_VARIANTS.IMAGE,key:s.WATERMARK_UNIQUE_KEY,tab:"watermark",lockScaleToPercentage:l},e)},n.onerror=function(){t({isShowSpinner:!1})},e.match(/^https?:\/\/./)?n.src=e+"?"+(new Date).getTime():n.src=e}else t({isShowSpinner:!1})}))),S(x(r),"showWatermarkList",(function(){r.setState({showWaterMarkList:!0})})),S(x(r),"hideWatermarkList",(function(){r.setState({showWaterMarkList:!1})})),S(x(r),"onChangeWatermark",(function(e){r.changeURL({target:{value:e}}),r.hideWatermarkList()})),S(x(r),"handleInputTypeChange",(function(e){var t=e.target,n=r.props,o=n.updateState,i=n.config;o({isShowSpinner:!0}),r.setState({selectedInputType:t.value}),"text"===t.value?(r.changeTextProperty({target:{name:"text",value:(i.watermark||{}).defaultText||"Your text"}}),o({isShowSpinner:!1})):(o({watermark:g(g({},r.props.watermark),{},{text:null})}),r.initWatermarkImage(r.props.watermark.url||""))}));var o=e.watermark,a=o.opacity,c=o.position,u=o.url,h=o.applyByDefault,m=o.activePositions,v=o.handleOpacity,b=e.watermark,y=b.urls,w=b.fonts,O=[],C=c||"center";if("string"==typeof m&&s.WATERMARK_POSITIONS_PRESET.hasOwnProperty(m))O=s.WATERMARK_POSITIONS_PRESET[m];else if(Array.isArray(m)){var k=Array(9).fill(0);m.map((function(e,t){return k[t]=e})),O=k}else O=Array(9).fill(1);return 1!==O[s.WATERMARK_POSITIONS.indexOf(C)]&&(C=s.WATERMARK_POSITIONS[O.indexOf(1)]),y&&(y=y.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"==typeof e){var t=e.split("/");return{url:e,label:t[t.length-1]}}return e}))),r.initWatermarkImage(u||(null===(t=y)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.url)),r.state={isBlockRatio:!1,opacity:a||.7,handleOpacity:"boolean"!=typeof v||v,position:C,url:u||(y&&y.length>1?y[0]&&y[0].url:""),urls:y||[],activePositions:O,isWatermarkList:y&&y.length>1,applyByDefault:h||!1,showWaterMarkList:!1,selectedInputType:y&&y.length>1?"gallery":"upload",text:"",color:"#000000",textSize:62,textFont:"Arial",fonts:w||r.props.config.theme.fonts},r}return t=p,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props;t.watermark.position!==this.state.position&&this.onPositionChange(this.state.position),t.watermark.applyByDefault!==e.watermark.applyByDefault&&(this.getWatermarkLayer()?this.updateWatermarkProperty({applyByDefault:!1},{hidden:!0,resizingBox:!1},{applyByDefault:!1}):this.setState({applyByDefault:t.watermark.applyByDefault}),t.watermark.applyByDefault&&(this.getWatermarkLayer()?this.updateWatermarkProperty({applyByDefault:!0},{hidden:!1,resizingBox:!0},{applyByDefault:!0}):this.initWatermarkImage(t.watermark.url)))}},{key:"render",value:function(){var e=this,t=this.state,n=t.isWatermarkList,i=t.url,l=t.urls,u=t.opacity,f=t.handleOpacity,p=t.position,d=t.activePositions,h=(t.applyByDefault,t.showWaterMarkList),m=t.selectedInputType,g=t.text,v=t.color,b=t.textFont,y=t.textSize,w=t.fonts,x=this.props.config,O="upload"===m,S="gallery"===m,C="url"===m,k="text"===m,_=this.props.t;return r.default.createElement(o.WatermarkWrapper,null,r.default.createElement(o.WatermarkInputTypes,null,r.default.createElement("label",null,_["common.gallery"],r.default.createElement("input",{type:"radio",value:"gallery",checked:"gallery"===m,onChange:this.handleInputTypeChange}),r.default.createElement("span",null)),r.default.createElement("label",{style:{cursor:x.processWithCloudimage?"not-allowed":"auto"}},_["common.upload"],r.default.createElement("input",{type:"radio",value:"upload",checked:"upload"===m,disabled:x.processWithCloudimage,onChange:this.handleInputTypeChange}),r.default.createElement("span",null)),r.default.createElement("label",null,_["common.url"],r.default.createElement("input",{type:"radio",value:"url",checked:"url"===m,onChange:this.handleInputTypeChange}),r.default.createElement("span",null)),r.default.createElement("label",null,_["common.text"],r.default.createElement("input",{type:"radio",value:"text",checked:"text"===m,onChange:this.handleInputTypeChange}),r.default.createElement("span",null))),r.default.createElement(o.WatermarkInputs,null,r.default.createElement(o.WrapperForURL,null,S&&r.default.createElement(r.default.Fragment,null,r.default.createElement("label",{htmlFor:"url"},"Watermark Gallery"),r.default.createElement(c.default,{width:"100%",list:l,valueProp:"url",id:"gallery",value:i,style:{width:"calc(100% - 120px)"},onChange:function(t){e.changeURL({target:{value:t}})}})),C&&r.default.createElement(r.default.Fragment,null,r.default.createElement("label",{htmlFor:"url"},"Watermark URL"),r.default.createElement(o.FieldInput,{id:"url",value:i,style:{width:"calc(100% - 120px)"},onChange:this.changeURL})),O&&r.default.createElement(r.default.Fragment,null,r.default.createElement("label",{htmlFor:"image-upload"},"Watermark Image"),r.default.createElement(o.FileInput,{id:"image-upload",style:{width:"calc(100% - 120px)"},onChange:this.readFile})),k&&r.default.createElement(r.default.Fragment,null,r.default.createElement("label",{htmlFor:"text"},"Watermark Text"),r.default.createElement(o.FieldInput,{id:"text",value:g,style:{width:"calc(65% - 135px)",minWidth:120},name:"text",onChange:this.changeTextProperty}),r.default.createElement(c.default,{list:x.processWithCloudimage?s.WATERMARK_CLOUDIMAGE_FONTS:w,valueProp:"value",id:"textFont",value:b,style:{width:111,display:"inline-block",marginLeft:8},onChange:function(t){return e.changeTextProperty({target:{name:"textFont",value:t}})}}),r.default.createElement(o.FieldInput,{value:y,type:"number",name:"textSize",style:{width:60,marginLeft:8},onChange:this.changeTextProperty}),r.default.createElement(o.FieldInput,{value:v,type:"color",style:{width:30,marginLeft:8,padding:0,background:"transparent",boxShadow:"none"},name:"color",onChange:this.changeTextProperty}))),r.default.createElement(o.WrapperForControls,{switcherPosition:f?"right":"left"},f&&r.default.createElement(o.WrapperForOpacity,null,r.default.createElement("label",{htmlFor:"opacity",style:{minWidth:80}},"Opacity"),r.default.createElement(a.default,{label:_["common.opacity"],min:0,max:1,step:.05,range:u,updateRange:this.changeOpacity})))),r.default.createElement(o.WatermarkPositionWrapper,null,s.WATERMARK_POSITIONS.map((function(t,n){return r.default.createElement(o.PositionSquare,{key:t,value:t,active:t===p,clickable:d[n],onClick:function(){d[n]&&e.onPositionChange(t)}})}))),n&&h&&r.default.createElement(o.Watermarks,null,l.map((function(t){return r.default.createElement(o.WatermarkIcon,{key:t,src:t,onClick:function(){e.onChangeWatermark(t)}})}))))}}])&&v(t.prototype,n),u&&v(t,u),p}(r.Component);t.default=C},884:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var c=r?Object.getOwnPropertyDescriptor(e,o):null;c&&(c.get||c.set)?Object.defineProperty(n,o,c):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(694);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(c,e);var t,n,i,a=p(c);function c(){var e;l(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(h(e=a.call.apply(a,[this].concat(n))),"changeWidth",(function(t){var n=t.target.value,r=e.props,o=r.updateState,i=r.focusPoint,a=r.canvasDimensions;o({focusPoint:s(s({},i),{},{x:Math.min(isNaN(n)?0:+n,a.width)})})})),g(h(e),"changeHeight",(function(t){var n=t.target.value,r=e.props,o=r.updateState,i=r.focusPoint,a=r.canvasDimensions;o({focusPoint:s(s({},i),{},{y:Math.min(isNaN(n)?0:+n,a.height)})})})),e}return t=c,(n=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.focusPoint,n=e.t;return r.default.createElement(o.ResizeWrapper,null,r.default.createElement(o.ResizeBox,{active:!0},r.default.createElement(o.FieldSet,null,r.default.createElement(o.FieldLabel,null,n["common.x"]),r.default.createElement(o.FieldInput,{dark:!0,fullSize:!0,value:Math.round(t.x),onChange:this.changeWidth})),"  ",r.default.createElement(o.FieldSet,null,r.default.createElement(o.FieldLabel,null,n["common.y"]),r.default.createElement(o.FieldInput,{dark:!0,fullSize:!0,value:Math.round(t.y),onChange:this.changeHeight}))))}}])&&u(t.prototype,n),i&&u(t,i),c}(r.Component);t.default=v},885:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(726),i=n(702),a=n(694),c=l(n(710)),s=l(n(725));function l(e){return e&&e.__esModule?e:{default:e}}function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(p,e);var t,n,l,u=v(p);function p(){var e;h(this,p);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return x(y(e=u.call.apply(u,[this].concat(n))),"renderSettings",(function(t){var n=e.props,l=n.shapeOperations,u=n.t,p=t.variant,h=t.opacity,m=t.color,g=t.stroke,v=void 0===g?{}:g,b=function(e,t){return l.updateShape({stroke:d(d({},v),{},x({},e,t))})},y=function(e){return l.updateShape(x({},e.target.name,e.target.value))},w=r.default.createElement(r.default.Fragment,{key:"default-settings"},r.default.createElement(c.default,{label:u["common.opacity"],min:0,max:1,step:.05,range:h,updateRange:function(e){return l.updateShape({opacity:e})},labelBefore:!0,labelStyles:{color:"#fff"}}),r.default.createElement(o.FieldGroup,null,r.default.createElement(o.FieldCustomLabel,null,"Stroke Color"),r.default.createElement(a.FieldInput,{value:v.color||"#000000",type:"color",style:{width:30,padding:0,background:"transparent",boxShadow:"none"},onChange:function(e){var t=e.target.value;return b("color",t)}})),r.default.createElement(o.FieldGroup,null,r.default.createElement(o.FieldCustomLabel,null,"Stroke width"),r.default.createElement(a.FieldInput,{value:v.width||0,type:"number",style:{width:60},onChange:function(e){var t=e.target.value;return b("width",t)},min:0}))),O=r.default.createElement(o.FieldGroup,{key:"common-settings-fields"},r.default.createElement(o.FieldCustomLabel,null,"Fill Color"),r.default.createElement(a.FieldInput,{value:m||"#000",type:"color",style:{width:30,padding:0,background:"transparent",boxShadow:"none"},name:"color",onChange:y,key:"shape-color"})),S=[w];switch(p){case i.SHAPES_VARIANTS.RECT:case i.SHAPES_VARIANTS.SQUARE:case i.SHAPES_VARIANTS.CIRCLE:S.push(O);break;case i.SHAPES_VARIANTS.TEXT:var C=r.default.createElement(r.default.Fragment,{key:"text-group-fields"},r.default.createElement(o.FieldGroup,null,r.default.createElement(o.FieldCustomLabel,null,"Text"),r.default.createElement(a.FieldInput,{id:"text",value:t.text||"Text",name:"text",style:{minWidth:111},onChange:y})),r.default.createElement(o.FieldGroup,null,r.default.createElement(o.FieldCustomLabel,null,"Font family"),r.default.createElement(s.default,{list:i.STANDARD_FONTS,valueProp:"value",id:"textFont",value:t.textFont||"Arial",style:{width:111},onChange:function(e){return y({target:{name:"textFont",value:e}})},color:"text-font",notRelativePosition:!0})),r.default.createElement(o.FieldGroup,null,r.default.createElement(o.FieldCustomLabel,null,"Font size"),r.default.createElement(a.FieldInput,{value:t.textSize,type:"number",style:{width:60},name:"textSize",onChange:y,min:0})));S.unshift(C,O);break;case i.SHAPES_VARIANTS.IMAGE:var k=r.default.createElement(o.FieldGroup,{key:"url-field"},r.default.createElement(o.FieldCustomLabel,null,"URL"),r.default.createElement(a.FieldInput,{id:"img",value:"object"===f(t.img)?t.img.src:t.img||"",name:"img",style:{minWidth:111},onChange:y}));S.unshift(k)}return S})),e}return t=p,(n=[{key:"render",value:function(){var e=this.props,t=e.availableShapes,n=e.selectedShape,i=void 0===n?{}:n,a=Object.keys(i).length;return r.default.createElement(o.AddWrapper,null,0===a?r.default.createElement(o.ItemsWrapper,null,t.map((function(e){var t=e.label,n=e.content,i=e.iconStyles,a=e.drawFn,c=e.iconUrl;return r.default.createElement(o.ItemGroup,{key:t,onClick:function(){return a()}},r.default.createElement(o.ItemIcon,{style:i,isIconNotProvided:!Boolean(n||c||i)},n||c&&r.default.createElement("img",{src:c,alt:"".concat(t," icon")})),r.default.createElement("label",null,t))}))):r.default.createElement(o.SettingsWrapper,null,this.renderSettings(i)))}}])&&m(t.prototype,n),l&&m(t,l),p}(r.Component);t.default=O},886:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(726),a=n(702),c=n(694),s=(r=n(710))&&r.__esModule?r:{default:r};function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(f,e);var t,n,r,l=g(f);function f(){var e;d(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(b(e=l.call.apply(l,[this].concat(n))),"updateOpacity",(function(t){return e.props.shapeOperations.updateShape({opacity:t})})),w(b(e),"updateStroke",(function(t,n){var r=e.props,o=r.shapeOperations,i=r.selectedShape.stroke,a=void 0===i?{}:i;o.updateShape({stroke:p(p({},a),{},w({},t,n))})})),w(b(e),"updatePropertyFromEvent",(function(t){return e.props.shapeOperations.updateShape(w({},t.target.name,t.target.value))})),e}return t=f,(n=[{key:"componentDidMount",value:function(){this.props.shapeOperations.addImage({img:a.DEFAULT_IMG_URL})}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,r=t.selectedShape,a=void 0===r?{}:r,l=a.opacity,f=void 0===l?1:l,p=a.img,d=a.stroke,h=void 0===d?{}:d;return o.default.createElement(i.AddWrapper,null,o.default.createElement(i.SettingsWrapper,null,"[",o.default.createElement(s.default,{label:n["common.opacity"],min:0,max:1,step:.05,range:f,updateRange:this.updateOpacity,labelBefore:!0,labelStyles:{color:"#fff"}}),o.default.createElement(i.FieldGroup,null,o.default.createElement(i.FieldCustomLabel,null,"Stroke Color"),o.default.createElement(c.FieldInput,{value:h.color||"#000000",type:"color",style:{width:30,padding:0,background:"transparent",boxShadow:"none"},onChange:function(t){var n=t.target.value;return e.updateStroke("color",n)}})),o.default.createElement(i.FieldGroup,null,o.default.createElement(i.FieldCustomLabel,null,"Stroke width"),o.default.createElement(c.FieldInput,{value:h.width||0,type:"number",style:{width:60},onChange:function(t){var n=t.target.value;return e.updateStroke("width",n)},min:0})),o.default.createElement(i.FieldGroup,{key:"url-field"},o.default.createElement(i.FieldCustomLabel,null,"URL"),o.default.createElement(c.FieldInput,{id:"img",value:"object"===u(p)?p.src:p||"",name:"img",style:{minWidth:111},onChange:this.updatePropertyFromEvent}))),"]")}}])&&h(t.prototype,n),r&&h(t,r),f}(o.Component);t.default=x},887:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(726),i=n(694),a=s(n(710)),c=s(n(725));function s(e){return e&&e.__esModule?e:{default:e}}function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(u,e);var t,n,s,l=g(u);function u(){var e;d(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(b(e=l.call.apply(l,[this].concat(n))),"updateOpacity",(function(t){return e.props.shapeOperations.updateShape({opacity:t})})),w(b(e),"updateStroke",(function(t,n){var r=e.props,o=r.shapeOperations,i=r.selectedShape.stroke,a=void 0===i?{}:i;o.updateShape({stroke:p(p({},a),{},w({},t,n))})})),w(b(e),"updatePropertyFromEvent",(function(t){return e.props.shapeOperations.updateShape(w({},t.target.name,t.target.value))})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.shapeOperations.addText()}},{key:"render",value:function(){var e=this,t=this.props,n=t.t,s=t.selectedShape,l=void 0===s?{}:s,u=t.config.theme,f=l.text,p=void 0===f?"":f,d=l.textFont,h=void 0===d?"Arial":d,m=l.textSize,g=void 0===m?62:m,v=l.stroke,b=void 0===v?{}:v,y=l.color,w=void 0===y?"#000000":y,x=l.opacity,O=void 0===x?1:x;return r.default.createElement(o.AddWrapper,null,r.default.createElement(o.SettingsWrapper,null,r.default.createElement(o.FieldGroup,null,r.default.createElement(o.FieldCustomLabel,null,"Text"),r.default.createElement(i.FieldInput,{id:"text",value:p,name:"text",style:{minWidth:111},onChange:this.updatePropertyFromEvent})),r.default.createElement(o.FieldGroup,null,r.default.createElement(o.FieldCustomLabel,null,"Font family"),r.default.createElement(c.default,{list:u.fonts,valueProp:"value",id:"textFont",value:h,style:{width:111},onChange:function(t){return e.updatePropertyFromEvent({target:{name:"textFont",value:t}})},color:"text-font",notRelativePosition:!0})),r.default.createElement(o.FieldGroup,null,r.default.createElement(o.FieldCustomLabel,null,"Font size"),r.default.createElement(i.FieldInput,{value:g,type:"number",style:{width:60},name:"textSize",onChange:this.updatePropertyFromEvent,min:0})),r.default.createElement(o.FieldGroup,null,r.default.createElement(o.FieldCustomLabel,null,"Fill Color"),r.default.createElement(i.FieldInput,{value:w,type:"color",style:{width:30,padding:0,background:"transparent",boxShadow:"none"},name:"color",onChange:this.updatePropertyFromEvent})),r.default.createElement(a.default,{label:n["common.opacity"],min:0,max:1,step:.05,range:O,updateRange:this.updateOpacity,labelBefore:!0,labelStyles:{color:"#fff"}}),r.default.createElement(o.FieldGroup,null,r.default.createElement(o.FieldCustomLabel,null,"Stroke Color"),r.default.createElement(i.FieldInput,{value:b.color||"#000000",type:"color",style:{width:30,padding:0,background:"transparent",boxShadow:"none"},onChange:function(t){var n=t.target.value;return e.updateStroke("color",n)}})),r.default.createElement(o.FieldGroup,null,r.default.createElement(o.FieldCustomLabel,null,"Stroke width"),r.default.createElement(i.FieldInput,{value:b.width||0,type:"number",style:{width:60},onChange:function(t){var n=t.target.value;return e.updateStroke("width",n)},min:0}))))}}])&&h(t.prototype,n),s&&h(t,s),u}(r.Component);t.default=x},888:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=n(694),i=n(740),a=n(889),c=n(702);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(h,e);var t,n,s,l=d(h);function h(){return u(this,h),l.apply(this,arguments)}return t=h,(n=[{key:"render",value:function(){var e=this.props,t=e.activeTab,n=e.onRevert,s=e.apply,l=e.onClose,u=e.processWithCloudService,f=e.processWithFilerobot,p=e.handleSave,d=e.activeBody,h=e.t,m=e.config,g=m.tools,v=m.showGoBackBtn,b=m.elementId,y=m.noCapitalStrs,w=1===g.length,x="rotate"===t?"orientation":t,O=u||f?h["toolbar.save"]:h["toolbar.download"],S=function(){return l(c.ON_CLOSE_STATUSES.TOOLBAR_CANCEL_BTN_CLICKED)};return r.default.createElement(o.HeaderWrapper,null,r.default.createElement(o.HeaderTop,null,r.default.createElement(o.Title,{noCapitalStrs:y},h["toolbar.".concat(x)]||h["header.image_editor_title"]),r.default.createElement(o.FullscreenBtn,{onClick:function(){return(0,a.toggleModalFullscreen)(b)},title:h["header.toggle_fullscreen"]}),r.default.createElement(o.CloseBtn,{onClick:l,title:h["header.close_modal"]})),r.default.createElement(o.ToolbarWrapper,{overlayYHidden:"watermark"!==t},r.default.createElement(o.ActionsWrapper,null,r.default.createElement(o.LeftActions,null,r.default.createElement(o.CancelBtn,{hide:!t,onClick:w?S:n,noCapitalStrs:y,sm:!0,default:!0,fullSize:!0},h["toolbar.cancel"]),v&&r.default.createElement(o.CancelBtn,{onClick:S,noCapitalStrs:y,sm:!0,default:!0,fullSize:!0},h["toolbar.go_back"])),"preview"===d&&r.default.createElement(o.RightActions,null,r.default.createElement(o.Button,{themeColor:!0,sm:!0,success:!t||"resize"===t,themeBtn:t,fullSize:!0,onClick:w?function(){s(p)}:t?function(){s()}:function(){p()}},t&&"resize"!==t?h["toolbar.apply"]:O))),r.default.createElement(i.Toolbar,this.props)))}}])&&f(t.prototype,n),s&&f(t,s),h}(r.Component);t.default=g},889:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleModalFullscreen=void 0;var r=n(702);t.toggleModalFullscreen=function(e){document.fullscreenElement=document.fullscreenElement||document.mozFullscreenElement||document.msFullscreenElement||document.webkitFullscreenDocument,document.exitFullscreen=document.exitFullscreen||document.mozExitFullscreen||document.msExitFullscreen||document.webkitExitFullscreen;var t=document.getElementById(e||r.MODAL_ID);t.requestFullscreen=t.requestFullscreen||t.mozRequestFullscreen||t.msRequestFullscreen||t.webkitRequestFullscreen,document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():t.requestFullscreen().catch((function(e){alert("Error attempting to enable full-screen mode: ".concat(e.message," (").concat(e.name,")"))}))}},890:function(e,t,n){"use strict";const r=n(891),o=new Set(["jpg","png","gif","webp","flif","cr2","tif","bmp","jxr","psd","ico","bpg","jp2","jpm","jpx","heic","cur","dcm"]),i=e=>{const t=r(e);return o.has(t&&t.ext)?t:null};e.exports=i,e.exports.default=i,Object.defineProperty(i,"minimumBytes",{value:r.minimumBytes})},891:function(module,exports,__webpack_require__){"use strict";(function(Buffer){const toBytes=e=>[...e].map(e=>e.charCodeAt(0)),xpiZipFilename=toBytes("META-INF/mozilla.rsa"),oxmlContentTypes=toBytes("[Content_Types].xml"),oxmlRels=toBytes("_rels/.rels");function readUInt64LE(e,t=0){let n=e[t],r=1,o=0;for(;++o<8;)r*=256,n+=e[t+o]*r;return n}const fileType=e=>{if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Buffer.isBuffer(e)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Uint8Array?e:new Uint8Array(e);if(!(t&&t.length>1))return null;const n=(e,n)=>{n=Object.assign({offset:0},n);for(let r=0;r<e.length;r++)if(n.mask){if(e[r]!==(n.mask[r]&t[r+n.offset]))return!1}else if(e[r]!==t[r+n.offset])return!1;return!0},r=(e,t)=>n(toBytes(e),t);if(n([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(n([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(n([71,73,70]))return{ext:"gif",mime:"image/gif"};if(n([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(n([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((n([73,73,42,0])||n([77,77,0,42]))&&n([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(n([73,73,42,0])||n([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(n([66,77]))return{ext:"bmp",mime:"image/bmp"};if(n([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(n([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(n([80,75,3,4])){if(n([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(n(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(r("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(r("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(r("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const e=(e,t=0)=>e.findIndex((e,n,r)=>n>=t&&80===r[n]&&75===r[n+1]&&3===r[n+2]&&4===r[n+3]);let o=0,i=!1,a=null;do{const c=o+30;if(i||(i=n(oxmlContentTypes,{offset:c})||n(oxmlRels,{offset:c})),a||(r("word/",{offset:c})?a={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:r("ppt/",{offset:c})?a={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:r("xl/",{offset:c})&&(a={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),i&&a)return a;o=e(t,c)}while(o>=0);if(a)return a}if(n([80,75])&&(3===t[2]||5===t[2]||7===t[2])&&(4===t[3]||6===t[3]||8===t[3]))return{ext:"zip",mime:"application/zip"};if(n([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(n([82,97,114,33,26,7])&&(0===t[6]||1===t[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(n([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(n([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(n([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(n([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(n([51,103,112,53])||n([0,0,0])&&n([102,116,121,112],{offset:4})&&(n([109,112,52,49],{offset:8})||n([109,112,52,50],{offset:8})||n([105,115,111,109],{offset:8})||n([105,115,111,50],{offset:8})||n([109,109,112,52],{offset:8})||n([77,52,86],{offset:8})||n([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(n([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(n([26,69,223,163])){const e=t.subarray(4,4100),n=e.findIndex((e,t,n)=>66===n[t]&&130===n[t+1]);if(-1!==n){const t=n+3,r=n=>[...n].every((n,r)=>e[t+r]===n.charCodeAt(0));if(r("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(r("webm"))return{ext:"webm",mime:"video/webm"}}}if(n([0,0,0,20,102,116,121,112,113,116,32,32])||n([102,114,101,101],{offset:4})||n([102,116,121,112,113,116,32,32],{offset:4})||n([109,100,97,116],{offset:4})||n([109,111,111,118],{offset:4})||n([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(n([82,73,70,70])){if(n([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(n([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(n([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(n([48,38,178,117,142,102,207,17,166,217])){let e=30;do{const r=readUInt64LE(t,e+16);if(n([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:e})){if(n([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:e+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(n([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:e+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}e+=r}while(e+24<=t.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(n([0,0,1,186])||n([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(n([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let e=0;e<2&&e<t.length-16;e++){if(n([73,68,51],{offset:e})||n([255,226],{offset:e,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(n([255,228],{offset:e,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([255,248],{offset:e,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(n([255,240],{offset:e,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(n([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(n([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(n([79,103,103,83]))return n([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:n([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:n([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:n([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:n([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(n([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(n([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(n([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(n([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(n([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(n([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===t[0]||70===t[0])&&n([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(n([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(n([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(n([119,79,70,70])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(n([119,79,70,50])&&(n([0,1,0,0],{offset:4})||n([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(n([76,80],{offset:34})&&(n([0,0,1],{offset:8})||n([1,0,2],{offset:8})||n([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(n([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(n([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(n([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(n([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(n([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(n([37,33]))return{ext:"ps",mime:"application/postscript"};if(n([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(n([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(n([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(n([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(n([77,83,67,70])||n([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(n([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(n([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(n([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(n([31,160])||n([31,157]))return{ext:"Z",mime:"application/x-compress"};if(n([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(n([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(n([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(n([71],{offset:4})&&(n([71],{offset:192})||n([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(n([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(n([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(n([0,0,0,12,106,80,32,32,13,10,135,10])){if(n([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(n([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(n([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(n([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(n([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(r("<?xml "))return{ext:"xml",mime:"application/xml"};if(n([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(n([102,116,121,112],{offset:4})){if(n([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(n([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(n([104,101,105,99],{offset:8})||n([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(n([104,101,118,99],{offset:8})||n([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return n([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:n([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:n([77,80,43])||n([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:n([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:n([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:n([212,195,178,161])||n([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};module.exports=fileType,module.exports.default=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),module.exports.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const e=new stream.PassThrough,t=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{e.fileType=fileType(t)}catch(e){reject(e)}readableStream.unshift(t),stream.pipeline?resolve(stream.pipeline(readableStream,e,()=>{})):resolve(readableStream.pipe(e))})})}).call(this,__webpack_require__(892).Buffer)},892:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(893),o=n(894),i=n(895);function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=p(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=c(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(s.isBuffer(t)){var n=0|d(t.length);return 0===(e=c(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?c(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(u(t),e=c(e,t<0?0:0|d(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|d(t.length);e=c(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return N(e).length;default:if(r)return W(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,o);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){var i,a=1,c=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,c/=2,s/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=n;i<c;i++)if(l(e,i)===l(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===s)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+s>c&&(n=c-s),i=n;i>=0;i--){for(var f=!0,p=0;p<s;p++)if(l(e,i+p)!==l(t,p)){f=!1;break}if(f)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var c=parseInt(t.substr(2*a,2),16);if(isNaN(c))return a;e[n+a]=c}return a}function w(e,t,n,r){return H(W(t,e.length-n),e,n,r)}function x(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return x(e,t,n,r)}function S(e,t,n,r){return H(N(t),e,n,r)}function C(e,t,n,r){return H(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,c,s,l=e[o],u=null,f=l>239?4:l>223?3:l>191?2:1;if(o+f<=n)switch(f){case 1:l<128&&(u=l);break;case 2:128==(192&(i=e[o+1]))&&(s=(31&l)<<6|63&i)>127&&(u=s);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(s=(15&l)<<12|(63&i)<<6|63&a)>2047&&(s<55296||s>57343)&&(u=s);break;case 4:i=e[o+1],a=e[o+2],c=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&c)&&(s=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&c)>65535&&s<1114112&&(u=s)}null===u?(u=65533,f=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=s,t.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return l(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?c(e,t):void 0!==n?"string"==typeof r?c(e,t).fill(n,r):c(e,t).fill(n):c(e,t)}(null,e,t,n)},s.allocUnsafe=function(e){return f(null,e)},s.allocUnsafeSlow=function(e){return f(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):m.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,o){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),c=Math.min(i,a),l=this.slice(r,o),u=e.slice(t,n),f=0;f<c;++f)if(l[f]!==u[f]){i=l[f],a=u[f];break}return i<a?-1:a<i?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return O(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F(e[i]);return o}function R(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,r,o,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function I(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function T(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,i){return i||T(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,i){return i||T(e,0,n,8),o.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var o=t-e;n=new s(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},s.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),o.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),o.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),o.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),o.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||A(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);A(this,e,t,n,o-1,-o)}var i=0,a=1,c=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===c&&0!==this[t+i-1]&&(c=1),this[t+i]=(e/a>>0)-c&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);A(this,e,t,n,o-1,-o)}var i=n-1,a=1,c=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===c&&0!==this[t+i+1]&&(c=1),this[t+i]=(e/a>>0)-c&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!s.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=s.isBuffer(e)?e:W(new s(e,r).toString()),c=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%c]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function N(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(54))},893:function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),a=r[0],c=r[1],s=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,c)),u=0,f=c>0?a-4:a;for(n=0;n<f;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;2===c&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,s[u++]=255&t);1===c&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,c=n-o;a<c;a+=16383)i.push(u(e,a,a+16383>c?c:a+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,s=a.length;c<s;++c)r[c]=a[c],o[a.charCodeAt(c)]=c;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var o,i,a=[],c=t;c<n;c+=3)o=(e[c]<<16&16711680)+(e[c+1]<<8&65280)+(255&e[c+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},894:function(e,t){t.read=function(e,t,n,r,o){var i,a,c=8*o-r-1,s=(1<<c)-1,l=s>>1,u=-7,f=n?o-1:0,p=n?-1:1,d=e[t+f];for(f+=p,i=d&(1<<-u)-1,d>>=-u,u+=c;u>0;i=256*i+e[t+f],f+=p,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+f],f+=p,u-=8);if(0===i)i=1-l;else{if(i===s)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),i-=l}return(d?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,c,s,l=8*i-o-1,u=(1<<l)-1,f=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+f>=1?p/s:p*Math.pow(2,1-f))*s>=2&&(a++,s/=2),a+f>=u?(c=0,a=u):a+f>=1?(c=(t*s-1)*Math.pow(2,o),a+=f):(c=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+d]=255&c,d+=h,c/=256,o-=8);for(a=a<<o|c,l+=o;l>0;e[n+d]=255&a,d+=h,a/=256,l-=8);e[n+d-h]|=128*m}},895:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},896:function(e,t,n){"use strict";n(897),n(901),n(902),n(903),n(904),n(905),n(906),n(907),n(908),n(909),n(910),n(911),n(912),n(913),n(914),n(915),n(916),n(917),n(918),n(919),n(920),n(921),n(922),n(923),n(924),n(925),n(926),n(927),n(928),n(929),n(930),n(931),n(932)},897:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _module=_interopRequireDefault(__webpack_require__(898)),_util=__webpack_require__(711),_logger=__webpack_require__(717),_store=_interopRequireDefault(__webpack_require__(899)),_renderer=_interopRequireDefault(__webpack_require__(900));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Caman=function(_Module){_inherits(Caman,_Module);var _super=_createSuper(Caman);function Caman(){var _this;_classCallCheck(this,Caman);var thisFn=function(){return _assertThisInitialized(_this)}.toString(),thisName=thisFn.match(/return (?:_assertThisInitialized\()*(\w+)\)*;?/)[1];if(eval("".concat(thisName," = this;")),0===arguments.length)throw"Invalid arguments";if(_assertThisInitialized(_this)instanceof Caman){var id;_this.finishInit=_this.finishInit.bind(_assertThisInitialized(_this)),_this.imageLoaded=_this.imageLoaded.bind(_assertThisInitialized(_this));var args=Array.prototype.slice.call(arguments,0);id=parseInt(Caman.getAttrId(args[0]),10);var callback="function"==typeof args[1]?args[1]:"function"==typeof args[2]?args[2]:function(){};return!isNaN(id)&&_store.default.has(id)?_possibleConstructorReturn(_this,_store.default.execute(id,callback)):(_this.id=_util.Util.uniqid.get(),_this.initializedPixelData=_this.originalPixelData=null,_this.cropCoordinates={x:0,y:0},_this.cropped=!1,_this.resized=!1,_this.pixelStack=[],_this.layerStack=[],_this.canvasQueue=[],_this.currentLayer=null,_this.scaled=!1,_this.renderer=new _renderer.default(_assertThisInitialized(_this)),_this.domIsLoaded((function(){return _this.parseArguments(args),_this.setup()})),_possibleConstructorReturn(_this,_assertThisInitialized(_this)))}return _possibleConstructorReturn(_this,new Caman(arguments))}return _createClass(Caman,null,[{key:"initClass",value:function(){this.version={release:"4.1.2",date:"7/27/2013"},this.DEBUG=!1,this.allowRevert=!0,this.crossOrigin="anonymous",this.remoteProxy="",this.proxyParam="camanProxyUrl",this.autoload=!0,this.angle=0,this.rotated=!1}},{key:"toString",value:function(){return"Version ".concat(Caman.version.release,", Released ").concat(Caman.version.date)}},{key:"getAttrId",value:function(e){return"string"==typeof e&&(e=(0,_util.$)(e)),null==e||null==e.getAttribute?null:e.getAttribute("data-caman-id")}}]),_createClass(Caman,[{key:"domIsLoaded",value:function(e){var t=this;if("complete"===document.readyState)return _logger.Log.debug("DOM initialized"),setTimeout((function(){return e.call(t)}),0);return document.addEventListener("readystatechange",(function(){if("complete"===document.readyState)return _logger.Log.debug("DOM initialized"),e.call(t)}),!1)}},{key:"parseArguments",value:function(e){var t=this;if(0===e.length)throw"Invalid arguments given";if(this.initObj=null,this.initType=null,this.imageUrl=null,this.callback=function(){},this.setInitObject(e[0]),1!==e.length){switch(_typeof(e[1])){case"string":this.imageUrl=e[1];break;case"function":this.callback=e[1]}if(2!==e.length)return this.callback=e[2],4===e.length?function(){for(var n=[],r=0,o=Object.keys(e[4]||{});r<o.length;r++){var i=o[r],a=e[4][i];n.push(t.options[i]=a)}return n}():void 0}}},{key:"setInitObject",value:function(e){if("object"===_typeof(e)?this.initObj=e:this.initObj=(0,_util.$)(e),null==this.initObj)throw"Could not find image or canvas for initialization.";return this.initType=this.initObj.nodeName.toLowerCase()}},{key:"setup",value:function(){switch(this.initType){case"node":return this.initNode();case"img":return this.initImage();case"canvas":return this.initCanvas()}}},{key:"initImage",value:function(){return this.image=this.initObj,this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),_util.Util.copyAttributes(this.image,this.canvas,{except:["src"]}),null!=this.image.parentNode&&this.image.parentNode.replaceChild(this.canvas,this.image),this.imageAdjustments(),this.waitForImageLoaded()}},{key:"initCanvas",value:function(){return this.canvas=this.initObj,this.context=this.canvas.getContext("2d"),null!=this.imageUrl?(this.image=document.createElement("img"),this.image.src=this.imageUrl,this.imageAdjustments(),this.waitForImageLoaded()):this.finishInit()}},{key:"imageAdjustments",value:function(){if(this.needsHiDPISwap()&&(_logger.Log.debug(this.image.src,"->",this.hiDPIReplacement()),this.swapped=!0,this.image.src=this.hiDPIReplacement()),Caman.IO.isRemote(this.image))return this.image.src=Caman.IO.proxyUrl(this.image.src),_logger.Log.debug("Remote image detected, using URL = ".concat(this.image.src))}},{key:"waitForImageLoaded",value:function(){return this.isImageLoaded()?this.imageLoaded():this.image.onload=this.imageLoaded}},{key:"isImageLoaded",value:function(){return!!this.image.complete&&(null==this.image.naturalWidth||0!==this.image.naturalWidth)}},{key:"imageWidth",value:function(){return this.image.width||this.image.naturalWidth}},{key:"imageHeight",value:function(){return this.image.height||this.image.naturalHeight}},{key:"imageLoaded",value:function(){return _logger.Log.debug("Image loaded. Width = ".concat(this.imageWidth(),", Height = ").concat(this.imageHeight())),this.swapped?(this.canvas.width=this.imageWidth()/this.hiDPIRatio(),this.canvas.height=this.imageHeight()/this.hiDPIRatio()):(this.canvas.width=this.imageWidth(),this.canvas.height=this.imageHeight()),this.finishInit()}},{key:"finishInit",value:function(){if(null==this.context&&(this.context=this.canvas.getContext("2d")),this.originalWidth=this.preScaledWidth=this.width=this.canvas.width,this.originalHeight=this.preScaledHeight=this.height=this.canvas.height,this.hiDPIAdjustments(),this.hasId()||this.assignId(),null!=this.image&&this.context.drawImage(this.image,0,0,this.imageWidth(),this.imageHeight(),0,0,this.preScaledWidth,this.preScaledHeight),this.imageData=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),this.pixelData=this.imageData.data,Caman.allowRevert){this.initializedPixelData=_util.Util.dataArray(this.pixelData.length),this.originalPixelData=_util.Util.dataArray(this.pixelData.length);for(var e=0;e<this.pixelData.length;e++){var t=this.pixelData[e];this.initializedPixelData[e]=t,this.originalPixelData[e]=t}}return this.dimensions={width:this.canvas.width,height:this.canvas.height},_store.default.put(this.id,this),this.callback.call(this,this),this.callback=function(){}}},{key:"reloadCanvasData",value:function(){return this.imageData=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),this.pixelData=this.imageData.data}},{key:"resetOriginalPixelData",value:function(){var e=this;if(!Caman.allowRevert)throw"Revert disabled";return this.originalPixelData=_util.Util.dataArray(this.pixelData.length),Array.from(this.pixelData).map((function(t,n){return e.originalPixelData[n]=t}))}},{key:"hasId",value:function(){return null!=Caman.getAttrId(this.canvas)}},{key:"assignId",value:function(){if(!this.canvas.getAttribute("data-caman-id"))return this.canvas.setAttribute("data-caman-id",this.id)}},{key:"hiDPIDisabled",value:function(){return null!==this.canvas.getAttribute("data-caman-hidpi-disabled")}},{key:"hiDPIAdjustments",value:function(){if(this.needsHiDPISwap()){var e=this.hiDPIRatio();return 1!==e?(_logger.Log.debug("HiDPI ratio = ".concat(e)),this.scaled=!0,this.preScaledWidth=this.canvas.width,this.preScaledHeight=this.canvas.height,this.canvas.width=this.preScaledWidth*e,this.canvas.height=this.preScaledHeight*e,this.canvas.style.width="".concat(this.preScaledWidth,"px"),this.canvas.style.height="".concat(this.preScaledHeight,"px"),this.context.scale(e,e),this.width=this.originalWidth=this.canvas.width,this.height=this.originalHeight=this.canvas.height):void 0}}},{key:"hiDPIRatio",value:function(){return(window.devicePixelRatio||1)/(this.context.webkitBackingStorePixelRatio||this.context.mozBackingStorePixelRatio||this.context.msBackingStorePixelRatio||this.context.oBackingStorePixelRatio||this.context.backingStorePixelRatio||1)}},{key:"hiDPICapable",value:function(){return null!=window.devicePixelRatio&&1!==window.devicePixelRatio}},{key:"needsHiDPISwap",value:function(){return!(this.hiDPIDisabled()||!this.hiDPICapable())&&null!==this.hiDPIReplacement()}},{key:"hiDPIReplacement",value:function(){return null==this.image?null:this.image.getAttribute("data-caman-hidpi")}},{key:"replaceCanvas",value:function(e){var t=this.canvas;return this.canvas=e,this.context=this.canvas.getContext("2d"),t.parentNode.replaceChild(this.canvas,t),this.width=this.canvas.width,this.height=this.canvas.height,this.reloadCanvasData(),this.dimensions={width:this.canvas.width,height:this.canvas.height}}},{key:"render",value:function(e){var t=this;return null==e&&(e=function(){}),Caman.Event.trigger(this,"renderStart"),this.renderer.execute((function(){return t.context.putImageData(t.imageData,0,0),e.call(t)}))}},{key:"revert",value:function(e){if(null==e&&(e=!0),!Caman.allowRevert)throw"Revert disabled";for(var t=this.originalVisiblePixels(),n=0;n<t.length;n++){var r=t[n];this.pixelData[n]=r}if(e)return this.context.putImageData(this.imageData,0,0)}},{key:"reset",value:function(){var e=document.createElement("canvas");_util.Util.copyAttributes(this.canvas,e),e.width=this.originalWidth,e.height=this.originalHeight;for(var t=e.getContext("2d"),n=t.getImageData(0,0,e.width,e.height),r=n.data,o=0;o<this.initializedPixelData.length;o++){var i=this.initializedPixelData[o];r[o]=i}return t.putImageData(n,0,0),this.cropCoordinates={x:0,y:0},this.resized=!1,this.angle=0,this.rotated=!1,this.replaceCanvas(e)}},{key:"originalVisiblePixels",value:function(){var e,t,n,r;if(!Caman.allowRevert)throw"Revert disabled";var o=[],i=this.cropCoordinates.x,a=i+this.width,c=this.cropCoordinates.y,s=c+this.height;if(this.resized){var l=document.createElement("canvas");l.width=this.originalWidth,l.height=this.originalHeight;var u=l.getContext("2d"),f=u.getImageData(0,0,l.width,l.height);for(t=f.data,e=0;e<this.originalPixelData.length;e++){var p=this.originalPixelData[e];t[e]=p}u.putImageData(f,0,0);var d=document.createElement("canvas");d.width=this.width,d.height=this.height,(u=d.getContext("2d")).drawImage(l,0,0,this.originalWidth,this.originalHeight,0,0,this.width,this.height),t=u.getImageData(0,0,this.width,this.height).data,n=this.width}else if(this.rotated){var h=document.createElement("canvas");h.width=this.originalWidth,h.height=this.originalHeight;var m=h.getContext("2d"),g=m.getImageData(0,0,h.width,h.height);t=g.data;var v,b,y,w,x=this.originalPixelData;for(v=b=0,y=x.length;b<y;v=++b)w=x[v],t[v]=w;m.putImageData(g,0,0);var O=document.createElement("canvas"),S=O.getContext("2d");O.width=this.canvas.width,O.height=this.canvas.height;var C=O.width/2,k=O.height/2;S.save(),S.translate(C,k),S.rotate(this.angle*Math.PI/180),S.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),S.restore(),t=S.getImageData(0,0,O.width,O.height).data,n=O.width}else t=this.originalPixelData,n=this.originalWidth;for(e=0,r=t.length;e<r;e+=4){var _=Caman.Pixel.locationToCoordinates(e,n);i<=_.x&&_.x<a&&c<=_.y&&_.y<s&&o.push(t[e],t[e+1],t[e+2],t[e+3])}return o}},{key:"process",value:function(e,t){return this.renderer.add({type:Caman.Filter.Type.Single,name:e,processFn:t}),this}},{key:"processKernel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;if(null==r&&(r=0),null==n){n=0;for(var o=0,i=t.length,a=0<=i;a?o<i:o>i;a?o++:o--)n+=t[o]}return this.renderer.add({type:Caman.Filter.Type.Kernel,name:e,adjust:t,divisor:n,bias:r}),this}},{key:"processPlugin",value:function(e,t){return this.renderer.add({type:Caman.Filter.Type.Plugin,plugin:e,args:t}),this}},{key:"newLayer",value:function(e){var t=new Caman.Layer(this);return this.canvasQueue.push(t),this.renderer.add({type:Caman.Filter.Type.LayerDequeue}),e.call(t),this.renderer.add({type:Caman.Filter.Type.LayerFinished}),this}},{key:"executeLayer",value:function(e){return this.pushContext(e)}},{key:"pushContext",value:function(e){return this.layerStack.push(this.currentLayer),this.pixelStack.push(this.pixelData),this.currentLayer=e,this.pixelData=e.pixelData}},{key:"popContext",value:function(){return this.pixelData=this.pixelStack.pop(),this.currentLayer=this.layerStack.pop()}},{key:"applyCurrentLayer",value:function(){return this.currentLayer.applyToParent()}},{key:"save",value:function(){return this.browserSave.apply(this,arguments)}},{key:"browserSave",value:function(e){null==e&&(e="png"),e=e.toLowerCase();var t=this.toBase64(e).replace("image/".concat(e),"image/octet-stream");return document.location.href=t}},{key:"toImage",value:function(e){var t=new Image;return t.src=this.toBase64(e),t.width=this.dimensions.width,t.height=this.dimensions.height,window.devicePixelRatio&&(t.width/=window.devicePixelRatio,t.height/=window.devicePixelRatio),t}},{key:"toBase64",value:function(e){return null==e&&(e="png"),e=e.toLowerCase(),this.canvas.toDataURL("image/".concat(e))}}]),Caman}(_module.default);Caman.initClass(),window.Caman=Caman;var _default=Caman;exports.default=_default},898:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=["extended","included"],i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"extends",value:function(e){for(var t in e){var n=e[t];Array.from(o).includes(t)||(this[t]=n)}return null!=e.extended&&e.extended.apply(this),this}},{key:"includes",value:function(e){for(var t in e){var n=e[t];Array.from(o).includes(t)||(this.prototype[t]=n)}return null!=e.included&&e.included.apply(this),this}},{key:"delegate",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n.pop();return Array.from(n).map((function(t){return e.prototype[t]=o.prototype[t]}))}},{key:"aliasFunction",value:function(e,t){var n=this;return this.prototype[e]=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n.prototype[t].apply(n,r)}}},{key:"aliasProperty",value:function(e,t){return Object.defineProperty(this.prototype,e,{get:function(){return this[t]},set:function(e){return this[t]=e}})}},{key:"included",value:function(e){return e.call(this,this.prototype)}}],(n=null)&&r(t.prototype,n),i&&r(t,i),e}();t.default=i},899:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"initClass",value:function(){this.items={}}},{key:"has",value:function(e){return null!=this.items[e]}},{key:"get",value:function(e){return this.items[e]}},{key:"put",value:function(e,t){return this.items[e]=t}},{key:"execute",value:function(e,t){var n=this;return setTimeout((function(){return t.call(n.get(e),n.get(e))}),0),this.get(e)}},{key:"flush",value:function(e){return null==e&&(e=!1),e?delete this.items[e]:this.items={}}}],(n=null)&&r(t.prototype,n),o&&r(t,o),e}();o.initClass();var i=o;t.default=i},900:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(711),o=n(717);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.processNext=this.processNext.bind(this),this.c=t,this.renderQueue=[],this.modPixelData=null}return a(e,null,[{key:"initClass",value:function(){this.Blocks=4}}]),a(e,[{key:"add",value:function(e){if(null!=e)return this.renderQueue.push(e)}},{key:"processNext",value:function(){if(0===this.renderQueue.length)return Caman.Event.trigger(this,"renderFinished"),null!=this.finishedFn&&this.finishedFn.call(this.c),this;switch(this.currentJob=this.renderQueue.shift(),this.currentJob.type){case Caman.Filter.Type.LayerDequeue:var e=this.c.canvasQueue.shift();return this.c.executeLayer(e),this.processNext();case Caman.Filter.Type.LayerFinished:return this.c.applyCurrentLayer(),this.c.popContext(),this.processNext();case Caman.Filter.Type.LoadOverlay:return this.loadOverlay(this.currentJob.layer,this.currentJob.src);case Caman.Filter.Type.LoadLayerMask:return this.loadLayerMask(this.currentJob.layer,this.currentJob.src);case Caman.Filter.Type.Plugin:return this.executePlugin();default:return this.executeFilter()}}},{key:"execute",value:function(e){return this.finishedFn=e,this.modPixelData=r.Util.dataArray(this.c.pixelData.length),this.processNext()}},{key:"eachBlock",value:function(t){var n=this;this.blocksDone=0;var r=this.c.pixelData.length,o=4*Math.floor(r/4/e.Blocks),i=o+r/4%e.Blocks*4;return function(){for(var r=[],a=0,c=e.Blocks,s=0<=c;s?a<c:a>c;s?a++:a--){var l=a*o,u=l+(a===e.Blocks-1?i:o);if(Caman.NodeJS){var f=Fiber((function(){return t.call(n,a,l,u)})).run();r.push(n.blockFinished(f))}else r.push(setTimeout(function(e,r,o){return function(){return t.call(n,e,r,o)}}(a,l,u),0))}return r}()}},{key:"executeFilter",value:function(){return Caman.Event.trigger(this.c,"processStart",this.currentJob),this.currentJob.type===Caman.Filter.Type.Single?this.eachBlock(this.renderBlock):this.eachBlock(this.renderKernel)}},{key:"executePlugin",value:function(){return o.Log.debug("Executing plugin ".concat(this.currentJob.plugin)),Caman.Plugin.execute(this.c,this.currentJob.plugin,this.currentJob.args),o.Log.debug("Plugin ".concat(this.currentJob.plugin," finished!")),this.processNext()}},{key:"renderBlock",value:function(t,n,i){o.Log.debug("Block #".concat(t," - Filter: ").concat(this.currentJob.name,", Start: ").concat(n,", End: ").concat(i)),Caman.Event.trigger(this.c,"blockStarted",{blockNum:t,totalBlocks:e.Blocks,startPixel:n,endPixel:i});var a=new Caman.Pixel;a.setContext(this.c);for(var c=n,s=i;c<s;c+=4)a.loc=c,a.r=this.c.pixelData[c],a.g=this.c.pixelData[c+1],a.b=this.c.pixelData[c+2],a.a=this.c.pixelData[c+3],this.currentJob.processFn(a),this.c.pixelData[c]=r.Util.clampRGB(a.r),this.c.pixelData[c+1]=r.Util.clampRGB(a.g),this.c.pixelData[c+2]=r.Util.clampRGB(a.b),this.c.pixelData[c+3]=r.Util.clampRGB(a.a);return this.blockFinished(t)}},{key:"renderKernel",value:function(e,t,n){this.currentJob.name;var i=this.currentJob.bias,a=this.currentJob.divisor,c=this.c.pixelData.length,s=this.currentJob.adjust,l=Math.sqrt(s.length),u=[];o.Log.debug("Rendering kernel - Filter: ".concat(this.currentJob.name)),t=Math.max(t,4*this.c.dimensions.width*((l-1)/2)),n=Math.min(n,c-4*this.c.dimensions.width*((l-1)/2));var f=(l-1)/2,p=new Caman.Pixel;p.setContext(this.c);for(var d=t,h=n;d<h;d+=4){p.loc=d;for(var m=0,g=-f,v=f,b=-f<=v;b?g<=v:g>=v;b?g++:g--)for(var y=f,w=-f,x=f<=w;x?y<=w:y>=w;x?y++:y--){var O=p.getPixelRelative(g,y);u[3*m]=O.r,u[3*m+1]=O.g,u[3*m+2]=O.b,m++}var S=this.processKernel(s,u,a,i);this.modPixelData[d]=r.Util.clampRGB(S.r),this.modPixelData[d+1]=r.Util.clampRGB(S.g),this.modPixelData[d+2]=r.Util.clampRGB(S.b),this.modPixelData[d+3]=this.c.pixelData[d+3]}return this.blockFinished(e)}},{key:"blockFinished",value:function(t){if(t>=0&&o.Log.debug("Block #".concat(t," finished! Filter: ").concat(this.currentJob.name)),this.blocksDone++,Caman.Event.trigger(this.c,"blockFinished",{blockNum:t,blocksFinished:this.blocksDone,totalBlocks:e.Blocks}),this.blocksDone===e.Blocks){if(this.currentJob.type===Caman.Filter.Type.Kernel)for(var n=0,r=this.c.pixelData.length,i=0<=r;i?n<r:n>r;i?n++:n--)this.c.pixelData[n]=this.modPixelData[n];return t>=0&&o.Log.debug("Filter ".concat(this.currentJob.name," finished!")),Caman.Event.trigger(this.c,"processComplete",this.currentJob),this.processNext()}}},{key:"processKernel",value:function(e,t,n,r){for(var o={r:0,g:0,b:0},i=0,a=e.length,c=0<=a;c?i<a:i>a;c?i++:i--)o.r+=e[i]*t[3*i],o.g+=e[i]*t[3*i+1],o.b+=e[i]*t[3*i+2];return o.r=o.r/n+r,o.g=o.g/n+r,o.b=o.b/n+r,o}},{key:"loadOverlay",value:function(e,t){var n=this,r=new Image;r.onload=function(){return e.context.drawImage(r,0,0,n.c.dimensions.width,n.c.dimensions.height),e.imageData=e.context.getImageData(0,0,n.c.dimensions.width,n.c.dimensions.height),e.pixelData=e.imageData.data,n.c.pixelData=e.pixelData,n.processNext()};var o=Caman.IO.remoteCheck(t);return r.src=null!=o?o:t}},{key:"loadLayerMask",value:function(e,t){var n=this,r=new Image;r.onload=function(){var t=document.createElement("canvas");t.width=n.c.dimensions.width,t.height=n.c.dimensions.height;var o=t.getContext("2d");o.drawImage(r,0,0,n.c.dimensions.width,n.c.dimensions.height);var i=o.getImageData(0,0,n.c.dimensions.width,n.c.dimensions.height);return e.maskData=i.data,n.processNext()};var o=Caman.IO.remoteCheck(t);return r.src=null!=o?o:t}}]),e}();c.initClass();var s=c;t.default=s},901:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"distance",value:function(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}},{key:"randomRange",value:function(e,t,n){null==n&&(n=!1);var r=e+Math.random()*(t-e);return n?r.toFixed(n):Math.round(r)}},{key:"luminance",value:function(e){return.299*e.r+.587*e.g+.114*e.b}},{key:"bezier",value:function(e,t,n,r,o,i){var a;if(null==o&&(o=0),null==i&&(i=255),e[0]instanceof Array?(a=e,o=t,i=n):a=[e,t,n,r],a.length<2)throw"Invalid number of arguments to bezier";for(var c,s,l,u={},f=function(e,t,n){return e*(1-n)+t*n},p=0;p<1e3;p++){for(var d=p/1e3,h=a;h.length>1;){for(var m=[],g=0,v=h.length-2,b=0<=v;b?g<=v:g>=v;b?g++:g--)m.push([f(h[g][0],h[g+1][0],d),f(h[g][1],h[g+1][1],d)]);h=m}u[Math.round(h[0][0])]=Math.round((c=h[0][1],s=o,l=i,Math.min(Math.max(c,s),l)))}var y=a[a.length-1][0];return u=Caman.Calculate.missingValues(u,y),null==u[y]&&(u[y]=u[y-1]),u}},{key:"hermite",value:function(e,t,n){if(e.length<2)throw"Invalid number of arguments to hermite";for(var r,o,i,a,c={},s=function(e,t){return[e[0]*t[0],e[1]*t[1]]},l=function(e,t){return[e[0]-t[0],e[1]-t[1]]},u=function(e,t,n){return Math.min(Math.max(e,t),n)},f=0,p=e.length-2,d=0<=p;d?f<=p:f>=p;d?f++:f--){var h=e[f],m=e[f+1],g=m[0]-h[0],v=1/g;f===e.length-2&&(v=1/(g-1));for(var b=f>0?e[f-1]:h,y=s(l(m,b),[.5,.5]),w=s(l(b=f<e.length-2?e[f+2]:m,h),[.5,.5]),x=0,O=g,S=0<=O;S?x<=O:x>=O;S?x++:x--){var C=x*v,k=2*C*C*C-3*C*C+1,_=C*C*C-2*C*C+C,E=-2*C*C*C+3*C*C,P=C*C*C-C*C,j=(r=s(h,[k,k]),o=s(y,[_,_]),i=s(m,[E,E]),a=s(w,[P,P]),[r[0]+o[0]+i[0]+a[0],r[1]+o[1]+i[1]+a[1]]);c[Math.round(j[0])]=Math.round(u(j[1],t,n))}}var R=e[e.length-1][0];return c=Caman.Calculate.missingValues(c,R)}},{key:"missingValues",value:function(e,t){var n,r,o,i,a,c,s;if(Object.keys(e).length<t+1){for(i={},n=c=0;0<=t?c<=t:c>=t;n=0<=t?++c:--c)if(null!=e[n])i[n]=e[n];else{for(o=[n-1,i[n-1]],r=s=n;n<=t?s<=t:s>=t;r=n<=t?++s:--s)if(null!=e[r]){a=[r,e[r]];break}a||(a=[0,0]),i[n]=o[1]+(a[1]-o[1])/(a[0]-o[0])*(n-o[0])}return i}return e}}],(n=null)&&r(t.prototype,n),o&&r(t,o),e}();Caman.Calculate=o},902:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"hexToRGB",value:function(e){return"#"===e.charAt(0)&&(e=e.substr(1)),{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16)}}},{key:"rgbToHSL",value:function(e,t,n){var o,i;"object"===r(e)&&(t=e.g,n=e.b,e=e.r),e/=255,t/=255,n/=255;var a=Math.max(e,t,n),c=Math.min(e,t,n),s=(a+c)/2;if(a===c)o=i=0;else{var l=a-c;i=s>.5?l/(2-a-c):l/(a+c),o=function(){switch(a){case e:return(t-n)/l+(t<n?6:0);case t:return(n-e)/l+2;case n:return(e-t)/l+4}}(),o/=6}return{h:o,s:i,l:s}}},{key:"hslToRGB",value:function(e,t,n){var o,i,a;if("object"===r(e)&&(t=e.s,n=e.l,e=e.h),0===t)a=i=o=n;else{var c=n<.5?n*(1+t):n+t-n*t,s=2*n-c;a=this.hueToRGB(s,c,e+1/3),i=this.hueToRGB(s,c,e),o=this.hueToRGB(s,c,e-1/3)}return{r:255*a,g:255*i,b:255*o}}},{key:"hueToRGB",value:function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}},{key:"rgbToHSV",value:function(e,t,n){var r;e/=255,t/=255,n/=255;var o=Math.max(e,t,n),i=Math.min(e,t,n),a=o,c=o-i,s=0===o?0:c/o;return o===i?r=0:(r=function(){switch(o){case e:return(t-n)/c+(t<n?6:0);case t:return(n-e)/c+2;case n:return(e-t)/c+4}}(),r/=6),{h:r,s:s,v:a}}},{key:"hsvToRGB",value:function(e,t,n){var r,o,i,a=Math.floor(6*e),c=6*e-a,s=n*(1-t),l=n*(1-c*t),u=n*(1-(1-c)*t);switch(a%6){case 0:i=n,o=u,r=s;break;case 1:i=l,o=n,r=s;break;case 2:i=s,o=n,r=u;break;case 3:i=s,o=l,r=n;break;case 4:i=u,o=s,r=n;break;case 5:i=n,o=s,r=l}return{r:Math.floor(255*i),g:Math.floor(255*o),b:Math.floor(255*r)}}},{key:"rgbToXYZ",value:function(e,t,n){return t/=255,n/=255,(e/=255)>.04045?e=Math.pow((e+.055)/1.055,2.4):e/=12.92,t>.04045?t=Math.pow((t+.055)/1.055,2.4):t/=12.92,n>.04045?n=Math.pow((n+.055)/1.055,2.4):n/=12.92,{x:100*(.4124*e+.3576*t+.1805*n),y:100*(.2126*e+.7152*t+.0722*n),z:100*(.0193*e+.1192*t+.9505*n)}}},{key:"xyzToRGB",value:function(e,t,n){var r=3.2406*(e/=100)+-1.5372*(t/=100)+-.4986*(n/=100),o=-.9689*e+1.8758*t+.0415*n,i=.0557*e+-.204*t+1.057*n;return r>.0031308?r=1.055*Math.pow(r,.4166666667)-.055:r*=12.92,o>.0031308?o=1.055*Math.pow(o,.4166666667)-.055:o*=12.92,i>.0031308?i=1.055*Math.pow(i,.4166666667)-.055:i*=12.92,{r:255*r,g:255*o,b:255*i}}},{key:"xyzToLab",value:function(e,t,n){return"object"===r(e)&&(t=e.y,n=e.z,e=e.x),t/=100,n/=108.883,e=(e/=95.047)>.008856451679?Math.pow(e,.3333333333):7.787037037*e+.1379310345,{l:116*(t=t>.008856451679?Math.pow(t,.3333333333):7.787037037*t+.1379310345)-16,a:500*(e-t),b:200*(t-(n=n>.008856451679?Math.pow(n,.3333333333):7.787037037*n+.1379310345))}}},{key:"labToXYZ",value:function(e,t,n){"object"===r(e)&&(t=e.a,n=e.b,e=e.l);var o=(e+16)/116,i=o+t/500,a=o-n/200;return i>.2068965517?i*=i*i:i=.1284185493*(i-.1379310345),o>.2068965517?o*=o*o:o=.1284185493*(o-.1379310345),a>.2068965517?a*=a*a:a=.1284185493*(a-.1379310345),{x:95.047*i,y:100*o,z:108.883*a}}},{key:"rgbToLab",value:function(e,t,n){"object"===r(e)&&(t=e.g,n=e.b,e=e.r);var o=this.rgbToXYZ(e,t,n);return this.xyzToLab(o)}},{key:"labToRGB",value:function(e,t,n){}}],(n=null)&&o(t.prototype,n),i&&o(t,i),e}();Caman.Convert=i},903:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"initClass",value:function(){this.events={},this.types=["processStart","processComplete","renderStart","renderFinished","blockStarted","blockFinished"]}},{key:"trigger",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.events[t]&&this.events[t].length)return function(){for(var o=[],i=0,a=Array.from(n.events[t]);i<a.length;i++){var c=a[i];null===c.target||e.id===c.target.id?o.push(c.fn.call(e,r)):o.push(void 0)}return o}()}},{key:"listen",value:function(e,t,n){if("string"==typeof e){var r=e,o=t;e=null,t=r,n=o}return!!Array.from(this.types).includes(t)&&(this.events[t]||(this.events[t]=[]),this.events[t].push({target:e,fn:n}),!0)}}],(n=null)&&r(t.prototype,n),o&&r(t,o),e}();o.initClass(),Caman.Event=o},904:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"initClass",value:function(){this.Type={Single:1,Kernel:2,LayerDequeue:3,LayerFinished:4,LoadOverlay:5,LoadLayerMask:7,Plugin:6}}},{key:"register",value:function(e,t){return window.Caman.prototype[e]=t}}],(n=null)&&r(t.prototype,n),o&&r(t,o),e}();o.initClass(),Caman.Filter=o},905:function(e,t,n){"use strict";var r=n(717);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"initClass",value:function(){this.domainRegex=/(?:(?:http|https):\/\/)((?:\w+)\.(?:(?:\w|\.)+))/}},{key:"isRemote",value:function(e){return null!=e&&!this.corsEnabled(e)&&this.isURLRemote(e.src)}},{key:"corsEnabled",value:function(e){var t;return null!=e.crossOrigin&&(t=e.crossOrigin.toLowerCase(),["anonymous","use-credentials"].includes(t))}},{key:"isURLRemote",value:function(e){var t=e.match(this.domainRegex);return!!t&&t[1]!==document.domain}},{key:"remoteCheck",value:function(e){if(this.isURLRemote(e))return Caman.remoteProxy.length?Caman.isURLRemote(Caman.remoteProxy)?void r.Log.info("Cannot use a remote proxy for loading images."):this.proxyUrl(e):void r.Log.info("Attempting to load a remote image without a configured proxy. URL: ".concat(e))}},{key:"proxyUrl",value:function(e){return"".concat(Caman.remoteProxy,"?").concat(Caman.proxyParam,"=").concat(encodeURIComponent(e))}},{key:"useProxy",value:function(e){var t={ruby:"rb",python:"py",perl:"pl",javascript:"js"};return null!=t[e=e.toLowerCase()]&&(e=t[e]),"proxies/caman_proxy.".concat(e)}}],(n=null)&&o(t.prototype,n),i&&o(t,i),e}();i.initClass(),Caman.IO=i},906:function(e,t,n){"use strict";var r,o=n(711),i=(r=n(743))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.c=t,this.filter=this.c,this.options={blendingMode:"normal",opacity:1},this.layerID=o.Util.uniqid.get(),this.canvas=document.createElement("canvas"),this.canvas.width=this.c.dimensions.width,this.canvas.height=this.c.dimensions.height,this.context=this.canvas.getContext("2d"),this.context.createImageData(this.canvas.width,this.canvas.height),this.imageData=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),this.pixelData=this.imageData.data}var t,n,r;return t=e,(n=[{key:"newLayer",value:function(e){return this.c.newLayer.call(this.c,e)}},{key:"setBlendingMode",value:function(e){return this.options.blendingMode=e,this}},{key:"opacity",value:function(e){return this.options.opacity=e/100,this}},{key:"copyParent",value:function(){for(var e=this.c.pixelData,t=0,n=this.c.pixelData.length;t<n;t+=4)this.pixelData[t]=e[t],this.pixelData[t+1]=e[t+1],this.pixelData[t+2]=e[t+2],this.pixelData[t+3]=e[t+3];return this}},{key:"fillColor",value:function(){return this.c.fillColor.apply(this.c,arguments)}},{key:"overlayImage",value:function(e){return"object"===a(e)?e=e.src:"string"==typeof e&&"#"===e[0]&&(e=(0,o.$)(e).src),e?(this.c.renderer.renderQueue.push({type:Caman.Filter.Type.LoadOverlay,src:e,layer:this}),this):this}},{key:"layerMask",value:function(e){return"object"===a(e)?e=e.src:"string"==typeof e&&"#"===e[0]&&(e=(0,o.$)(e).src),e?(this.c.renderer.renderQueue.push({type:Caman.Filter.Type.LoadLayerMask,src:e,layer:this}),this):this}},{key:"applyToParent",value:function(){var e=this,t=this.c.pixelStack[this.c.pixelStack.length-1],n=this.c.pixelData,r=this.options.opacity;return function(){for(var a=[],c=0,s=n.length;c<s;c+=4){var l={r:t[c],g:t[c+1],b:t[c+2],a:t[c+3]},u={r:n[c],g:n[c+1],b:n[c+2],a:n[c+3]};e.maskData&&(r=e.maskData[c]/255);var f=i.default.execute(e.options.blendingMode,u,l);f.r=o.Util.clampRGB(f.r),f.g=o.Util.clampRGB(f.g),f.b=o.Util.clampRGB(f.b),null==f.a&&(f.a=u.a),t[c]=l.r-(l.r-f.r)*(r*(f.a/255)),t[c+1]=l.g-(l.g-f.g)*(r*(f.a/255)),a.push(t[c+2]=l.b-(l.b-f.b)*(r*(f.a/255)))}return a}()}}])&&c(t.prototype,n),r&&c(t,r),e}();Caman.Layer=s},907:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var a=function(){function e(t,n,o,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;r(this,e),null==t&&(t=0),this.r=t,null==n&&(n=0),this.g=n,null==o&&(o=0),this.b=o,null==i&&(i=255),this.a=i,this.c=a,this.loc=0}return i(e,null,[{key:"coordinatesToLocation",value:function(e,t,n){return 4*(t*n+e)}},{key:"locationToCoordinates",value:function(e,t){return{x:e%(4*t)/4,y:Math.floor(e/(4*t))}}}]),i(e,[{key:"setContext",value:function(e){return this.c=e}},{key:"locationXY",value:function(){if(null==this.c)throw"Requires a CamanJS context";var e=this.c.dimensions.height-Math.floor(this.loc/(4*this.c.dimensions.width));return{x:this.loc%(4*this.c.dimensions.width)/4,y:e}}},{key:"pixelAtLocation",value:function(t){if(null==this.c)throw"Requires a CamanJS context";return new e(this.c.pixelData[t],this.c.pixelData[t+1],this.c.pixelData[t+2],this.c.pixelData[t+3],this.c)}},{key:"getPixelRelative",value:function(t,n){if(null==this.c)throw"Requires a CamanJS context";var r=this.loc+4*this.c.dimensions.width*(-1*n)+4*t;return r>this.c.pixelData.length||r<0?new e(0,0,0,255,this.c):this.pixelAtLocation(r)}},{key:"putPixelRelative",value:function(e,t,n){if(null==this.c)throw"Requires a CamanJS context";this.loc,this.c.dimensions.width;if(!(newLoc>this.c.pixelData.length||newLoc<0))return this.c.pixelData[newLoc]=n.r,this.c.pixelData[newLoc+1]=n.g,this.c.pixelData[newLoc+2]=n.b,this.c.pixelData[newLoc+3]=n.a,!0}},{key:"getPixel",value:function(e,t){if(null==this.c)throw"Requires a CamanJS context";var n=this.coordinatesToLocation(e,t,this.width);return this.pixelAtLocation(n)}},{key:"putPixel",value:function(e,t,n){if(null==this.c)throw"Requires a CamanJS context";var r=this.coordinatesToLocation(e,t,this.width);return this.c.pixelData[r]=n.r,this.c.pixelData[r+1]=n.g,this.c.pixelData[r+2]=n.b,this.c.pixelData[r+3]=n.a}},{key:"toString",value:function(){return this.toKey()}},{key:"toHex",value:function(e){null==e&&(e=!1);var t="#"+this.r.toString(16)+this.g.toString(16)+this.b.toString(16);return e?t+this.a.toString(16):t}}]),e}();Caman.Pixel=a},908:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"initClass",value:function(){this.plugins={}}},{key:"register",value:function(e,t){return this.plugins[e]=t}},{key:"execute",value:function(e,t,n){return this.plugins[t].apply(e,n)}}],(n=null)&&r(t.prototype,n),o&&r(t,o),e}();o.initClass(),Caman.Plugin=o},909:function(e,t,n){"use strict";var r,o=(r=n(743))&&r.__esModule?r:{default:r};o.default.register("normal",(function(e,t){return{r:e.r,g:e.g,b:e.b}})),o.default.register("multiply",(function(e,t){return{r:e.r*t.r/255,g:e.g*t.g/255,b:e.b*t.b/255}})),o.default.register("screen",(function(e,t){return{r:255-(255-e.r)*(255-t.r)/255,g:255-(255-e.g)*(255-t.g)/255,b:255-(255-e.b)*(255-t.b)/255}})),o.default.register("overlay",(function(e,t){var n;return(n={}).r=t.r>128?255-2*(255-e.r)*(255-t.r)/255:t.r*e.r*2/255,n.g=t.g>128?255-2*(255-e.g)*(255-t.g)/255:t.g*e.g*2/255,n.b=t.b>128?255-2*(255-e.b)*(255-t.b)/255:t.b*e.b*2/255,n})),o.default.register("difference",(function(e,t){return{r:e.r-t.r,g:e.g-t.g,b:e.b-t.b}})),o.default.register("addition",(function(e,t){return{r:t.r+e.r,g:t.g+e.g,b:t.b+e.b}})),o.default.register("exclusion",(function(e,t){return{r:128-2*(t.r-128)*(e.r-128)/255,g:128-2*(t.g-128)*(e.g-128)/255,b:128-2*(t.b-128)*(e.b-128)/255}})),o.default.register("softLight",(function(e,t){var n;return(n={}).r=t.r>128?255-(255-t.r)*(255-(e.r-128))/255:t.r*(e.r+128)/255,n.g=t.g>128?255-(255-t.g)*(255-(e.g-128))/255:t.g*(e.g+128)/255,n.b=t.b>128?255-(255-t.b)*(255-(e.b-128))/255:t.b*(e.b+128)/255,n})),o.default.register("lighten",(function(e,t){return{r:t.r>e.r?t.r:e.r,g:t.g>e.g?t.g:e.g,b:t.b>e.b?t.b:e.b}})),o.default.register("darken",(function(e,t){return{r:t.r>e.r?e.r:t.r,g:t.g>e.g?e.g:t.g,b:t.b>e.b?e.b:t.b}}))},910:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Caman.Filter.register("fillColor",(function(){var e;return e=1===arguments.length?Caman.Convert.hexToRGB(arguments[0]):{r:arguments[0],g:arguments[1],b:arguments[2]},this.process("fillColor",(function(t){return t.r=e.r,t.g=e.g,t.b=e.b,t.a=255,t}))})),Caman.Filter.register("brightness",(function(e){return e=Math.floor(e/100*255),this.process("brightness",(function(t){return t.r+=e,t.g+=e,t.b+=e,t}))})),Caman.Filter.register("saturation",(function(e){return e*=-.01,this.process("saturation",(function(t){var n;return n=Math.max(t.r,t.g,t.b),t.r!==n&&(t.r+=(n-t.r)*e),t.g!==n&&(t.g+=(n-t.g)*e),t.b!==n&&(t.b+=(n-t.b)*e),t}))})),Caman.Filter.register("vibrance",(function(e){return e*=-1,this.process("vibrance",(function(t){var n,r,o;return o=Math.max(t.r,t.g,t.b),r=(t.r+t.g+t.b)/3,n=2*Math.abs(o-r)/255*e/100,t.r!==o&&(t.r+=(o-t.r)*n),t.g!==o&&(t.g+=(o-t.g)*n),t.b!==o&&(t.b+=(o-t.b)*n),t}))})),Caman.Filter.register("greyscale",(function(e){return this.process("greyscale",(function(e){var t;return t=Caman.Calculate.luminance(e),e.r=t,e.g=t,e.b=t,e}))})),Caman.Filter.register("contrast",(function(e){return e=Math.pow((e+100)/100,2),this.process("contrast",(function(t){return t.r/=255,t.r-=.5,t.r*=e,t.r+=.5,t.r*=255,t.g/=255,t.g-=.5,t.g*=e,t.g+=.5,t.g*=255,t.b/=255,t.b-=.5,t.b*=e,t.b+=.5,t.b*=255,t}))})),Caman.Filter.register("hue",(function(e){return this.process("hue",(function(t){var n,r,o,i,a,c;return o=100*(i=Caman.Convert.rgbToHSV(t.r,t.g,t.b)).h,o+=Math.abs(e),o%=100,o/=100,i.h=o,a=(c=Caman.Convert.hsvToRGB(i.h,i.s,i.v)).r,r=c.g,n=c.b,t.r=a,t.g=r,t.b=n,t}))})),Caman.Filter.register("colorize",(function(){var e,t;return 2===arguments.length?(t=Caman.Convert.hexToRGB(arguments[0]),e=arguments[1]):4===arguments.length&&(t={r:arguments[0],g:arguments[1],b:arguments[2]},e=arguments[3]),this.process("colorize",(function(n){return n.r-=(n.r-t.r)*(e/100),n.g-=(n.g-t.g)*(e/100),n.b-=(n.b-t.b)*(e/100),n}))})),Caman.Filter.register("invert",(function(){return this.process("invert",(function(e){return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,e}))})),Caman.Filter.register("sepia",(function(e){return null==e&&(e=100),e/=100,this.process("sepia",(function(t){return t.r=Math.min(255,t.r*(1-.607*e)+t.g*(.769*e)+t.b*(.189*e)),t.g=Math.min(255,t.r*(.349*e)+t.g*(1-.314*e)+t.b*(.168*e)),t.b=Math.min(255,t.r*(.272*e)+t.g*(.534*e)+t.b*(1-.869*e)),t}))})),Caman.Filter.register("gamma",(function(e){return this.process("gamma",(function(t){return t.r=255*Math.pow(t.r/255,e),t.g=255*Math.pow(t.g/255,e),t.b=255*Math.pow(t.b/255,e),t}))})),Caman.Filter.register("noise",(function(e){return e=2.55*Math.abs(e),this.process("noise",(function(t){var n;return n=Caman.Calculate.randomRange(-1*e,e),t.r+=n,t.g+=n,t.b+=n,t}))})),Caman.Filter.register("clip",(function(e){return e=2.55*Math.abs(e),this.process("clip",(function(t){return t.r>255-e?t.r=255:t.r<e&&(t.r=0),t.g>255-e?t.g=255:t.g<e&&(t.g=0),t.b>255-e?t.b=255:t.b<e&&(t.b=0),t}))})),Caman.Filter.register("channels",(function(e){var t;if("object"!==r(e))return this;for(t in e)({}).hasOwnProperty.call(e,t)&&(0!==e[t]?e[t]/=100:delete e[t]);return 0===e.length?this:this.process("channels",(function(t){return null!=e.red&&(e.red>0?t.r+=(255-t.r)*e.red:t.r-=t.r*Math.abs(e.red)),null!=e.green&&(e.green>0?t.g+=(255-t.g)*e.green:t.g-=t.g*Math.abs(e.green)),null!=e.blue&&(e.blue>0?t.b+=(255-t.b)*e.blue:t.b-=t.b*Math.abs(e.blue)),t}))})),Caman.Filter.register("curves",(function(){var e,t,n,r,o,i,a,c,s,l,u,f;if(n=arguments[0],"function"==typeof(a=(r=2<=arguments.length?[].slice.call(arguments,1):[])[r.length-1])?(e=a,r.pop()):"string"==typeof a?(e=Caman.Calculate[a],r.pop()):e=Caman.Calculate.bezier,"string"==typeof n&&(n=n.split("")),"v"===n[0]&&(n=["r","g","b"]),r.length<2)throw"Invalid number of arguments to curves filter";if(t=e(r,0,255),(c=r[0])[0]>0)for(i=s=0,u=c[0];0<=u?s<u:s>u;i=0<=u?++s:--s)t[i]=c[1];if((o=r[r.length-1])[0]<255)for(i=l=f=o[0];f<=255?l<=255:l>=255;i=f<=255?++l:--l)t[i]=o[1];return this.process("curves",(function(e){var r,o;for(i=r=0,o=n.length;0<=o?r<o:r>o;i=0<=o?++r:--r)e[n[i]]=t[e[n[i]]];return e}))})),Caman.Filter.register("exposure",(function(e){var t,n,r;return t=[0,255*(r=Math.abs(e)/100)],n=[255-255*r,255],e<0&&(t=t.reverse(),n=n.reverse()),this.curves("rgb",[0,0],t,n,[255,255])}))},911:function(e,t,n){"use strict";var r=n(711),o=n(717);Caman.Plugin.register("crop",(function(e,t,n,o){var i;return null==n&&(n=0),null==o&&(o=0),i=document.createElement("canvas"),r.Util.copyAttributes(this.canvas,i),i.width=e,i.height=t,i.getContext("2d").drawImage(this.canvas,n,o,e,t,0,0,e,t),this.cropCoordinates={x:n,y:o},this.cropped=!0,this.replaceCanvas(i)})),Caman.Plugin.register("resize",(function(e){var t;if(null==e&&(e=null),null!==e&&(null!=e.width||null!=e.height))return null==e.width?e.width=this.canvas.width*e.height/this.canvas.height:null==e.height&&(e.height=this.canvas.height*e.width/this.canvas.width),t=document.createElement("canvas"),r.Util.copyAttributes(this.canvas,t),t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,e.width,e.height),this.resized=!0,this.replaceCanvas(t);o.Log.error("Invalid or missing dimensions given for resize")})),Caman.Filter.register("crop",(function(){return this.processPlugin("crop",Array.prototype.slice.call(arguments,0))})),Caman.Filter.register("resize",(function(){return this.processPlugin("resize",Array.prototype.slice.call(arguments,0))}))},912:function(e,t,n){"use strict";Caman.Filter.register("boxBlur",(function(){return this.processKernel("Box Blur",[1,1,1,1,1,1,1,1,1])})),Caman.Filter.register("heavyRadialBlur",(function(){return this.processKernel("Heavy Radial Blur",[0,0,1,0,0,0,1,1,1,0,1,1,1,1,1,0,1,1,1,0,0,0,1,0,0])})),Caman.Filter.register("gaussianBlur",(function(){return this.processKernel("Gaussian Blur",[1,4,6,4,1,4,16,24,16,4,6,24,36,24,6,4,16,24,16,4,1,4,6,4,1])})),Caman.Filter.register("motionBlur",(function(e){var t;return t=0===e||180===e?[0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0]:e>0&&e<90||e>180&&e<270?[0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0]:90===e||270===e?[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0]:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],this.processKernel("Motion Blur",t)})),Caman.Filter.register("sharpen",(function(e){return null==e&&(e=100),e/=100,this.processKernel("Sharpen",[0,-e,0,-e,4*e+1,-e,0,-e,0])}))},913:function(e,t,n){"use strict";Caman.Filter.register("vignette",(function(e,t){var n,r,o,i;return null==t&&(t=60),"string"==typeof e&&"%"===e.substr(-1)&&(e=this.dimensions.height>this.dimensions.width?this.dimensions.width*(parseInt(e.substr(0,e.length-1),10)/100):this.dimensions.height*(parseInt(e.substr(0,e.length-1),10)/100)),t/=100,r=[this.dimensions.width/2,this.dimensions.height/2],i=Math.sqrt(Math.pow(r[0],2)+Math.pow(r[1],2)),o=i-e,n=Caman.Calculate.bezier([0,1],[30,30],[70,60],[100,80]),this.process("vignette",(function(i){var a,c,s;return s=i.locationXY(),(a=Caman.Calculate.distance(s.x,s.y,r[0],r[1]))>o&&(c=Math.max(1,n[Math.round((a-o)/e*100)]/10*t),i.r=255*Math.pow(i.r/255,c),i.g=255*Math.pow(i.g/255,c),i.b=255*Math.pow(i.b/255,c)),i}))}))},914:function(e,t,n){"use strict";Caman.Filter.register("posterize",(function(e){var t,n;return t=256/e,n=255/(e-1),this.process("posterize",(function(e){return e.r=Math.floor(Math.floor(e.r/t)*n),e.g=Math.floor(Math.floor(e.g/t)*n),e.b=Math.floor(Math.floor(e.b/t)*n),e}))}))},915:function(e,t,n){"use strict";Caman.Filter.register("edgeEnhance",(function(){return this.processKernel("Edge Enhance",[0,0,0,-1,1,0,0,0,0])})),Caman.Filter.register("edgeDetect",(function(){return this.processKernel("Edge Detect",[-1,-1,-1,-1,8,-1,-1,-1,-1])})),Caman.Filter.register("emboss",(function(){return this.processKernel("Emboss",[-2,-1,0,-1,1,1,0,1,2])}))},916:function(e,t,n){"use strict";Caman.Filter.register("grungy",(function(){return this.gamma(1.5),this.clip(25),this.saturation(-60),this.contrast(5),this.noise(5),this.vignette("50%",30)}))},917:function(e,t,n){"use strict";Caman.Filter.register("hazyDays",(function(){return this.gamma(1.2),this.newLayer((function(){return this.setBlendingMode("overlay"),this.opacity(60),this.copyParent(),this.filter.channels({red:5}),this.filter.stackBlur(15)})),this.newLayer((function(){return this.setBlendingMode("addition"),this.opacity(40),this.fillColor("#6899ba")})),this.newLayer((function(){return this.setBlendingMode("multiply"),this.opacity(35),this.copyParent(),this.filter.brightness(40),this.filter.vibrance(40),this.filter.exposure(30),this.filter.contrast(15),this.filter.curves("r",[0,40],[128,128],[128,128],[255,215]),this.filter.curves("g",[0,40],[128,128],[128,128],[255,215]),this.filter.curves("b",[0,40],[128,128],[128,128],[255,215]),this.filter.stackBlur(5)})),this.curves("r",[20,0],[128,158],[128,128],[235,255]),this.curves("g",[20,0],[128,128],[128,128],[235,255]),this.curves("b",[20,0],[128,108],[128,128],[235,255]),this.vignette("45%",20)}))},918:function(e,t,n){"use strict";Caman.Filter.register("lomo",(function(e){return null==e&&(e=!0),this.brightness(15),this.exposure(15),this.curves("rgb",[0,0],[200,0],[155,255],[255,255]),this.saturation(-20),this.gamma(1.8),e&&this.vignette("50%",60),this.brightness(5)}))},919:function(e,t,n){"use strict";var r,o,i,a=n(711);r=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],i=function(){return this.r=0,this.g=0,this.b=0,this.a=0,this.next=null},Caman.Plugin.register("compoundBlur",(function(e,t,n,a){var c,s,l,u=this.dimensions.width,f=this.dimensions.height,p=this.pixelData,d=e.data,h=u*f,m=[];for(c=0,s=0<=(l=h<<2);s?c<l:c>l;s?c++:c--)m[c]=p[c];var g=0,v=a;for(a-=1;v-- >=0;){var b,y,w,x,O,S,C,k,_,E,P,j,R,M,A,D,I,T,B,z,L,F,W,N=t+.5|0;if(0!==N){N>256&&(N=256);var H=N+N+1,U=u-1,Y=f-1,V=N+1,X=V*(V+1)/2,G=new i,Z=void 0,q=G;for(c=1,b=1<=(y=H);b?c<y:c>y;b?c++:c--)q=q.next=new i,c===V&&(Z=q);q.next=G;var K=null,Q=null,J=B=0,$=r[N],ee=o[N];for(T=0,z=0<=(L=f);z?T<L:T>L;z?T++:T--){var te,ne,re,oe,ie,ae;for(R=S=w=A=k=O=0,M=V*(j=m[B]),C=V*(P=m[B+1]),x=V*(E=m[B+2]),A+=X*j,k+=X*P,O+=X*E,q=G,c=0,te=0<=(ne=V);te?c<ne:c>ne;te?c++:c--)q.r=j,q.g=P,q.b=E,q=q.next;for(c=1,re=1<=(oe=V);re?c<oe:c>oe;re?c++:c--)_=B+((U<c?U:c)<<2),A+=(q.r=j=m[_])*(D=V-c),k+=(q.g=P=m[_+1])*D,O+=(q.b=E=m[_+2])*D,R+=j,S+=P,w+=E,q=q.next;for(K=G,Q=Z,I=0,ie=0<=(ae=u);ie?I<ae:I>ae;ie?I++:I--)m[B]=A*$>>ee,m[B+1]=k*$>>ee,m[B+2]=O*$>>ee,A-=M,k-=C,O-=x,M-=K.r,C-=K.g,x-=K.b,_=J+((_=I+V)<U?_:U)<<2,A+=R+=K.r=m[_],k+=S+=K.g=m[_+1],O+=w+=K.b=m[_+2],K=K.next,M+=j=Q.r,C+=P=Q.g,x+=E=Q.b,R-=j,S-=P,w-=E,Q=Q.next,B+=4;J+=u}for(I=0,F=0<=(W=u);F?I<W:I>W;F?I++:I--){var ce,se,le,ue,fe,pe;for(S=w=R=k=O=A=0,M=V*(j=m[B=I<<2]),C=V*(P=m[B+1]),x=V*(E=m[B+2]),A+=X*j,k+=X*P,O+=X*E,q=G,c=0,ce=0<=(se=V);ce?c<se:c>se;ce?c++:c--)q.r=j,q.g=P,q.b=E,q=q.next;var de=u;for(c=1,le=1<=(ue=V);le?c<ue:c>ue;le?c++:c--)B=de+I<<2,A+=(q.r=j=m[B])*(D=V-c),k+=(q.g=P=m[B+1])*D,O+=(q.b=E=m[B+2])*D,R+=j,S+=P,w+=E,q=q.next,c<Y&&(de+=u);for(B=I,K=G,Q=Z,T=0,fe=0<=(pe=f);fe?T<pe:T>pe;fe?T++:T--)m[_=B<<2]=A*$>>ee,m[_+1]=k*$>>ee,m[_+2]=O*$>>ee,A-=M,k-=C,O-=x,M-=K.r,C-=K.g,x-=K.b,_=I+((_=T+V)<Y?_:Y)*u<<2,A+=R+=K.r=m[_],k+=S+=K.g=m[_+1],O+=w+=K.b=m[_+2],K=K.next,M+=j=Q.r,C+=P=Q.g,x+=E=Q.b,R-=j,S-=P,w-=E,Q=Q.next,B+=u}for(t*=n,c=h;--c>-1;){var he=c<<2,me=(255&d[he+2])/255*a,ge=0|me;if(ge===g){var ve=256*(me-(0|me)),be=256-ve;p[he]=p[he]*be+m[he]*ve>>8,p[he+1]=p[he+1]*be+m[he+1]*ve>>8,p[he+2]=p[he+2]*be+m[he+2]*ve>>8}else ge===g+1&&(p[he]=m[he],p[he+1]=m[he+1],p[he+2]=m[he+2])}g++}}return this})),Caman.Filter.register("tiltShift",(function(e){var t={center:{x:this.dimensions.width/2,y:this.dimensions.height/2},angle:45,focusWidth:200,startRadius:3,radiusFactor:1.5,steps:3};(e=a.Util.extend(t,e)).angle*=Math.PI/180;var n=function(e,t,n,r,o,i,a){var c=document.createElement("canvas");c.width=e,c.height=t;var s=n+Math.cos(o)*i*.5,l=r+Math.sin(o)*i*.5,u=n-Math.cos(o)*i*.5,f=r-Math.sin(o)*i*.5,p=c.getContext("2d"),d=p.createLinearGradient(s,l,u,f);return a?(d.addColorStop(0,"white"),d.addColorStop(.5,"black"),d.addColorStop(1,"white")):(d.addColorStop(0,"white"),d.addColorStop(1,"black")),p.fillStyle=d,p.fillRect(0,0,e,t),p.getImageData(0,0,e,t)}(this.dimensions.width,this.dimensions.height,e.center.x,e.center.y,e.angle,e.focusWidth,!0);return this.processPlugin("compoundBlur",[n,e.startRadius,e.radiusFactor,e.steps])})),Caman.Filter.register("radialBlur",(function(e){var t={size:50,center:{x:this.dimensions.width/2,y:this.dimensions.height/2},startRadius:3,radiusFactor:1.5,steps:3,radius:null};(e=a.Util.extend(t,e)).radius||(e.radius=this.dimensions.width<this.dimensions.height?this.dimensions.height:this.dimensions.width);var n=e.radius/2-e.size,r=e.radius/2,o=function(e,t,n,r,o,i){var a=document.createElement("canvas");a.width=e,a.height=t;var c=a.getContext("2d"),s=c.createRadialGradient(n,r,o,n,r,i);return s.addColorStop(1,"white"),s.addColorStop(0,"black"),c.fillStyle=s,c.fillRect(0,0,e,t),c.getImageData(0,0,e,t)}(this.dimensions.width,this.dimensions.height,e.center.x,e.center.y,n,r);return this.processPlugin("compoundBlur",[o,e.startRadius,e.radiusFactor,e.steps])}))},920:function(e,t,n){"use strict";Caman.Filter.register("sinCity",(function(){return this.contrast(100),this.brightness(15),this.exposure(10),this.posterize(80),this.clip(30),this.greyscale()}))},921:function(e,t,n){"use strict";Caman.Filter.register("crossProcess",(function(){return this.exposure(5),this.colorize("#e87b22",4),this.sepia(20),this.channels({blue:8,red:3}),this.curves("b",[0,0],[100,150],[180,180],[255,255]),this.contrast(15),this.vibrance(75),this.gamma(1.6)}))},922:function(e,t,n){"use strict";Caman.Filter.register("glowingSun",(function(e){if(null==e&&(e=!0),this.brightness(10),this.newLayer((function(){return this.setBlendingMode("multiply"),this.opacity(80),this.copyParent(),this.filter.gamma(.8),this.filter.contrast(50),this.filter.exposure(10)})),this.newLayer((function(){return this.setBlendingMode("softLight"),this.opacity(80),this.fillColor("#f49600")})),this.exposure(20),this.gamma(.8),e)return this.vignette("45%",20)}))},923:function(e,t,n){"use strict";Caman.Filter.register("jarques",(function(){return this.saturation(-35),this.curves("b",[20,0],[90,120],[186,144],[255,230]),this.curves("r",[0,0],[144,90],[138,120],[255,255]),this.curves("g",[10,0],[115,105],[148,100],[255,248]),this.curves("rgb",[0,0],[120,100],[128,140],[255,255]),this.sharpen(20)}))},924:function(e,t,n){"use strict";Caman.Filter.register("love",(function(){return this.brightness(5),this.exposure(8),this.contrast(4),this.colorize("#c42007",30),this.vibrance(50),this.gamma(1.3)}))},925:function(e,t,n){"use strict";Caman.Filter.register("oldBoot",(function(){return this.saturation(-20),this.vibrance(-50),this.gamma(1.1),this.sepia(30),this.channels({red:-10,blue:5}),this.curves("rgb",[0,0],[80,50],[128,230],[255,255]),this.vignette("60%",30)}))},926:function(e,t,n){"use strict";Caman.Filter.register("orangePeel",(function(){return this.curves("rgb",[0,0],[100,50],[140,200],[255,255]),this.vibrance(-30),this.saturation(-30),this.colorize("#ff9000",30),this.contrast(-5),this.gamma(1.4)}))},927:function(e,t,n){"use strict";Caman.Filter.register("pinhole",(function(){return this.greyscale(),this.sepia(10),this.exposure(10),this.contrast(15),this.vignette("60%",35)}))},928:function(e,t,n){"use strict";Caman.Filter.register("sunrise",(function(){return this.exposure(3.5),this.saturation(-5),this.vibrance(50),this.sepia(60),this.colorize("#e87b22",10),this.channels({red:8,blue:8}),this.contrast(5),this.gamma(1.2),this.vignette("55%",25)}))},929:function(e,t,n){"use strict";Caman.Filter.register("vintage",(function(e){if(null==e&&(e=!0),this.greyscale(),this.contrast(5),this.noise(3),this.sepia(100),this.channels({red:8,blue:2,green:4}),this.gamma(.87),e)return this.vignette("40%",30)}))},930:function(e,t,n){"use strict";var r=n(711);function o(e){return e*(Math.PI/180)}Caman.Plugin.register("rotate",(function(e){var t,n,i,a,c,s,l,u;if(0===(t=e%360))return this.dimensions={width:this.canvas.width,height:this.canvas.height};if(c=Math.PI/180,n=document.createElement("canvas"),r.Util.copyAttributes(this.canvas,n),90===t||-270===t||270===t||-90===t)l=(s=this.canvas.height)/2,u=(a=this.canvas.width)/2;else if(180===t)l=(s=this.canvas.width)/2,u=(a=this.canvas.height)/2;else{var f=Math.sin(o(Math.abs(t))),p=Math.cos(o(Math.abs(t)));l=(s=Math.abs(Math.abs(this.canvas.height*f)-Math.abs(this.canvas.width*p)))/2,u=(a=Math.abs(Math.abs(this.canvas.height*p)-Math.abs(this.canvas.width*f)))/2}return n.width=s,n.height=a,(i=n.getContext("2d")).save(),i.translate(l,u),i.rotate(t*c),i.drawImage(this.canvas,-this.canvas.width/2,-this.canvas.height/2,this.canvas.width,this.canvas.height),i.restore(),this.angle+=e,this.rotated=!0,this.replaceCanvas(n)})),Caman.Filter.register("rotate",(function(){return this.processPlugin("rotate",Array.prototype.slice.call(arguments,0))}))},931:function(e,t,n){"use strict";var r,o,i;o=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],i=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],r=function(){return this.r=0,this.g=0,this.b=0,this.a=0,this.next=null},Caman.Plugin.register("stackBlur",(function(e){var t,n,a,c,s,l,u,f,p,d,h,m,g,v,b,y,w,x,O,S,C,k,_,E,P,j,R,M,A,D,I,T,B,z,L,F,W,N,H,U,Y,V,X,G;if(!(isNaN(e)||e<1)){for(e|=0,b=this.pixelData,c=e+e+1,(A=this.dimensions.width)<<2,D=A-1,p=(f=this.dimensions.height)-1,M=(S=e+1)*(S+1)/2,_=R=new r,d=F=1;1<=c?F<c:F>c;d=1<=c?++F:--F)_=_.next=new r,d===S&&(E=_);for(_.next=R,P=null,j=null,L=B=0,h=o[e],k=i[e],T=W=0;0<=f?W<f:W>f;T=0<=f?++W:--W){for(w=s=t=O=u=a=0,x=S*(y=b[B]),l=S*(v=b[B+1]),n=S*(g=b[B+2]),O+=M*y,u+=M*v,a+=M*g,_=R,d=N=0;0<=S?N<S:N>S;d=0<=S?++N:--N)_.r=y,_.g=v,_.b=g,_=_.next;for(d=H=1;1<=S?H<S:H>S;d=1<=S?++H:--H)m=B+((D<d?D:d)<<2),O+=(_.r=y=b[m])*(C=S-d),u+=(_.g=v=b[m+1])*C,a+=(_.b=g=b[m+2])*C,w+=y,s+=v,t+=g,_=_.next;for(P=R,j=E,I=U=0;0<=A?U<A:U>A;I=0<=A?++U:--U)b[B]=O*h>>k,b[B+1]=u*h>>k,b[B+2]=a*h>>k,O-=x,u-=l,a-=n,x-=P.r,l-=P.g,n-=P.b,m=L+((m=I+e+1)<D?m:D)<<2,O+=w+=P.r=b[m],u+=s+=P.g=b[m+1],a+=t+=P.b=b[m+2],P=P.next,x+=y=j.r,l+=v=j.g,n+=g=j.b,w-=y,s-=v,t-=g,j=j.next,B+=4;L+=A}for(I=Y=0;0<=A?Y<A:Y>A;I=0<=A?++Y:--Y){for(s=t=w=u=a=O=0,x=S*(y=b[B=I<<2]),l=S*(v=b[B+1]),n=S*(g=b[B+2]),O+=M*y,u+=M*v,a+=M*g,_=R,d=V=0;0<=S?V<S:V>S;d=0<=S?++V:--V)_.r=y,_.g=v,_.b=g,_=_.next;for(z=A,d=X=1;1<=e?X<=e:X>=e;d=1<=e?++X:--X)B=z+I<<2,O+=(_.r=y=b[B])*(C=S-d),u+=(_.g=v=b[B+1])*C,a+=(_.b=g=b[B+2])*C,w+=y,s+=v,t+=g,_=_.next,d<p&&(z+=A);for(B=I,P=R,j=E,T=G=0;0<=f?G<f:G>f;T=0<=f?++G:--G)b[m=B<<2]=O*h>>k,b[m+1]=u*h>>k,b[m+2]=a*h>>k,O-=x,u-=l,a-=n,x-=P.r,l-=P.g,n-=P.b,m=I+((m=T+S)<p?m:p)*A<<2,O+=w+=P.r=b[m],u+=s+=P.g=b[m+1],a+=t+=P.b=b[m+2],P=P.next,x+=y=j.r,l+=v=j.g,n+=g=j.b,w-=y,s-=v,t-=g,j=j.next,B+=A}return this}})),Caman.Filter.register("stackBlur",(function(e){return this.processPlugin("stackBlur",[e])}))},932:function(e,t,n){"use strict";Caman.Plugin.register("flip",(function(e){var t,n,r,o;return r=this.canvas.width,o=this.canvas.height,(t=document.createElement("canvas")).width=r,t.height=o,t.id=this.canvas.id,n=t.getContext("2d"),"x"===e?(n.translate(r,0),n.scale(-1,1)):"y"===e&&(n.translate(0,o),n.scale(1,-1)),n.drawImage(this.canvas,0,0),this.replaceCanvas(t),this})),Caman.Filter.register("flip",(function(){return this.processPlugin("flip",arguments)}))},933:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Modal=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(55),a=(r=n(2))&&r.__esModule?r:{default:r},c=n(934),s=n(704),l=n(702);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(){var e=S(["\n  azimuth: center;\n  border-collapse: separate;\n  border-spacing: 0;\n  caption-side: top;\n  cursor: auto;\n  direction: ltr;\n  elevation: level;\n  empty-cells: show;\n  font-size: medium;\n  font-style: medium;\n  font-variant: medium;\n  font-weight: medium;\n  letter-spacing: normal;\n  line-height: medium;\n  list-style-image: none;\n  list-style-position: outside;\n  list-style-type: disc;\n  list-style: disc outside none;\n  orphans: 2;\n  pitch-range: 50;\n  pitch: medium;\n  quotes: '\"' '\"';\n  richness: 50;\n  speak-header: once;\n  speak-numeral: continuous;\n  speak-punctuation: none;\n  speak: normal;\n  speech-rate: medium;\n  stress: 50;\n  text-align: left;\n  text-indent: 0;\n  text-transform: none;\n  visibility: visible;\n  voice-family: none;\n  volume: medium;\n  white-space: normal;\n  widows: 2;\n  word-spacing: 0;\n  position: fixed;\n  padding: ",";\n  top: 5%;\n  left: 15%;\n  right: 15%;\n  bottom: 5%;\n  color: ",";\n  overflow: hidden;\n  z-index: ",";\n  display: block;\n  animation: scaleflexFadeInAnimation 350ms ease-in-out both;\n  font-family: 'Roboto', 'Arial', sans-serif;\n  \n  ",";\n  \n  @keyframes scaleflexFadeInAnimation {\n    from {opacity: 0;}\n    to {opacity: 1;}\n  }\n  \n  @media (max-width: 1000px) {\n    top: 20px;\n    left: 20px;\n    bottom: 20px;\n    right: 20px;\n  }\n"]);return w=function(){return e},e}function x(){var e=S(["\n  position: relative;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -webkit-background-clip: padding-box;\n  background-clip: padding-box;\n  border: "," solid ",";\n  border-radius: ",";\n  overflow: hidden;\n  outline: 0;\n  height: ",";\n  background: ",";\n  color: ",";\n"]);return x=function(){return e},e}function O(){var e=S(["\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: fixed;\n  background: ",";\n  opacity: .4;\n  z-index: 999999992;\n"]);return O=function(){return e},e}function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var C=a.default.div(O(),(function(e){return s.variables.colors.background.base||"#000"})),k=a.default.div(x(),(function(e){return e.noBorder?0:"1px"}),(function(e){return e.noBorder?"transparent":s.variables.colors.border.base||"#B0B0B0"}),(function(e){return e.noBorder?0:s.variables.radii[3]}),(function(e){return e.h||e.height||"auto"}),(function(e){return s.variables.colors.background.base||"#fff"}),(function(e){return s.variables.colors.text||"#3d3d3d"})),_=a.default.div(w(),(function(e){return e.p||e.padding||"0"}),(function(e){return s.variables.colors.text||"#3d3d3d"}),(function(e){return e.zIndex||"999999995"}),(function(e){return e.isTooSmall?"\n    top: 20% !important;\n    left: 15px !important;\n    right: 15px !important;\n    bottom: auto !important;\n    color: black !important;\n    text-align: center !important;\n    font-size: 18px;\n    \n    > div {\n      padding: 40px !important;\n    }\n    \n    * {\n      color: black !important;\n    }\n  ":""}));var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,n,r,a=g(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(b(t=a.call(this,e)),"handleOutsideMouseClick",(function(e){var n=t.props.onClose,r=void 0===n?function(){}:n;27===e.keyCode&&(e.stopPropagation(),r(l.ON_CLOSE_STATUSES.ESC_KEY_PRESSED))})),t.root=document.createElement("div"),t.root.classList.add("filerobot-image-editor-root"),document.body.appendChild(t.root);var n=t.props.closeOnOutsideClick;return(void 0===n||n)&&document.addEventListener("keydown",t.handleOutsideMouseClick),t}return t=s,(n=[{key:"componentWillUnmount",value:function(){var e=this.props.closeOnOutsideClick,t=void 0===e||e;document.body.removeChild(this.root),t&&document.removeEventListener("keydown",this.handleOutsideMouseClick)}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=void 0===t?function(){}:t,r=e.isHideCloseBtn,a=e.configModalId,s=d(e,["onClose","isHideCloseBtn","configModalId"]);return(0,i.createPortal)(o.default.createElement(o.Fragment,null,o.default.createElement(C,{className:"modal-overlay",onClick:function(){return n(l.ON_CLOSE_STATUSES.MODAL_OVERLAY_CLICKED)}}),o.default.createElement(_,p({id:a||l.MODAL_ID},this.props),!r&&o.default.createElement(c.CloseBtn,{onClick:n}),o.default.createElement(k,p({h:"100%"},s),this.props.children))),this.root)}}])&&h(t.prototype,n),r&&h(t,r),s}(o.Component);t.Modal=E},934:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseBtn=void 0;var r,o=(r=n(2))&&r.__esModule?r:{default:r},i=n(704);function a(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  cursor: pointer;\n  position: absolute;\n  font-weight: normal;\n  top: ",";\n  right: ",";\n  left: ",";\n  bottom: ",";\n  font-size: ",";\n  z-index: 10;\n  font-family: 'filerobot-image-editor-font' !important;\n  color: ",";\n  speak: none;\n  font-style: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  \n  :hover {\n    color: ",";\n  }\n  \n  :before {\n      content: '\\e90c'\n    }\n"],["\n  cursor: pointer;\n  position: absolute;\n  font-weight: normal;\n  top: ",";\n  right: ",";\n  left: ",";\n  bottom: ",";\n  font-size: ",";\n  z-index: 10;\n  font-family: 'filerobot-image-editor-font' !important;\n  color: ",";\n  speak: none;\n  font-style: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  \n  :hover {\n    color: ",";\n  }\n  \n  :before {\n      content: '\\\\e90c'\n    }\n"]);return a=function(){return e},e}var c=o.default.span.attrs((function(){return{role:"button"}}))(a(),(function(e){return e.t||"10px"}),(function(e){return e.r||"10px"}),(function(e){return e.l||"auto"}),(function(e){return e.b||"auto"}),(function(e){return e.fz||"18px"}),(function(){return i.variables.modal.colorMuted}),(function(e){return i.variables.modal.colorMutedHover}));t.CloseBtn=c},935:function(e,t,n){var r=n(936);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0};n(37)(r,o);r.locals&&(e.exports=r.locals)},936:function(e,t,n){(e.exports=n(36)(void 0)).push([e.i,'@font-face {\n  font-family: \'filerobot-image-editor-font\';\n  src:  url(\'https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/fonts/filerobot-image-editor-font/v4/filerobot-image-editor-font.eot?ua0hzun3\');\n  src:  url(\'https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/fonts/filerobot-image-editor-font/v4/filerobot-image-editor-font.eot?ua0hzun3#iefix\') format(\'embedded-opentype\'),\n  url(\'https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/fonts/filerobot-image-editor-font/v4/filerobot-image-editor-font.ttf?ua0hzun3\') format(\'truetype\'),\n  url(\'https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/fonts/filerobot-image-editor-font/v4/filerobot-image-editor-font.woff?ua0hzun3\') format(\'woff\'),\n  url(\'https://cdn.scaleflex.it/plugins/filerobot-image-editor/assets/fonts/filerobot-image-editor-font/v4/filerobot-image-editor-font.svg?ua0hzun3#filerobot-image-editor-font\') format(\'svg\');\n  font-weight: normal;\n  font-style: normal;\n}\n\n[class^="sf-i-"], [class*=" sf-i-"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'filerobot-image-editor-font\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.sf-i-shape:before {\n  content: "\\E91B";\n}\n.sf-i-image:before {\n  content: "\\E91A";\n}\n.sf-i-focus-point:before {\n  content: "\\E919";\n}\n.sf-i-watermark:before {\n  content: "\\E918";\n}\n.sf-i-attention:before {\n  content: "\\E917";\n}\n.sf-i-reset:before {\n  content: "\\E912";\n}\n.sf-i-rotate-right:before {\n  content: "\\E913";\n}\n.sf-i-flip-vertically:before {\n  content: "\\E914";\n}\n.sf-i-rotate-left:before {\n  content: "\\E915";\n}\n.sf-i-flip-horizontally:before {\n  content: "\\E916";\n}\n.sf-i-arrows-back:before {\n  content: "\\E905";\n}\n.sf-i-arrows-forward:before {\n  content: "\\E906";\n}\n.sf-i-filter:before {\n  content: "\\E904";\n}\n.sf-i-minus:before {\n  content: "\\E910";\n}\n.sf-i-plus:before {\n  content: "\\E911";\n}\n.sf-i-effects:before {\n  content: "\\E900";\n}\n.sf-i-crop:before {\n  content: "\\E901";\n}\n.sf-i-rotation-left:before {\n  content: "\\E902";\n}\n.sf-i-mirror-vertical:before {\n  content: "\\E903";\n}\n.sf-i-resize:before {\n  content: "\\E907";\n}\n.sf-i-rotation-right:before {\n  content: "\\E908";\n}\n.sf-i-mirrot-horizontal:before {\n  content: "\\E909";\n}\n.sf-i-adjust:before {\n  content: "\\E90A";\n}\n.sf-i-orientation:before {\n  content: "\\E90B";\n}\n.sf-i-cross:before {\n  content: "\\E90C";\n}\n.sf-i-point-orientation:before {\n  content: "\\E90D";\n}\n.sf-i-link:before {\n  content: "\\E90E";\n}\n.sf-i-without-link:before {\n  content: "\\E90F";\n}\n',""])},937:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(938)),o=a(n(939)),i=a(n(940));function a(e){return e&&e.__esModule?e:{default:e}}var c={en:r.default,fr:o.default,"zh-cn":i.default};t.default=c},938:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"header.image_editor_title":"Filerobot Image Editor","header.toggle_fullscreen":"Toggle fullscreen","header.close_modal":"Close window","toolbar.download":"Download","toolbar.save":"Save","toolbar.apply":"Apply","toolbar.cancel":"Cancel","toolbar.go_back":"Go Back","toolbar.adjust":"Adjust","toolbar.effects":"Effects","toolbar.filters":"Filters","toolbar.orientation":"Orientation","toolbar.crop":"Crop","toolbar.resize":"Resize","toolbar.watermark":"Watermark","toolbar.focus_point":"Focus point","toolbar.shapes":"Shapes","toolbar.image":"Image","toolbar.text":"Text","adjust.brightness":"Brightness","adjust.contrast":"Contrast","adjust.exposure":"Exposure","adjust.saturation":"Saturation","orientation.rotate_l":"Rotate Left","orientation.rotate_r":"Rotate Right","orientation.flip_h":"Flip Horizontally","orientation.flip_v":"Flip Vertically","pre_resize.title":"Would you like to reduce resolution before editing the image?","pre_resize.keep_original_resolution":"Keep original resolution","pre_resize.resize_n_continue":"Resize & Continue","footer.reset":"Reset","footer.undo":"Undo","footer.redo":"Redo","spinner.label":"Processing...","warning.too_big_resolution":"The resolution of the image is too big for the web. It can cause problems with Image Editor performance.","common.x":"x","common.y":"y","common.width":"width","common.height":"height","common.custom":"custom","common.original":"original","common.square":"square","common.opacity":"Opacity","common.apply_watermark":"Apply watermark","common.url":"URL","common.upload":"Upload","common.gallery":"Gallery","common.text":"Text"}},939:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"header.image_editor_title":"Éditeur d'Image Filerobot","toolbar.download":"Télécharger","toolbar.save":"Sauvegarder","toolbar.apply":"Appliquer","toolbar.cancel":"Annuler","toolbar.go_back":"Retour","toolbar.adjust":"Ajuster","toolbar.effects":"Effets","toolbar.filters":"Filtres","toolbar.orientation":"Orientation","toolbar.crop":"Rogner","toolbar.resize":"Redimensionner","toolbar.watermark":"Watermark","toolbar.focus_point":"Focus point","toolbar.shapes":"Shapes","toolbar.image":"Image","toolbar.text":"Text","adjust.brightness":"Luminosité","adjust.contrast":"Contraste","adjust.exposure":"Exposition","adjust.saturation":"Saturation","orientation.rotate_l":"Rotation Gauche","orientation.rotate_r":"Rotation Droite","orientation.flip_h":"Miroir Horizontal","orientation.flip_v":"Miroir Vertical","pre_resize.title":"Voulez-vous réduire la résolution de l'image avant d'éditer l'image ?","pre_resize.keep_original_resolution":"Conserver la résolution d'origine","pre_resize.resize_n_continue":"Redimensionner et Continuer","footer.reset":"Réinitialiser","footer.undo":"Annuler","footer.redo":"Refaire","spinner.label":"Transformation...","warning.too_big_resolution":"La résolution de l'image est trop grande pour le web et peut endommager les performances de l'Éditeur d'Image Filerobot.","common.x":"x","common.y":"y","common.width":"largeur","common.height":"hauteur","common.custom":"custom","common.original":"original","common.square":"carré","common.opacity":"opacité","common.apply_watermark":"Appliquer watermark","common.url":"URL","common.upload":"Upload","common.gallery":"Gallery"}},940:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"header.image_editor_title":"Filerobot 图片编辑器","toolbar.download":"下载","toolbar.save":"保存","toolbar.apply":"应用","toolbar.cancel":"取消","toolbar.go_back":"后退","toolbar.adjust":"调整","toolbar.effects":"效果","toolbar.filters":"滤镜","toolbar.orientation":"方向","toolbar.crop":"裁切","toolbar.resize":"缩放","toolbar.watermark":"水印","toolbar.focus_point":"Focus point","toolbar.shapes":"Shapes","toolbar.image":"Image","toolbar.text":"Text","adjust.brightness":"亮度","adjust.contrast":"对比对","adjust.exposure":"曝光度","adjust.saturation":"饱和度","orientation.rotate_l":"向左旋转","orientation.rotate_r":"向右旋转","orientation.flip_h":"水平翻转","orientation.flip_v":"垂直翻转","pre_resize.title":"是否需要在开始编辑之前缩小图片的分辨率?","pre_resize.keep_original_resolution":"保持原始分辨率","pre_resize.resize_n_continue":"缩小并继续","footer.reset":"重置","footer.undo":"撤销","footer.redo":"重做","spinner.label":"处理中...","warning.too_big_resolution":"图片的分辨率过大，这会严重影响图片编辑器的性能。","common.x":"x","common.y":"y","common.width":"宽度","common.height":"高度","common.custom":"自定义","common.original":"原始比例","common.square":"方形","common.banner":"通栏","common.opacity":"透明度","common.apply_watermark":"应用水印","common.url":"URL","common.upload":"Upload","common.gallery":"Gallery"}},941:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={colors:{primaryBg:"#1e262c",primaryBgHover:"#637381",secondaryBg:"#263138",secondaryBgHover:"#34444c",text:"#F9FAFB",textHover:"#fff",textMute:"#aaa",textWarn:"#f7931e",secondaryBgOpacity:"rgba(0, 0, 0, 0.75)",accent:"#00707c",border:"#161e23",borderLight:"#70777f",disabledBg:"rgba(255, 0, 0, 0.1)"}}},942:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={colors:{primaryBg:"#f2f2f2",primaryBgHover:"#fff",secondaryBg:"#fff",secondaryBgHover:"#f9fafb",secondaryBgOpacity:"rgba(255,255,255, 0.75)",text:"#34444c",textHover:"#1a2329",textMute:"#aaa",textWarn:"#f7931e",accent:"#00707c",border:"#aeaeae",borderLight:"#e1e1e1",disabledBg:"rgba(255, 0, 0, 0.1)"}}},943:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isServerSide=void 0;var r="undefined"==typeof window||"undefined"==typeof CanvasRenderingContext2D;t.isServerSide=r}}]);